(this.webpackJsonpebiz=this.webpackJsonpebiz||[]).push([[20],{421:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(10),c=a(176),i=a(15),l=(a(2),a(433)),s=a(0),r=["children","isFocused","isDisabled"],o={Control:function(e){var t=e.children,a=e.isFocused,o=e.isDisabled,d=Object(c.a)(e,r);return Object(s.jsx)(l.l.Control,Object(n.a)(Object(n.a)({className:Object(i.a)("form-control border-0 form-control-lg-select form-control-solid",{focus:a,disabled:o}),isFocused:!0,isDisabled:!0},d),{},{children:t}))},IndicatorSeparator:function(){return null}}},424:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(30),c=a(78),i=a(10),l=a(11),s=a(27),r=a.n(s),o=a(2),d=a(426);function u(e,t){var a=Object(o.useState)(t),s=Object(l.a)(a,2),u=s[0],b=s[1],j=Object(o.useCallback)((function(e){b((function(t){return t.refreshing||t.total>0&&!Math.ceil(t.total/t.limit)?t:Object(i.a)(Object(i.a)({},t),{},{loading:!0,refreshing:!1,page:e})}))}),[]),m=Object(o.useCallback)((function(e){b((function(t){return Object(i.a)(Object(i.a)({},t),{},{loading:!0,refreshing:!0,page:1,total:0,query:e(t.query)})}))}),[]),f=Object(o.useCallback)((function(e){b((function(t){return Object(i.a)(Object(i.a)({},t),{},{loading:!0,refreshing:!0,page:1,total:0,limit:e})}))}),[]),v=Object(o.useCallback)((function(){var t=!0,a=r.a.CancelToken.source(),i=function(){var i=Object(c.a)(Object(n.a)().mark((function c(){var i;return Object(n.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(d.a)(b);case 2:if((i=n.sent).loading||i.refreshing){n.next=5;break}return n.abrupt("return");case 5:e(i,b,(function(){return t}),a.token);case 6:case"end":return n.stop()}}),c)})));return function(){return i.apply(this,arguments)}}();return i(),function(){t=!1,a.cancel()}}),[e]);return Object(o.useEffect)(v,[u.loading,u.refreshing]),{state:u,setPage:j,setQuery:m,setLimit:f,setState:b}}},425:function(e,t,a){"use strict";var n=a(2),c=a(28),i=a(0);t.a=function(e){var t=e.loading,a=e.limit,l=e.setPerPage,s=e.page,r=e.setPage,o=e.maxData,d=Object(n.useMemo)((function(){return Math.ceil(o/a)}),[o,a]),u=Object(n.useMemo)((function(){var e=[];if(0===d)return e;var t=Math.min(d,Math.max(0,s));if(d<8)for(var a=1;a<=d;a++)e.push(a);else t>4?e.push(1,void 0,Math.min(t,d-3)-1):e.push(1,2,3,4),t+3<d?(t>4&&e.push(t),e.push(Math.max(t,4)+1,void 0,d)):e.push(d-3,d-2,d-1,d);return e}),[d,s]);return Object(i.jsxs)("div",{className:"d-flex flex-wrap",children:[Object(i.jsxs)("div",{className:"mb-4 w-md-auto w-100 d-flex align-items-center",children:[Object(i.jsxs)("div",{className:"position-relative",children:[Object(i.jsx)(c.a,{src:"/media/icons/efood/IconChevronDown.svg",className:"position-absolute translate-middle-y top-50 me-4 end-0 pe-none"}),Object(i.jsxs)("select",{className:"form-control form-control-sm form-control-solid pe-13",autoComplete:"off",value:a,onChange:function(e){return l(Number(e.currentTarget.value))},children:[Object(i.jsx)("option",{children:"10"}),Object(i.jsx)("option",{children:"20"}),Object(i.jsx)("option",{children:"50"}),Object(i.jsx)("option",{children:"100"})]})]}),t||0===o?null:Object(i.jsxs)("span",{className:"ms-5 flex-shrink-0",children:["Menampilkan ",(s-1)*a+1,"-",Math.min(o,(s-1)*a+a)," ","dari ",o," entri"]})]}),u.length>0?Object(i.jsxs)("ul",{className:"pagination flex-nowrap flex-fill justify-content-md-end",children:[Object(i.jsx)("li",{className:"page-item previous ".concat(1===s?"disabled":""),children:Object(i.jsx)("button",{onClick:function(){return r(s-1)},className:"page-link",children:Object(i.jsx)("i",{className:"previous"})})}),u.map((function(e,t){return void 0===e?Object(i.jsx)("li",{className:"page-item disabled",children:Object(i.jsx)("button",{className:"page-link",children:"..."})},"".concat(t,"-dot")):Object(i.jsx)("li",{className:"page-item ".concat(s===e?"active":""),children:Object(i.jsx)("button",{onClick:function(){return r(e)},className:"page-link",children:e})},e)})),Object(i.jsx)("li",{className:"page-item next ".concat(s===d?"disabled":""),children:Object(i.jsx)("button",{onClick:function(){return r(s+1)},className:"page-link",children:Object(i.jsx)("i",{className:"next"})})})]}):null]})}},426:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){return new Promise((function(t){e((function(e){return t(e),e}))}))}},428:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(2),c=a(39);function i(e){var t=Object(c.e)((function(e){var t;return null!==(t=e.auth.permissions)&&void 0!==t?t:{}}),c.c),a=Object(n.useCallback)((function(a){var n,c,i=null!==(n=null===a||void 0===a?void 0:a.code)&&void 0!==n?n:null===e||void 0===e?void 0:e.code;return!i||Boolean(null===(c=t[i])||void 0===c?void 0:c.find((function(t){var n,c;return t===(null!==(n=null!==(c=null===a||void 0===a?void 0:a.access)&&void 0!==c?c:null===e||void 0===e?void 0:e.access)&&void 0!==n?n:"read")})))}),[null===e||void 0===e?void 0:e.access,null===e||void 0===e?void 0:e.code,t]),i=Object(n.useMemo)((function(){return a()}),[a]);return{hasAccess:a,canAccessPage:i}}},470:function(e,t,a){"use strict";a.r(t);var n,c,i,l=a(2),s=a(26),r=a(19),o=a(176),d=a(30),u=a(10),b=a(78),j=a(11),m=a(18),f=a(34),v=a(84),O=a(177),h=a(45);!function(e){e.ACTIVE="ACTIVE",e.INACTIVE="INACTIVE"}(i||(i={}));var g=(n={},Object(h.a)(n,i.ACTIVE,"Active"),Object(h.a)(n,i.INACTIVE,"Inactive"),n),x=(c={},Object(h.a)(c,i.ACTIVE,"badge-light-info"),Object(h.a)(c,i.INACTIVE,"badge-light-dark"),c),p={id:"",faq_category_id:"",faq_title_id:"",faq_title_en:"",faq_content_id:"",faq_content_en:"",status:"ACTIVE"},N=function(e){var t,a,n,c,i,l,s,r,o,d=null===e||void 0===e||null===(t=e.faq_contents_languages)||void 0===t?void 0:t.find((function(e){return"ID"===(null===e||void 0===e?void 0:e.lang)})),u=null===e||void 0===e||null===(a=e.faq_contents_languages)||void 0===a?void 0:a.find((function(e){return"EN"===(null===e||void 0===e?void 0:e.lang)}));return{id:null!==(n=null===e||void 0===e?void 0:e.id)&&void 0!==n?n:"",faq_category:null===e||void 0===e?void 0:e.faq_category,faq_category_id:null!==(c=null===e||void 0===e?void 0:e.faq_category_id)&&void 0!==c?c:"",faq_title_id:null!==(i=null===d||void 0===d?void 0:d.title)&&void 0!==i?i:"",faq_title_en:null!==(l=null===u||void 0===u?void 0:u.title)&&void 0!==l?l:"",faq_content_id:null!==(s=null===d||void 0===d?void 0:d.content)&&void 0!==s?s:"",faq_content_en:null!==(r=null===u||void 0===u?void 0:u.content)&&void 0!==r?r:"",status:null!==(o=null===e||void 0===e?void 0:e.status)&&void 0!==o?o:"ACTIVE"}},_=a(27),y=a.n(_),E=a(426);function C(e,t){var a=function(e){return Object(l.useCallback)((function(){var t=y.a.CancelToken.source(),a=!0;return e((function(){return a}),t.token),function(){a=!1,t.cancel()}}),[e])}(e);Object(l.useEffect)(a,Object(r.a)(t))}function k(e){var t=Object(l.useState)({timestamp:0,props:{}}),a=Object(j.a)(t,2),n=a[0],c=a[1],i=Object(l.useMemo)((function(){return function(e){return c({timestamp:Date.now(),props:e})}}),[]),s=Object(l.useCallback)((function(){var t=!0,a=y.a.CancelToken.source(),n=function(){var n=Object(b.a)(Object(d.a)().mark((function n(){var i;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(E.a)(c);case 2:(i=n.sent).timestamp>0&&e(i.props,(function(){return t}),a.token);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return n(),function(){t=!1,a.cancel()}}),[e]);return Object(l.useEffect)(s,[n.timestamp]),i}var q=a(154),w=a(22),T=a(29),A=a(69),I=a(15),S=a(112),F="api/v1/admins/faq/faq-contents",D="api/v1/admins/faq/faq-categories";function P(e,t){return y.a.get(D,{params:e,cancelToken:t})}function V(e,t){return y.a.get(F,{params:e,cancelToken:t})}function M(e,t){return y.a.get("".concat(F,"/").concat(e),{cancelToken:t})}function K(e,t){var a={};return Object(S.b)(a,[{key:"faq_category_id",name:"faq_category_id"},{key:"faq_title_id",name:"faq_title_id"},{key:"faq_title_en",name:"faq_title_en"},{key:"faq_content_id",name:"faq_content_id"},{key:"faq_content_en",name:"faq_content_en"},{key:"status",name:"status"}],e),e.id?y.a.put("".concat(F,"/").concat(e.id),a,{cancelToken:t}):y.a.post(F,a,{cancelToken:t})}var L=a(432),Q=a(421),H=a(469),B=a(0),R=function(e){var t=e.onChange,a=e.value;return Object(B.jsx)(H.a,{value:a,onEditorChange:function(e,a){return t(e,a)},init:{height:500,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"formatselect | bold italic link bullist numlist | indent outdent | image blockquote table media undo redo"},tinymceScriptSrc:"/tinymce/tinymce.min.js"})},J=a(417),W=a(3),G=function(e){var t=e.show,a=e.processing,n=e.handleClose,c=e.handleContinue,i=Object(l.useCallback)((function(){a||n()}),[a]);return Object(B.jsxs)(J.a,{"aria-hidden":"true",tabIndex:"-1",show:t,onHide:i,centered:!0,scrollable:!0,children:[Object(B.jsxs)("div",{className:"modal-header d-flex align-items-center justify-content-between",children:[Object(B.jsx)("h3",{className:"d-flex align-items-center",children:"Simpan Data"}),Object(B.jsx)("div",{className:"btn btn-icon btn-sm btn-active-light-primary ms-2",onClick:i,children:Object(B.jsx)(W.a,{path:"/media/icons/duotune/arrows/arr061.svg",className:"svg-icon-2"})})]}),Object(B.jsx)("div",{className:"modal-body pb-5",children:Object(B.jsx)("div",{children:"Simpan perubahan data yang telah dibuat?"})}),Object(B.jsxs)("div",{className:"modal-footer",children:[Object(B.jsx)("button",{type:"button",className:"btn btn-lg btn-light fw-bolder me-4",disabled:a,onClick:i,children:"Kembali"})," ",Object(B.jsx)("button",{onClick:a?void 0:c,disabled:a,className:"btn btn-lg btn-secondary fw-bolder",children:Object(B.jsx)("span",{className:"indicator-label",children:"Simpan"})})]})]})},z=["setValues","setFieldError","setFieldValue"],X=T.c().shape({faq_category_id:T.e().required("Kolom wajib diisi"),faq_title_id:T.e().required("Kolom wajib diisi"),faq_title_en:T.e().required("Kolom wajib diisi"),faq_content_id:T.e().required("Konten FAQ wajib diisi dalam Bahasa Indonesia dan English."),faq_content_en:T.e().required("Konten FAQ wajib diisi dalam Bahasa Indonesia dan English."),status:T.e().required("Kolom wajib diisi")}),Y=function(){var e,t,a=Object(s.g)().push,n=Object(s.i)().id,c=Object(l.useState)(!1),h=Object(j.a)(c,2),x=h[0],_=h[1],y=Object(q.c)().addPageToasts,E=Object(l.useMemo)((function(){return Boolean(n)}),[n]),T=Object(l.useState)(),S=Object(j.a)(T,2),F=S[0],D=S[1],V=Object(l.useState)(!1),H=Object(j.a)(V,2),J=H[0],W=H[1],Y=Object(l.useState)("id"),U=Object(j.a)(Y,2),Z=U[0],$=U[1],ee=Object(l.useMemo)((function(){return[{label:"Bahasa Indonesia",value:"id"},{label:"English",value:"en"}]}),[]),te=Object(l.useState)(""),ae=Object(j.a)(te,2),ne=ae[0],ce=ae[1],ie=k(Object(l.useCallback)((function(e,t,n){_(!0),Object(b.a)(Object(d.a)().mark((function c(){return Object(d.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,K(Object(u.a)({},e),n);case 3:t()&&(y({scheme:"info",text:"Data berhasil disimpan."}),a(O.a.CONTENT.PATH)),c.next=9;break;case 6:c.prev=6,c.t0=c.catch(0),t()&&y({scheme:"danger",text:Object(A.a)(c.t0,!0)});case 9:_(!1);case 10:case"end":return c.stop()}}),c,null,[[0,6]])})))()}),[y])),le=Object(w.e)({initialValues:p,validateOnBlur:!0,validateOnChange:!1,validationSchema:X,onSubmit:function(e,t){var a=t.setSubmitting;e.id?W(!0):ie(e),a(!1)}}),se=le.setValues,re=(le.setFieldError,le.setFieldValue),oe=Object(o.a)(le,z),de=Object(l.useCallback)(function(){var e=Object(b.a)(Object(d.a)().mark((function e(t,a){var n,c,i,l,s,o;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P({page:Math.ceil(a.length/10)+1,limit:10,search:t,status:"ACTIVE",type:"EFOOD"});case 3:return s=e.sent,o=Object(r.a)(null!==(n=null===(c=s.data.data)||void 0===c?void 0:c.items)&&void 0!==n?n:[]),e.abrupt("return",{options:o,hasMore:o.length+a.length<(null!==(i=null===(l=s.data.data)||void 0===l?void 0:l.total_item)&&void 0!==i?i:0)});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{options:[],hasMore:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),[]),ue=Object(l.useMemo)((function(){return E?O.c.FAQ_EFOOD_CONTENT_DETAIL.TITLE:O.c.FAQ_EFOOD_CONTENT_CREATE.TITLE}),[E]),be=Object(l.useMemo)((function(){return[{isActive:!1,path:O.a.CONTENT.PATH,title:O.a.CONTENT.LABEL},{isActive:!1,path:"",title:"",isSeparator:!0}]}),[]);return Object(l.useEffect)((function(){document.title=Object(v.a)(ue)}),[]),C(Object(l.useCallback)((function(){n&&void 0===F&&M(n).then((function(e){se(N(e.data.data)),D(!0)})).catch((function(e){return D(!1)}))}),[n,F]),[n,F]),Object(l.useEffect)((function(){var e;E&&!F||ce(null!==(e="id"===Z?oe.values.faq_content_id:oe.values.faq_content_en)&&void 0!==e?e:"")}),[E,F,Z]),E&&!F?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(f.d,{breadcrumbs:be,children:ue}),Object(B.jsx)("div",{className:"card",children:Object(B.jsx)("div",{className:"card-body",children:!1!==F?"Loading...":"Error, try to refresh the page"})})]}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(f.d,{breadcrumbs:be,children:ue}),Object(B.jsx)("div",{className:"card",children:Object(B.jsxs)("form",{className:"card-body",onSubmit:oe.handleSubmit,noValidate:!0,children:[Object(B.jsxs)("div",{className:"row",children:[Object(B.jsxs)("div",{className:"col-md-6 mb-8",children:[Object(B.jsx)("label",{className:"flex-fill form-label text-gray-800",children:"Kategori*"}),Object(B.jsx)(L.a,{autoComplete:"off",components:Q.a,value:oe.values.faq_category,loadOptions:de,debounceTimeout:500,getOptionValue:function(e){var t;return null!==(t=e.id)&&void 0!==t?t:""},formatOptionLabel:function(e,t){return function(e,t){var a,n,c,i,l,s,r;if("value"===t.context)return null!==(a=null===(n=e.faq_categories_languages)||void 0===n||null===(c=n.find((function(e){return"ID"===(null===e||void 0===e?void 0:e.lang)})))||void 0===c?void 0:c.name)&&void 0!==a?a:"";var o=t.selectValue&&t.selectValue[0];return Object(B.jsxs)("div",{children:[Object(B.jsx)("div",{className:"fw-bolder",children:null===(i=e.faq_categories_languages)||void 0===i||null===(l=i.find((function(e){return"ID"===(null===e||void 0===e?void 0:e.lang)})))||void 0===l?void 0:l.name}),Object(B.jsx)("div",{className:Object(I.a)("fs-7",{"text-gray-600":(null===e||void 0===e?void 0:e.id)!==(null===o||void 0===o?void 0:o.id)}),children:null===(s=e.faq_categories_languages)||void 0===s||null===(r=s.find((function(e){return"EN"===(null===e||void 0===e?void 0:e.lang)})))||void 0===r?void 0:r.name})]})}(e,t)},onChange:function(){var e=Object(b.a)(Object(d.a)().mark((function e(t){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:oe.setFieldTouched("faq_category_id",!0),re("faq_category_id",t.id,!0),re("faq_category",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),oe.touched.faq_category_id&&oe.errors.faq_category_id&&Object(B.jsx)("div",{className:"fv-plugins-message-container text-danger",children:Object(B.jsx)("span",{role:"alert",children:oe.errors.faq_category_id})})]}),Object(B.jsxs)("div",{className:"col-12 mb-8",children:[Object(B.jsx)("label",{className:"flex-fill form-label text-gray-800",children:"Status"}),Object(B.jsxs)("div",{className:"form-check form-switch form-check-custom form-check-solid",children:[Object(B.jsx)("input",{className:"form-check-input",type:"checkbox",checked:oe.values.status===i.ACTIVE,onChange:function(e){re("status",e.target.checked?i.ACTIVE:i.INACTIVE)}}),Object(B.jsx)("label",{className:"form-check-label",children:g[null!==(e=oe.values.status)&&void 0!==e?e:"ACTIVE"]})]}),oe.touched.status&&oe.errors.status&&Object(B.jsx)("div",{className:"fv-plugins-message-container text-danger",children:Object(B.jsx)("span",{role:"alert",children:oe.errors.status})})]}),Object(B.jsxs)("div",{className:"col-12 mb-8",children:[Object(B.jsx)("label",{className:"flex-fill form-label text-gray-800",children:"Judul (Bahasa Indonesia)*"}),Object(B.jsx)("input",Object(u.a)(Object(u.a)({placeholder:""},oe.getFieldProps("faq_title_id")),{},{className:Object(I.a)("form-control form-control-lg form-control-solid"),type:"text",autoComplete:"off"})),oe.touched.faq_title_id&&oe.errors.faq_title_id&&Object(B.jsx)("div",{className:"fv-plugins-message-container text-danger",children:Object(B.jsx)("span",{role:"alert",children:oe.errors.faq_title_id})})]}),Object(B.jsxs)("div",{className:"col-12 mb-8",children:[Object(B.jsx)("label",{className:"flex-fill form-label text-gray-800",children:"Judul (English)*"}),Object(B.jsx)("input",Object(u.a)(Object(u.a)({placeholder:""},oe.getFieldProps("faq_title_en")),{},{className:Object(I.a)("form-control form-control-lg form-control-solid"),type:"text",autoComplete:"off"})),oe.touched.faq_title_en&&oe.errors.faq_title_en&&Object(B.jsx)("div",{className:"fv-plugins-message-container text-danger",children:Object(B.jsx)("span",{role:"alert",children:oe.errors.faq_title_en})})]})]}),Object(B.jsxs)("div",{className:"d-flex justify-content-between align-items-end",children:[Object(B.jsx)("div",{className:"flex-fill fs-2 my-4 fw-bolder",children:"Konten FAQ"}),Object(B.jsx)("ul",{className:"nav nav-tabs nav-line-tabs mb-0 fs-6 pb-3 border-0",style:{flexWrap:"nowrap",overflowX:"auto"},children:ee.map((function(e){return Object(B.jsx)("li",{className:"nav-item flex-shrink-0",children:Object(B.jsx)(m.b,{className:Object(I.a)("nav-link",Z===e.value?"active fw-bold text-success border-success border-bottom-2":""),"data-bs-toggle":"tab",to:"#",onClick:function(){return $(e.value)},children:e.label})},"tab-".concat(e.label))}))})]}),Object(B.jsx)("div",{style:{backgroundColor:"#E3E6EF",height:1},className:"mb-4"}),(oe.touched.faq_content_id&&oe.errors.faq_content_id||oe.touched.faq_content_en&&oe.errors.faq_content_en)&&Object(B.jsx)("div",{className:"fv-plugins-message-container text-danger",children:Object(B.jsxs)("span",{role:"alert",children:[Object(B.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12",width:"12",height:"12",fill:"none",stroke:"#f0426c",children:[Object(B.jsx)("circle",{cx:"6",cy:"6",r:"4.5"}),Object(B.jsx)("path",{"stroke-linejoin":"round",d:"M5.8 3.6h.4L6 6.5z"}),Object(B.jsx)("circle",{cx:"6",cy:"8.2",r:".6",fill:"#f0426c",stroke:"none"})]})," ",null!==(t=oe.errors.faq_content_id)&&void 0!==t?t:oe.errors.faq_content_en]})}),Object(B.jsx)("div",{className:"pb-4"}),Object(B.jsx)(R,{value:ne,onChange:function(e,t){ce(e);var a="id"===Z?"faq_content_id":"faq_content_en";oe.setFieldTouched(a,!0),re(a,e,!0)}}),Object(B.jsx)("div",{className:"pb-8"}),Object(B.jsx)("div",{style:{backgroundColor:"#E3E6EF",height:1},className:"mb-8"}),Object(B.jsxs)("div",{className:"d-flex",children:[Object(B.jsx)(m.b,{className:"btn btn-lg btn-light fw-bolder me-4",to:O.a.CONTENT.PATH,children:"Kembali"}),Object(B.jsxs)("button",{type:"submit",className:"btn btn-lg btn-secondary fw-bolder",disabled:x||oe.isSubmitting,children:[Object(B.jsx)("span",{className:"indicator-label",children:"Simpan"}),(x||oe.isSubmitting)&&Object(B.jsxs)("span",{className:"indicator-progress",children:["Mohon Tunggu...",Object(B.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]})]})]})]})}),Object(B.jsx)(G,{show:J,processing:x,handleClose:function(){return W(!1)},handleContinue:function(){return ie(oe.values)}})]})},U=a(28),Z=a(425);function $(e,t){var a=Object(l.useState)({timestamp:0,props:{}}),n=Object(j.a)(a,2),c=n[0],i=n[1],s=Object(l.useMemo)((function(){return function(e){return i({timestamp:Date.now(),props:e})}}),[]),r=Object(l.useCallback)((function(){var a,n=!0,c=y.a.CancelToken.source(),l=function(){var l=Object(b.a)(Object(d.a)().mark((function l(){var s;return Object(d.a)().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Object(E.a)(i);case 2:(s=l.sent).timestamp>0&&(a=setTimeout((function(){e(s.props,(function(){return n}),c.token)}),t));case 4:case"end":return l.stop()}}),l)})));return function(){return l.apply(this,arguments)}}();return l(),function(){n=!1,c.cancel(),a&&clearTimeout(a)}}),[e,t]);return Object(l.useEffect)(r,[c.timestamp]),s}var ee=a(424),te=a(422),ae=a(428),ne="api/v1/admins/faq/faq-categories";function ce(e,t){return y.a.get(ne,{params:e,cancelToken:t})}var ie=function(e){return Object(B.jsxs)("div",{children:[Object(B.jsx)("label",{className:"form-label",children:e.label}),Object(B.jsx)("input",Object(u.a)({className:"form-control form-control-solid"},e))]})},le=function(e){return Object(B.jsxs)("div",{className:"form-check form-switch form-check-custom form-check-solid",children:[Object(B.jsx)("input",Object(u.a)({className:"form-check-input",type:"checkbox"},e)),e.label&&Object(B.jsx)("label",{className:Object(I.a)("form-check-label",e.labelClass),children:e.label})]})},se=a(468),re=a.n(se),oe={parent:null,faq_category_id:"",faq_category_en:"",status:!0},de=T.c().shape({parent:T.c().nullable().shape({value:T.e(),label:T.e()}),faq_category_id:T.e().required("Kolom wajib diisi"),faq_category_en:T.e().required("Kolom wajib diisi"),status:T.b()}),ue=function(e){var t=e.show,a=e.handleClose,n=e.handleSuccess,c=e.data,i=e.type,s=Object(q.c)().addPageToasts,r=Object(l.useState)("form"),o=Object(j.a)(r,2),m=o[0],f=o[1],v=Object(w.e)({initialValues:oe,validationSchema:de,onSubmit:function(e,t){var a,l,r=t.setSubmitting,o=t.resetForm;r(!0);var d={parent_id:null!==(a=null===e||void 0===e||null===(l=e.parent)||void 0===l?void 0:l.value)&&void 0!==a?a:null,faq_category_id:null===e||void 0===e?void 0:e.faq_category_id,faq_category_en:null===e||void 0===e?void 0:e.faq_category_en,status:null!==e&&void 0!==e&&e.status?"ACTIVE":"INACTIVE",type:i};c?function(e,t,a){return y.a.put("".concat(ne,"/").concat(e),t,{cancelToken:a})}(null===c||void 0===c?void 0:c.id,d).then((function(){r(!1),f("form"),o(),n()})).catch((function(e){r(!1),f("form"),s({scheme:"danger",text:Object(A.a)(e,!0)})})):function(e,t){return y.a.post(ne,e,{cancelToken:t})}(d).then((function(){r(!1),f("form"),o(),n()})).catch((function(e){r(!1),s({scheme:"danger",text:Object(A.a)(e,!0)})}))}}),O=function(e,t,a){var n,c,i,l,s;return a?(null===e||void 0===e||null===(n=e.parent)||void 0===n||null===(c=n.faq_categories_languages)||void 0===c||null===(i=c.find((function(e){return(null===e||void 0===e?void 0:e.lang)===t})))||void 0===i?void 0:i.name)||"":(null===e||void 0===e||null===(l=e.faq_categories_languages)||void 0===l||null===(s=l.find((function(e){return(null===e||void 0===e?void 0:e.lang)===t})))||void 0===s?void 0:s.name)||""},h=Object(l.useCallback)(function(){var e=Object(b.a)(Object(d.a)().mark((function e(t,a){var n,c,l,s,r,o,u;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce({page:Math.ceil(a.length/10)+1,limit:10,search:t,type:i});case 3:return o=e.sent,u=null!==(n=null===(c=o.data.data)||void 0===c||null===(l=c.items)||void 0===l?void 0:l.map((function(e){var t,a;return{label:(null===e||void 0===e||null===(t=e.faq_categories_languages)||void 0===t||null===(a=t.find((function(e){return"ID"===(null===e||void 0===e?void 0:e.lang)})))||void 0===a?void 0:a.name)||"-",value:null===e||void 0===e?void 0:e.id}})))&&void 0!==n?n:[],e.abrupt("return",{options:u,hasMore:u.length+a.length<(null!==(s=null===(r=o.data.data)||void 0===r?void 0:r.total_item)&&void 0!==s?s:0)});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{options:[],hasMore:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),[c,i]);Object(l.useEffect)((function(){var e;t?null!==c?v.setValues({parent:null!==c&&void 0!==c&&c.parent?{value:null===c||void 0===c||null===(e=c.parent)||void 0===e?void 0:e.id,label:O(c,"ID",!0)}:null,faq_category_id:O(c,"ID"),faq_category_en:O(c,"EN"),status:"ACTIVE"===(null===c||void 0===c?void 0:c.status)},!0):v.resetForm():v.setTouched({parent:!1,faq_category_id:!1,faq_category_en:!1,status:!1})}),[c,t]);var g=Object(l.useState)("0"),x=Object(j.a)(g,2),p=x[0],N=x[1];return Object(l.useEffect)((function(){t&&N(String(re()().unix()))}),[t]),"status"===m&&c?Object(B.jsxs)(J.a,{id:"kt_modal_create_app",tabIndex:-1,"aria-hidden":"true",dialogClassName:"modal-dialog-centered mw-500px h-auto",show:t,onHide:function(){return f("form")},children:[Object(B.jsxs)("div",{className:"modal-header d-flex align-items-center justify-content-between py-3",children:[Object(B.jsx)("div",{className:"fs-3 fw-bold",children:"Non-aktifkan Kategori FAQ"}),Object(B.jsx)("button",{type:"button",onClick:function(){return f("form")},className:"btn btn-transparent px-0",children:Object(B.jsx)(U.a,{src:"/media/icons/efood/IconCloseDark.svg"})})]}),Object(B.jsx)("div",{className:"modal-body px-10 py-10",children:Object(B.jsxs)("span",{children:["Apakah Anda yakin ingin menon-aktifkan kategori"," ",Object(B.jsx)("strong",{children:v.values.faq_category_id||"ini"})," ? Seluruh kategori dan konten di kategori ini akan dinon-aktifkan dan tidak ditampilkan di"," ","EFOOD"===i?"eFOOD":"eFOOD Partner","."]})}),Object(B.jsxs)("div",{className:"modal-footer d-flex align-items-center justify-content-end",children:[Object(B.jsx)("button",{type:"button",className:"btn btn-lg btn-light fw-bolder me-4",onClick:function(){return f("form")},children:"Kembali"}),Object(B.jsx)("button",{type:"button",className:"btn btn-lg btn-secondary fw-bolder",onClick:function(){v.setFieldValue("status",!1),f("form")},children:Object(B.jsx)("span",{className:"indicator-label",children:"Simpan"})})]})]}):"update"===m?Object(B.jsxs)(J.a,{id:"kt_modal_create_app",tabIndex:-1,"aria-hidden":"true",dialogClassName:"modal-dialog-centered mw-500px h-auto",show:t,onHide:function(){return f("form")},centered:!0,children:[Object(B.jsxs)("div",{className:"modal-header pt-8 pb-5 px-10 d-flex justify-content-between border-bottom-1",children:[Object(B.jsx)("h1",{children:"Simpan Data"}),Object(B.jsx)("button",{type:"button",onClick:function(){return f("form")},className:"btn btn-transparent px-0",children:Object(B.jsx)(U.a,{src:"/media/icons/efood/IconCloseDark.svg"})})]}),Object(B.jsx)("div",{className:""}),Object(B.jsxs)("form",{onSubmit:v.handleSubmit,noValidate:!0,children:[Object(B.jsx)("div",{className:"modal-body px-10 py-10",children:Object(B.jsx)("span",{children:"Simpan perubahan data yang telah dibuat"})}),Object(B.jsx)("div",{className:"modal-footer",children:Object(B.jsxs)("div",{className:"d-flex pb-lg-0",children:[Object(B.jsx)("button",{type:"button",id:"kt_login_password_reset_form_cancel_button",className:"btn btn-lg btn-light fw-bolder d-block me-4",onClick:function(){return f("form")},disabled:v.isSubmitting,children:"Kembali"}),Object(B.jsxs)("button",{type:"submit",id:"kt_password_reset_submit",className:"btn btn-lg btn-secondary fw-bolder",disabled:v.isSubmitting,children:[Object(B.jsx)("span",{className:"indicator-label",children:"Simpan"}),v.isSubmitting&&Object(B.jsxs)("span",{className:"indicator-progress",children:["Mohon Tunggu...",Object(B.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]})]})]})})]})]}):Object(B.jsxs)(J.a,{id:"kt_modal_create_app",tabIndex:-1,"aria-hidden":"true",dialogClassName:"modal-dialog-centered mw-500px h-auto",show:t,onHide:a,children:[Object(B.jsxs)("div",{className:"modal-header d-flex align-items-center justify-content-between py-3",children:[Object(B.jsxs)("div",{className:"fs-3 fw-bold",children:[c?"Detail":"Tambah"," Kategori FAQ ","EFOOD"===i?"eFOOD":"eFOOD Partner"]}),Object(B.jsx)("button",{type:"button",onClick:a,className:"btn btn-transparent px-0",children:Object(B.jsx)(U.a,{src:"/media/icons/efood/IconCloseDark.svg"})})]}),Object(B.jsxs)("form",{onSubmit:v.handleSubmit,noValidate:!0,children:[Object(B.jsxs)("div",{className:"modal-body px-10 py-10",children:[Object(B.jsxs)("div",{className:"mb-10",children:[Object(B.jsx)("label",{className:"form-label",children:"Parent Kategori (opsional)"}),Object(B.jsx)(L.a,{placeholder:"Pilih Parent Kategori",cacheOptions:!0,defaultOptions:!0,components:Q.a,loadOptions:h,debounceTimeout:500,isClearable:!0,isOptionDisabled:function(e,t){return e.value===(null===c||void 0===c?void 0:c.id)},value:v.values.parent,onChange:function(e){return v.setFieldValue("parent",e)},tabIndex:"5"},p)]}),Object(B.jsxs)("div",{className:"mb-10",children:[Object(B.jsx)(ie,Object(u.a)({label:"Nama Kategori (Bahasa Indonesia)*"},v.getFieldProps("faq_category_id"))),v.touched.faq_category_id&&v.errors.faq_category_id&&Object(B.jsx)("div",{className:"fv-plugins-message-container text-danger",children:Object(B.jsx)("span",{role:"alert",children:v.errors.faq_category_id})})]}),Object(B.jsxs)("div",{className:"mb-10",children:[Object(B.jsx)(ie,Object(u.a)({label:"Nama Kategori (English)*"},v.getFieldProps("faq_category_en"))),v.touched.faq_category_en&&v.errors.faq_category_en&&Object(B.jsx)("div",{className:"fv-plugins-message-container text-danger",children:Object(B.jsx)("span",{role:"alert",children:v.errors.faq_category_en})})]}),Object(B.jsxs)("div",{children:[Object(B.jsx)("label",{className:"form-label",children:"Status"}),Object(B.jsx)(le,{label:v.values.status?"Active":"Inactive",labelClass:"fw-bold",checked:v.values.status,onChange:function(){c&&v.values.status?f("status"):v.setFieldValue("status",!v.values.status)}})]})]}),Object(B.jsxs)("div",{className:"modal-footer d-flex align-items-center justify-content-end",children:[Object(B.jsx)("button",{type:"button",className:"btn btn-lg btn-light fw-bolder me-4",disabled:v.isSubmitting,onClick:a,children:"Kembali"}),c?Object(B.jsx)("button",{type:"button",className:"btn btn-lg btn-secondary fw-bolder",onClick:function(){return f("update")},children:Object(B.jsx)("span",{className:"indicator-label",children:"Simpan"})}):Object(B.jsxs)("button",{type:"submit",className:"btn btn-lg btn-secondary fw-bolder",disabled:v.isSubmitting,children:[Object(B.jsx)("span",{className:"indicator-label",children:"Simpan"}),v.isSubmitting&&Object(B.jsxs)("span",{className:"indicator-progress",children:["Mohon Tunggu...",Object(B.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]})]})]})]})]})},be=function(){var e=Object(l.useState)(!1),t=Object(j.a)(e,2),a=t[0],n=t[1],c=Object(l.useState)(!1),i=Object(j.a)(c,2),r=i[0],o=i[1],m=Object(l.useState)(void 0),O=Object(j.a)(m,2),h=O[0],g=O[1],x=Object(s.g)(),p=Object(ae.a)({code:"setting_profil_store"}).hasAccess,N=Object(q.c)().addPageToasts,_=Object(ee.a)(Object(l.useCallback)((function(e,t,a,c){n(!0);var i=function(){var c=Object(b.a)(Object(d.a)().mark((function c(){var i,l,s;return Object(d.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,ce({page:e.page,limit:e.limit,status:null!==(i=e.query.status)&&void 0!==i?i:void 0,search:null!==(l=e.query.search)&&void 0!==l?l:void 0,type:"EFOOD"});case 3:s=c.sent,a()&&t((function(e){var t,a,n,c,i,l;return Object(u.a)(Object(u.a)({},e),{},{loading:!1,refreshing:!1,error:!1,page:Number(null!==(t=null===(a=s.data.data)||void 0===a?void 0:a.current_page)&&void 0!==t?t:1),data:null!==(n=null===(c=s.data.data)||void 0===c?void 0:c.items)&&void 0!==n?n:[],total:Number(null!==(i=null===(l=s.data.data)||void 0===l?void 0:l.total_item)&&void 0!==i?i:0)})})),n(!1),c.next=12;break;case 8:c.prev=8,c.t0=c.catch(0),a()&&t((function(e){return Object(u.a)(Object(u.a)({},e),{},{loading:!1,error:!0,data:[]})})),n(!1);case 12:case"end":return c.stop()}}),c,null,[[0,8]])})));return function(){return c.apply(this,arguments)}}();i()}),[]),{loading:!1,refreshing:!1,error:!1,page:0,data:[],total:0,limit:10,query:{}}),y=_.state,E=_.setLimit,C=_.setPage,k=_.setQuery,w=[{label:"Semua",value:void 0},{label:"Active",value:"ACTIVE"},{label:"Inactive",value:"INACTIVE"}],T=$(Object(l.useCallback)((function(e){k((function(t){return Object(u.a)(Object(u.a)({},t),{},{search:e})}))}),[k]),500),A=function(e){return e?Object(B.jsx)("span",{className:"badge badge-light-success",children:"Active"}):Object(B.jsx)("span",{className:"badge badge-light-dark",children:"Inactive"})},I=function(e,t,a){var n,c,i,l,s;return a?(null===e||void 0===e||null===(n=e.parent)||void 0===n||null===(c=n.faq_categories_languages)||void 0===c||null===(i=c.find((function(e){return(null===e||void 0===e?void 0:e.lang)===t})))||void 0===i?void 0:i.name)||"-":(null===e||void 0===e||null===(l=e.faq_categories_languages)||void 0===l||null===(s=l.find((function(e){return(null===e||void 0===e?void 0:e.lang)===t})))||void 0===s?void 0:s.name)||"-"};return Object(l.useEffect)((function(){document.title=Object(v.a)("Kategori FAQ eFOOD")}),[]),Object(l.useEffect)((function(){C(1)}),[C]),Object(l.useEffect)((function(){var e=x.location.state;null!==e&&void 0!==e&&e.message&&N({scheme:"info",text:null===e||void 0===e?void 0:e.message})}),[x.location]),Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(f.d,{description:"List Kategori FAQ eFOOD",children:"Kategori FAQ eFOOD"}),Object(B.jsxs)("div",{className:"card",children:[a&&Object(B.jsx)("div",{className:"overlay-light"}),Object(B.jsxs)("div",{className:"card-header d-flex align-items-center",children:[Object(B.jsx)("div",{className:"flex-fill fs-2 fw-bolder",children:"List Kategori FAQ eFOOD"}),p({access:"create"})&&Object(B.jsx)("button",{onClick:function(){return o(!0)},className:"btn btn-secondary",children:"Tambah Kategori"})]}),Object(B.jsxs)("div",{className:"card-body",children:[Object(B.jsxs)("div",{className:"d-flex flex-wrap align-items-center",children:[Object(B.jsxs)("div",{className:"mb-4 w-lg-300px me-lg-4 w-100 position-relative",children:[Object(B.jsx)(U.a,{src:"/media/icons/efood/IconSearch.svg",className:"position-absolute translate-middle-y top-50 ms-4 pe-none"}),Object(B.jsx)("input",{placeholder:"Cari",className:"form-control form-control-lg form-control-solid ps-13",type:"text",autoComplete:"off",onChange:function(e){return T(e.currentTarget.value)}})]}),Object(B.jsxs)("div",{className:"mb-4 w-lg-auto me-lg-4 w-100 d-flex align-items-center",children:[Object(B.jsx)("span",{className:"me-5 flex-shrink-0 fw-bold",children:"Filter Status"}),Object(B.jsx)("div",{className:"position-relative w-lg-200px w-100",children:Object(B.jsx)(te.a,{autoComplete:"off",components:Q.a,options:w,defaultValue:{value:"",label:"Semua"},onChange:function(e){return k((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:null===e||void 0===e?void 0:e.value})}))}})})]})]}),Object(B.jsxs)("div",{className:"position-relative",children:[Object(B.jsx)("div",{className:"table-responsive my-8",children:Object(B.jsxs)("table",{className:"table table-striped table-hover gx-4 gy-4",children:[Object(B.jsx)("thead",{className:"text-gray fw-700",children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{children:"No."}),Object(B.jsx)("th",{style:{minWidth:100},children:"Action"}),Object(B.jsx)("th",{children:"Parent Kategori"}),Object(B.jsx)("th",{children:"Nama Kategori"}),Object(B.jsx)("th",{children:"Status"})]})}),Object(B.jsx)("tbody",{children:0===y.data.length?Object(B.jsx)("tr",{children:Object(B.jsx)("td",{colSpan:7,className:"text-center",children:y.loading?"Loading":y.error?"Error, try to refresh the page":Object(B.jsxs)("div",{className:"text-center",children:[Object(B.jsx)(U.a,{src:"/media/icons/efood/IconFolder.svg"}),Object(B.jsx)("p",{children:"Belum ada kategori FAQ yang dibuat"})]})})}):y.data.map((function(e,t){return Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{className:"align-middle fw-bold",children:(y.page-1)*y.limit+t+1}),Object(B.jsx)("td",{className:"align-middle",children:Object(B.jsx)("button",{className:"btn-transparent",onClick:function(){g(e),o(!0)},children:Object(B.jsx)(U.a,{src:"/media/icons/efood/IconEdit.svg"})})}),Object(B.jsxs)("td",{className:"align-middle",children:[Object(B.jsxs)("div",{children:["ID: ",I(e,"ID",!0)]}),Object(B.jsxs)("div",{children:["EN: ",I(e,"EN",!0)]})]}),Object(B.jsxs)("td",{className:"align-middle fw-bold",children:[Object(B.jsxs)("div",{children:["ID: ",I(e,"ID")]}),Object(B.jsxs)("div",{children:["EN: ",I(e,"EN")]})]}),Object(B.jsx)("td",{className:"align-middle",children:A("ACTIVE"===(null===e||void 0===e?void 0:e.status))})]},e.id)}))})]})}),y.data.length>0&&y.loading?Object(B.jsx)("div",{className:"position-absolute top-0 start-0 end-0 bottom-0",style:{backgroundColor:"rgba(255,255,255,0.7)"}}):null]}),Object(B.jsx)(Z.a,{loading:y.loading,page:y.page,limit:y.limit,setPage:C,setPerPage:E,maxData:y.total})]})]}),Object(B.jsx)(ue,{show:r,handleClose:function(){o(!1),h&&g(void 0)},handleSuccess:function(){o(!1),h&&g(void 0),N({scheme:"info",text:"Data berhasil disimpan"}),C(1)},data:h,type:"EFOOD"})]})},je=function(e){var t=e.children;return Object(B.jsxs)("div",{className:"card mb-6",children:[Object(B.jsxs)("div",{className:"card-header d-flex align-items-center",children:[Object(B.jsx)("div",{className:"flex-fill fs-2 fw-bolder",children:O.a.CONTENT.TITLE}),Object(B.jsx)(m.b,{to:O.c.FAQ_EFOOD_CONTENT_CREATE.PATH,className:"btn btn-secondary",children:"Tambah Konten FAQ"})]}),Object(B.jsx)("div",{className:"card-body",children:t})]})},me=function(){var e=Object(s.i)(),t=e.id,a=e.merchantId,n=Object(ee.a)(Object(l.useCallback)((function(e,t,a,n){var c=function(){var c=Object(b.a)(Object(d.a)().mark((function c(){var i;return Object(d.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,V(Object(u.a)(Object(u.a)({},e.query),{},{page:e.page,limit:e.limit,type:"EFOOD"}),n);case 3:i=c.sent,a()&&t((function(e){var t,a,n,c,l,s;return Object(u.a)(Object(u.a)({},e),{},{loading:!1,refreshing:!1,error:!1,page:null!==(t=null===(a=i.data.data)||void 0===a?void 0:a.current_page)&&void 0!==t?t:1,data:null!==(n=null===(c=i.data.data)||void 0===c?void 0:c.items)&&void 0!==n?n:[],total:null!==(l=null===(s=i.data.data)||void 0===s?void 0:s.total_item)&&void 0!==l?l:0})})),c.next=10;break;case 7:c.prev=7,c.t0=c.catch(0),a()&&t((function(e){return Object(u.a)(Object(u.a)({},e),{},{loading:!1,refreshing:!1,error:!0,data:[]})}));case 10:case"end":return c.stop()}}),c,null,[[0,7]])})));return function(){return c.apply(this,arguments)}}();c()}),[a,t]),{loading:!1,refreshing:!1,error:!1,page:0,data:[],total:0,limit:10,query:{}}),c=n.state,i=n.setLimit,o=n.setPage,j=n.setQuery,f=$(Object(l.useCallback)((function(e){j((function(t){return Object(u.a)(Object(u.a)({},t),{},{search:e})}))}),[j]),500),v=Object(l.useCallback)(function(){var e=Object(b.a)(Object(d.a)().mark((function e(t,a){var n,c,i,l,s,o,u,b;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P({page:0===a.length?1:Math.ceil((a.length-1)/10)+1,limit:10,search:t,status:"ACTIVE",type:"EFOOD"});case 3:return u=e.sent,b=0===a.length?[{}].concat(Object(r.a)(null!==(n=null===(c=u.data.data)||void 0===c?void 0:c.items)&&void 0!==n?n:[])):Object(r.a)(null!==(i=null===(l=u.data.data)||void 0===l?void 0:l.items)&&void 0!==i?i:[]),e.abrupt("return",{options:b,hasMore:b.length+a.length<=(null!==(s=null===(o=u.data.data)||void 0===o?void 0:o.total_item)&&void 0!==s?s:0)});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{options:[],hasMore:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),[]),h=Object(l.useMemo)((function(){return[{value:void 0,label:"Semua"}].concat(Object(r.a)(Object.keys(g).map((function(e){return{value:e,label:g[e]}}))))}),[]);return Object(l.useEffect)((function(){o(1)}),[]),c.loading||c.error||c.query.search||c.query.category_id||c.query.status||1!==Number(c.page)||0!==c.data.length?Object(B.jsxs)(je,{children:[Object(B.jsxs)("div",{className:"row align-items-center",children:[Object(B.jsxs)("div",{className:"mb-4 col-md-4 position-relative",children:[Object(B.jsx)(U.a,{src:"/media/icons/efood/IconSearch.svg",className:"position-absolute translate-middle-y top-50 ms-4 pe-none"}),Object(B.jsx)("input",{placeholder:"Cari",className:"form-control form-control-lg form-control-solid ps-13",type:"text",autoComplete:"off",onChange:function(e){return f(e.currentTarget.value)}})]}),Object(B.jsxs)("div",{className:"mb-4 col-md-4 d-flex align-items-center",children:[Object(B.jsx)("span",{className:"me-5 w-auto w-md-80px fw-bold",children:"Filter Kategori"}),Object(B.jsx)("div",{className:"position-relative flex-fill",children:Object(B.jsx)(L.a,{autoComplete:"off",components:Q.a,loadOptions:v,defaultValue:{},getOptionValue:function(e){var t;return null!==(t=e.id)&&void 0!==t?t:""},formatOptionLabel:function(e,t){return function(e,t){var a,n,c,i,l,s,r;if("value"===t.context)return e.id?null!==(a=null===(n=e.faq_categories_languages)||void 0===n||null===(c=n.find((function(e){return"ID"===(null===e||void 0===e?void 0:e.lang)})))||void 0===c?void 0:c.name)&&void 0!==a?a:"":"Semua";var o=t.selectValue&&t.selectValue[0];return e.id?Object(B.jsxs)("div",{children:[Object(B.jsx)("div",{className:"fw-bolder",children:null===(i=e.faq_categories_languages)||void 0===i||null===(l=i.find((function(e){return"ID"===(null===e||void 0===e?void 0:e.lang)})))||void 0===l?void 0:l.name}),Object(B.jsx)("div",{className:Object(I.a)("fs-7",{"text-gray-600":(null===e||void 0===e?void 0:e.id)!==(null===o||void 0===o?void 0:o.id)}),children:null===(s=e.faq_categories_languages)||void 0===s||null===(r=s.find((function(e){return"EN"===(null===e||void 0===e?void 0:e.lang)})))||void 0===r?void 0:r.name})]}):Object(B.jsx)("div",{className:"fw-bolder",children:"Semua"})}(e,t)},onChange:function(e){return j((function(t){return Object(u.a)(Object(u.a)({},t),{},{category_id:null===e||void 0===e?void 0:e.id})}))}})})]}),Object(B.jsxs)("div",{className:"mb-4 col-md-4 d-flex align-items-center",children:[Object(B.jsx)("span",{className:"me-5 w-auto w-md-80px fw-bold",children:"Filter Status"}),Object(B.jsx)("div",{className:"position-relative flex-fill",children:Object(B.jsx)(te.a,{autoComplete:"off",components:Q.a,options:h,defaultValue:{value:void 0,label:"Semua"},onChange:function(e){return j((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:null===e||void 0===e?void 0:e.value})}))}})})]})]}),Object(B.jsxs)("div",{className:"position-relative",children:[Object(B.jsx)("div",{className:"table-responsive my-8",children:Object(B.jsxs)("table",{className:"table table-striped table-hover gx-4 gy-4",children:[Object(B.jsx)("thead",{className:"text-gray fw-700",children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{children:"No."}),Object(B.jsx)("th",{style:{minWidth:100},children:"Action"}),Object(B.jsx)("th",{children:"Kategori"}),Object(B.jsx)("th",{children:"Judul"}),Object(B.jsx)("th",{children:"Status"})]})}),Object(B.jsx)("tbody",{children:0===c.data.length?Object(B.jsx)("tr",{children:Object(B.jsx)("td",{colSpan:5,className:"text-center",children:c.loading?"Loading":c.error?"Error, try to refresh the page":"Data Kosong"})}):c.data.map((function(e,t){var a,n,i,l,s,r,o,d,u,b,j;return Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{className:"align-middle",children:(c.page-1)*c.limit+t+1}),Object(B.jsx)("td",{className:"align-middle",children:Object(B.jsx)(m.b,{className:"btn-transparent",to:O.c.FAQ_EFOOD_CONTENT_DETAIL.buildPath(e.id),children:Object(B.jsx)(U.a,{src:"/media/icons/efood/IconEdit.svg"})})}),Object(B.jsxs)("td",{className:"align-middle",children:[Object(B.jsxs)("div",{children:["ID:"," ",null===e||void 0===e||null===(a=e.faq_category)||void 0===a||null===(n=a.faq_categories_languages)||void 0===n||null===(i=n.find((function(e){return"ID"===(null===e||void 0===e?void 0:e.lang)})))||void 0===i?void 0:i.name]}),Object(B.jsxs)("div",{children:["EN:"," ",null===e||void 0===e||null===(l=e.faq_category)||void 0===l||null===(s=l.faq_categories_languages)||void 0===s||null===(r=s.find((function(e){return"EN"===(null===e||void 0===e?void 0:e.lang)})))||void 0===r?void 0:r.name]})]}),Object(B.jsxs)("td",{className:"align-middle",children:[Object(B.jsxs)("div",{children:["ID:"," ",null===e||void 0===e||null===(o=e.faq_contents_languages)||void 0===o||null===(d=o.find((function(e){return"ID"===(null===e||void 0===e?void 0:e.lang)})))||void 0===d?void 0:d.title]}),Object(B.jsxs)("div",{children:["EN:"," ",null===e||void 0===e||null===(u=e.faq_contents_languages)||void 0===u||null===(b=u.find((function(e){return"EN"===(null===e||void 0===e?void 0:e.lang)})))||void 0===b?void 0:b.title]})]}),Object(B.jsx)("td",{className:"align-middle",children:Object(B.jsx)("span",{className:"badge ".concat(null!==(j=x[e.status])&&void 0!==j?j:"badge-light-dark"),children:g[e.status]})})]},e.id)}))})]})}),c.data.length>0&&c.loading?Object(B.jsx)("div",{className:"position-absolute top-0 start-0 end-0 bottom-0",style:{backgroundColor:"rgba(255,255,255,0.7)"}}):null]}),Object(B.jsx)(Z.a,{loading:c.loading,page:Number(c.page),limit:c.limit,setPage:o,setPerPage:i,maxData:c.total})]}):Object(B.jsx)(je,{children:Object(B.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-center",children:[Object(B.jsx)("div",{children:Object(B.jsx)(U.a,{src:"/media/icons/efood/IconFaqContentEmpty.svg"})}),Object(B.jsx)("div",{className:"text-gray-600",children:"Belum ada konten FAQ yang dibuat"})]})})},fe=function(){var e=Object(s.i)().tab,t=Object(l.useMemo)((function(){var e=[];return Object.values(O.a).forEach((function(t){e.push({tab:t.SLUG,label:t.LABEL,title:t.TITLE,path:t.PATH})})),e}),[]),a=Object(l.useMemo)((function(){var a;return null===(a=t.find((function(t){return t.tab===e})))||void 0===a?void 0:a.title}),[e,t]);return Object(B.jsxs)("div",{children:[Object(B.jsx)(f.d,{description:a,children:a}),Object(B.jsx)("ul",{className:"nav nav-tabs nav-line-tabs mb-5 fs-6 pb-3 border-0 mb-10",style:{flexWrap:"nowrap",overflowX:"auto"},children:t.map((function(t){return Object(B.jsx)("li",{className:"nav-item flex-shrink-0",children:Object(B.jsx)(m.b,{className:Object(I.a)("nav-link",e===t.tab?"active fw-bold text-success border-success border-bottom-2":""),"data-bs-toggle":"tab",to:t.path,children:t.label})},t.label)}))}),Object(B.jsxs)(s.d,{children:[Object(B.jsx)(s.b,{path:O.a.CATEGORY.PATH,component:be}),Object(B.jsx)(s.b,{path:O.a.CONTENT.PATH,component:me})]})]})},ve=["setValues","setFieldError","setFieldValue"],Oe=T.c().shape({faq_category_id:T.e().required("Kolom wajib diisi"),faq_title_id:T.e().required("Kolom wajib diisi"),faq_title_en:T.e().required("Kolom wajib diisi"),faq_content_id:T.e().required("Konten FAQ wajib diisi dalam Bahasa Indonesia dan English."),faq_content_en:T.e().required("Konten FAQ wajib diisi dalam Bahasa Indonesia dan English."),status:T.e().required("Kolom wajib diisi")}),he=function(){var e,t,a=Object(s.g)().push,n=Object(s.i)().id,c=Object(l.useState)(!1),h=Object(j.a)(c,2),x=h[0],_=h[1],y=Object(q.c)().addPageToasts,E=Object(l.useMemo)((function(){return Boolean(n)}),[n]),T=Object(l.useState)(),S=Object(j.a)(T,2),F=S[0],D=S[1],V=Object(l.useState)(!1),H=Object(j.a)(V,2),J=H[0],W=H[1],z=Object(l.useState)("id"),X=Object(j.a)(z,2),Y=X[0],U=X[1],Z=Object(l.useMemo)((function(){return[{label:"Bahasa Indonesia",value:"id"},{label:"English",value:"en"}]}),[]),$=Object(l.useState)(""),ee=Object(j.a)($,2),te=ee[0],ae=ee[1],ne=k(Object(l.useCallback)((function(e,t,n){_(!0),Object(b.a)(Object(d.a)().mark((function c(){return Object(d.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,K(Object(u.a)({},e),n);case 3:t()&&(y({scheme:"info",text:"Data berhasil disimpan."}),a(O.b.CONTENT.PATH)),c.next=9;break;case 6:c.prev=6,c.t0=c.catch(0),t()&&y({scheme:"danger",text:Object(A.a)(c.t0,!0)});case 9:_(!1);case 10:case"end":return c.stop()}}),c,null,[[0,6]])})))()}),[y])),ce=Object(w.e)({initialValues:p,validateOnBlur:!0,validateOnChange:!1,validationSchema:Oe,onSubmit:function(e,t){var a=t.setSubmitting;e.id?W(!0):ne(e),a(!1)}}),ie=ce.setValues,le=(ce.setFieldError,ce.setFieldValue),se=Object(o.a)(ce,ve),re=Object(l.useCallback)(function(){var e=Object(b.a)(Object(d.a)().mark((function e(t,a){var n,c,i,l,s,o;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P({page:Math.ceil(a.length/10)+1,limit:10,search:t,status:"ACTIVE",type:"HERMES"});case 3:return s=e.sent,o=Object(r.a)(null!==(n=null===(c=s.data.data)||void 0===c?void 0:c.items)&&void 0!==n?n:[]),e.abrupt("return",{options:o,hasMore:o.length+a.length<(null!==(i=null===(l=s.data.data)||void 0===l?void 0:l.total_item)&&void 0!==i?i:0)});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{options:[],hasMore:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),[]),oe=Object(l.useMemo)((function(){return E?O.c.FAQ_EFOOD_CONTENT_DETAIL.TITLE:O.c.FAQ_EFOOD_CONTENT_CREATE.TITLE}),[E]),de=Object(l.useMemo)((function(){return[{isActive:!1,path:O.b.CONTENT.PATH,title:O.b.CONTENT.LABEL},{isActive:!1,path:"",title:"",isSeparator:!0}]}),[]);return Object(l.useEffect)((function(){document.title=Object(v.a)(oe)}),[]),C(Object(l.useCallback)((function(){n&&void 0===F&&M(n).then((function(e){ie(N(e.data.data)),D(!0)})).catch((function(e){return D(!1)}))}),[n,F]),[n,F]),Object(l.useEffect)((function(){var e;E&&!F||ae(null!==(e="id"===Y?se.values.faq_content_id:se.values.faq_content_en)&&void 0!==e?e:"")}),[E,F,Y]),E&&!F?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(f.d,{breadcrumbs:de,children:oe}),Object(B.jsx)("div",{className:"card",children:Object(B.jsx)("div",{className:"card-body",children:!1!==F?"Loading...":"Error, try to refresh the page"})})]}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(f.d,{breadcrumbs:de,children:oe}),Object(B.jsx)("div",{className:"card",children:Object(B.jsxs)("form",{className:"card-body",onSubmit:se.handleSubmit,noValidate:!0,children:[Object(B.jsxs)("div",{className:"row",children:[Object(B.jsxs)("div",{className:"col-md-6 mb-8",children:[Object(B.jsx)("label",{className:"flex-fill form-label text-gray-800",children:"Kategori*"}),Object(B.jsx)(L.a,{autoComplete:"off",components:Q.a,value:se.values.faq_category,loadOptions:re,getOptionValue:function(e){var t;return null!==(t=e.id)&&void 0!==t?t:""},formatOptionLabel:function(e,t){return function(e,t){var a,n,c,i,l,s,r;if("value"===t.context)return null!==(a=null===(n=e.faq_categories_languages)||void 0===n||null===(c=n.find((function(e){return"ID"===(null===e||void 0===e?void 0:e.lang)})))||void 0===c?void 0:c.name)&&void 0!==a?a:"";var o=t.selectValue&&t.selectValue[0];return Object(B.jsxs)("div",{children:[Object(B.jsx)("div",{className:"fw-bolder",children:null===(i=e.faq_categories_languages)||void 0===i||null===(l=i.find((function(e){return"ID"===(null===e||void 0===e?void 0:e.lang)})))||void 0===l?void 0:l.name}),Object(B.jsx)("div",{className:Object(I.a)("fs-7",{"text-gray-600":(null===e||void 0===e?void 0:e.id)!==(null===o||void 0===o?void 0:o.id)}),children:null===(s=e.faq_categories_languages)||void 0===s||null===(r=s.find((function(e){return"EN"===(null===e||void 0===e?void 0:e.lang)})))||void 0===r?void 0:r.name})]})}(e,t)},onChange:function(){var e=Object(b.a)(Object(d.a)().mark((function e(t){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:se.setFieldTouched("faq_category_id",!0),le("faq_category_id",t.id,!0),le("faq_category",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),se.touched.faq_category_id&&se.errors.faq_category_id&&Object(B.jsx)("div",{className:"fv-plugins-message-container text-danger",children:Object(B.jsx)("span",{role:"alert",children:se.errors.faq_category_id})})]}),Object(B.jsxs)("div",{className:"col-12 mb-8",children:[Object(B.jsx)("label",{className:"flex-fill form-label text-gray-800",children:"Status"}),Object(B.jsxs)("div",{className:"form-check form-switch form-check-custom form-check-solid",children:[Object(B.jsx)("input",{className:"form-check-input",type:"checkbox",checked:se.values.status===i.ACTIVE,onChange:function(e){le("status",e.target.checked?i.ACTIVE:i.INACTIVE)}}),Object(B.jsx)("label",{className:"form-check-label",children:g[null!==(e=se.values.status)&&void 0!==e?e:"ACTIVE"]})]}),se.touched.status&&se.errors.status&&Object(B.jsx)("div",{className:"fv-plugins-message-container text-danger",children:Object(B.jsx)("span",{role:"alert",children:se.errors.status})})]}),Object(B.jsxs)("div",{className:"col-12 mb-8",children:[Object(B.jsx)("label",{className:"flex-fill form-label text-gray-800",children:"Judul (Bahasa Indonesia)*"}),Object(B.jsx)("input",Object(u.a)(Object(u.a)({placeholder:""},se.getFieldProps("faq_title_id")),{},{className:Object(I.a)("form-control form-control-lg form-control-solid"),type:"text",autoComplete:"off"})),se.touched.faq_title_id&&se.errors.faq_title_id&&Object(B.jsx)("div",{className:"fv-plugins-message-container text-danger",children:Object(B.jsx)("span",{role:"alert",children:se.errors.faq_title_id})})]}),Object(B.jsxs)("div",{className:"col-12 mb-8",children:[Object(B.jsx)("label",{className:"flex-fill form-label text-gray-800",children:"Judul (English)*"}),Object(B.jsx)("input",Object(u.a)(Object(u.a)({placeholder:""},se.getFieldProps("faq_title_en")),{},{className:Object(I.a)("form-control form-control-lg form-control-solid"),type:"text",autoComplete:"off"})),se.touched.faq_title_en&&se.errors.faq_title_en&&Object(B.jsx)("div",{className:"fv-plugins-message-container text-danger",children:Object(B.jsx)("span",{role:"alert",children:se.errors.faq_title_en})})]})]}),Object(B.jsxs)("div",{className:"d-flex justify-content-between align-items-end",children:[Object(B.jsx)("div",{className:"flex-fill fs-2 my-4 fw-bolder",children:"Konten FAQ"}),Object(B.jsx)("ul",{className:"nav nav-tabs nav-line-tabs mb-0 fs-6 pb-3 border-0",style:{flexWrap:"nowrap",overflowX:"auto"},children:Z.map((function(e){return Object(B.jsx)("li",{className:"nav-item flex-shrink-0",children:Object(B.jsx)(m.b,{className:Object(I.a)("nav-link",Y===e.value?"active fw-bold text-success border-success border-bottom-2":""),"data-bs-toggle":"tab",to:"#",onClick:function(){return U(e.value)},children:e.label})},"tab-".concat(e.label))}))})]}),Object(B.jsx)("div",{style:{backgroundColor:"#E3E6EF",height:1},className:"mb-4"}),(se.touched.faq_content_id&&se.errors.faq_content_id||se.touched.faq_content_en&&se.errors.faq_content_en)&&Object(B.jsx)("div",{className:"fv-plugins-message-container text-danger",children:Object(B.jsxs)("span",{role:"alert",children:[Object(B.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12",width:"12",height:"12",fill:"none",stroke:"#f0426c",children:[Object(B.jsx)("circle",{cx:"6",cy:"6",r:"4.5"}),Object(B.jsx)("path",{"stroke-linejoin":"round",d:"M5.8 3.6h.4L6 6.5z"}),Object(B.jsx)("circle",{cx:"6",cy:"8.2",r:".6",fill:"#f0426c",stroke:"none"})]})," ",null!==(t=se.errors.faq_content_id)&&void 0!==t?t:se.errors.faq_content_en]})}),Object(B.jsx)("div",{className:"pb-4"}),Object(B.jsx)(R,{value:te,onChange:function(e,t){ae(e);var a="id"===Y?"faq_content_id":"faq_content_en";se.setFieldTouched(a,!0),le(a,e,!0)}}),Object(B.jsx)("div",{className:"pb-8"}),Object(B.jsx)("div",{style:{backgroundColor:"#E3E6EF",height:1},className:"mb-8"}),Object(B.jsxs)("div",{className:"d-flex",children:[Object(B.jsx)(m.b,{className:"btn btn-lg btn-light fw-bolder me-4",to:O.b.CONTENT.PATH,children:"Kembali"}),Object(B.jsxs)("button",{type:"submit",className:"btn btn-lg btn-secondary fw-bolder",disabled:x||se.isSubmitting,children:[Object(B.jsx)("span",{className:"indicator-label",children:"Simpan"}),(x||se.isSubmitting)&&Object(B.jsxs)("span",{className:"indicator-progress",children:["Mohon Tunggu...",Object(B.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]})]})]})]})}),Object(B.jsx)(G,{show:J,processing:x,handleClose:function(){return W(!1)},handleContinue:function(){return ne(se.values)}})]})},ge=function(){var e=Object(l.useState)(!1),t=Object(j.a)(e,2),a=t[0],n=t[1],c=Object(l.useState)(!1),i=Object(j.a)(c,2),r=i[0],o=i[1],m=Object(l.useState)(void 0),O=Object(j.a)(m,2),h=O[0],g=O[1],x=Object(s.g)(),p=Object(ae.a)({code:"setting_profil_store"}).hasAccess,N=Object(q.c)().addPageToasts,_=Object(ee.a)(Object(l.useCallback)((function(e,t,a,c){n(!0);var i=function(){var c=Object(b.a)(Object(d.a)().mark((function c(){var i,l,s;return Object(d.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,ce({page:e.page,limit:e.limit,status:null!==(i=e.query.status)&&void 0!==i?i:void 0,search:null!==(l=e.query.search)&&void 0!==l?l:void 0,type:"HERMES"});case 3:s=c.sent,a()&&t((function(e){var t,a,n,c,i,l;return Object(u.a)(Object(u.a)({},e),{},{loading:!1,refreshing:!1,error:!1,page:Number(null!==(t=null===(a=s.data.data)||void 0===a?void 0:a.current_page)&&void 0!==t?t:1),data:null!==(n=null===(c=s.data.data)||void 0===c?void 0:c.items)&&void 0!==n?n:[],total:Number(null!==(i=null===(l=s.data.data)||void 0===l?void 0:l.total_item)&&void 0!==i?i:0)})})),n(!1),c.next=12;break;case 8:c.prev=8,c.t0=c.catch(0),a()&&t((function(e){return Object(u.a)(Object(u.a)({},e),{},{loading:!1,error:!0,data:[]})})),n(!1);case 12:case"end":return c.stop()}}),c,null,[[0,8]])})));return function(){return c.apply(this,arguments)}}();i()}),[]),{loading:!1,refreshing:!1,error:!1,page:0,data:[],total:0,limit:10,query:{}}),y=_.state,E=_.setLimit,C=_.setPage,k=_.setQuery,w=[{label:"Semua",value:void 0},{label:"Active",value:"ACTIVE"},{label:"Inactive",value:"INACTIVE"}],T=$(Object(l.useCallback)((function(e){k((function(t){return Object(u.a)(Object(u.a)({},t),{},{search:e})}))}),[k]),500),A=function(e){return e?Object(B.jsx)("span",{className:"badge badge-light-success",children:"Active"}):Object(B.jsx)("span",{className:"badge badge-light-dark",children:"Inactive"})},I=function(e,t,a){var n,c,i,l,s;return a?(null===e||void 0===e||null===(n=e.parent)||void 0===n||null===(c=n.faq_categories_languages)||void 0===c||null===(i=c.find((function(e){return(null===e||void 0===e?void 0:e.lang)===t})))||void 0===i?void 0:i.name)||"-":(null===e||void 0===e||null===(l=e.faq_categories_languages)||void 0===l||null===(s=l.find((function(e){return(null===e||void 0===e?void 0:e.lang)===t})))||void 0===s?void 0:s.name)||"-"};return Object(l.useEffect)((function(){document.title=Object(v.a)("Kategori FAQ eFOOD")}),[]),Object(l.useEffect)((function(){C(1)}),[C]),Object(l.useEffect)((function(){var e=x.location.state;null!==e&&void 0!==e&&e.message&&N({scheme:"info",text:null===e||void 0===e?void 0:e.message})}),[x.location]),Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(f.d,{description:"List Kategori FAQ eFOOD Partner",children:"Kategori FAQ eFOOD Partner"}),Object(B.jsxs)("div",{className:"card",children:[a&&Object(B.jsx)("div",{className:"overlay-light"}),Object(B.jsxs)("div",{className:"card-header d-flex align-items-center",children:[Object(B.jsx)("div",{className:"flex-fill fs-2 fw-bolder",children:"List Kategori FAQ eFOOD Partner"}),p({access:"create"})&&Object(B.jsx)("button",{onClick:function(){return o(!0)},className:"btn btn-secondary",children:"Tambah Kategori"})]}),Object(B.jsxs)("div",{className:"card-body",children:[Object(B.jsxs)("div",{className:"d-flex flex-wrap align-items-center",children:[Object(B.jsxs)("div",{className:"mb-4 w-lg-300px me-lg-4 w-100 position-relative",children:[Object(B.jsx)(U.a,{src:"/media/icons/efood/IconSearch.svg",className:"position-absolute translate-middle-y top-50 ms-4 pe-none"}),Object(B.jsx)("input",{placeholder:"Cari",className:"form-control form-control-lg form-control-solid ps-13",type:"text",autoComplete:"off",onChange:function(e){return T(e.currentTarget.value)}})]}),Object(B.jsxs)("div",{className:"mb-4 w-lg-auto me-lg-4 w-100 d-flex align-items-center",children:[Object(B.jsx)("span",{className:"me-5 flex-shrink-0 fw-bold",children:"Filter Status"}),Object(B.jsx)("div",{className:"position-relative w-lg-200px w-100",children:Object(B.jsx)(te.a,{autoComplete:"off",components:Q.a,options:w,defaultValue:{value:"",label:"Semua"},onChange:function(e){return k((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:null===e||void 0===e?void 0:e.value})}))}})})]})]}),Object(B.jsxs)("div",{className:"position-relative",children:[Object(B.jsx)("div",{className:"table-responsive my-8",children:Object(B.jsxs)("table",{className:"table table-striped table-hover gx-4 gy-4",children:[Object(B.jsx)("thead",{className:"text-gray fw-700",children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{children:"No."}),Object(B.jsx)("th",{style:{minWidth:100},children:"Action"}),Object(B.jsx)("th",{children:"Parent Kategori"}),Object(B.jsx)("th",{children:"Nama Kategori"}),Object(B.jsx)("th",{children:"Status"})]})}),Object(B.jsx)("tbody",{children:0===y.data.length?Object(B.jsx)("tr",{children:Object(B.jsx)("td",{colSpan:7,className:"text-center",children:y.loading?"Loading":y.error?"Error, try to refresh the page":Object(B.jsxs)("div",{className:"text-center",children:[Object(B.jsx)(U.a,{src:"/media/icons/efood/IconFolder.svg"}),Object(B.jsx)("p",{children:"Belum ada kategori FAQ yang dibuat"})]})})}):y.data.map((function(e,t){return Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{className:"align-middle fw-bold",children:(y.page-1)*y.limit+t+1}),Object(B.jsx)("td",{className:"align-middle",children:Object(B.jsx)("button",{className:"btn-transparent",onClick:function(){g(e),o(!0)},children:Object(B.jsx)(U.a,{src:"/media/icons/efood/IconEdit.svg"})})}),Object(B.jsxs)("td",{className:"align-middle",children:[Object(B.jsxs)("div",{children:["ID: ",I(e,"ID",!0)]}),Object(B.jsxs)("div",{children:["EN: ",I(e,"EN",!0)]})]}),Object(B.jsxs)("td",{className:"align-middle fw-bold",children:[Object(B.jsxs)("div",{children:["ID: ",I(e,"ID")]}),Object(B.jsxs)("div",{children:["EN: ",I(e,"EN")]})]}),Object(B.jsx)("td",{className:"align-middle",children:A("ACTIVE"===(null===e||void 0===e?void 0:e.status))})]},e.id)}))})]})}),y.data.length>0&&y.loading?Object(B.jsx)("div",{className:"position-absolute top-0 start-0 end-0 bottom-0",style:{backgroundColor:"rgba(255,255,255,0.7)"}}):null]}),Object(B.jsx)(Z.a,{loading:y.loading,page:y.page,limit:y.limit,setPage:C,setPerPage:E,maxData:y.total})]})]}),Object(B.jsx)(ue,{show:r,handleClose:function(){o(!1),h&&g(void 0)},handleSuccess:function(){o(!1),h&&g(void 0),N({scheme:"info",text:"Data berhasil disimpan"}),C(1)},data:h,type:"HERMES"})]})},xe=function(e){var t=e.children;return Object(B.jsxs)("div",{className:"card mb-6",children:[Object(B.jsxs)("div",{className:"card-header d-flex align-items-center",children:[Object(B.jsx)("div",{className:"flex-fill fs-2 fw-bolder",children:O.b.CONTENT.TITLE}),Object(B.jsx)(m.b,{to:O.c.FAQ_HERMES_CONTENT_CREATE.PATH,className:"btn btn-secondary",children:"Tambah Konten FAQ"})]}),Object(B.jsx)("div",{className:"card-body",children:t})]})},pe=function(){var e=Object(s.i)(),t=e.id,a=e.merchantId,n=Object(ee.a)(Object(l.useCallback)((function(e,t,a,n){var c=function(){var c=Object(b.a)(Object(d.a)().mark((function c(){var i;return Object(d.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,V(Object(u.a)(Object(u.a)({},e.query),{},{page:e.page,limit:e.limit,type:"HERMES"}),n);case 3:i=c.sent,a()&&t((function(e){var t,a,n,c,l,s;return Object(u.a)(Object(u.a)({},e),{},{loading:!1,refreshing:!1,error:!1,page:null!==(t=null===(a=i.data.data)||void 0===a?void 0:a.current_page)&&void 0!==t?t:1,data:null!==(n=null===(c=i.data.data)||void 0===c?void 0:c.items)&&void 0!==n?n:[],total:null!==(l=null===(s=i.data.data)||void 0===s?void 0:s.total_item)&&void 0!==l?l:0})})),c.next=10;break;case 7:c.prev=7,c.t0=c.catch(0),a()&&t((function(e){return Object(u.a)(Object(u.a)({},e),{},{loading:!1,refreshing:!1,error:!0,data:[]})}));case 10:case"end":return c.stop()}}),c,null,[[0,7]])})));return function(){return c.apply(this,arguments)}}();c()}),[a,t]),{loading:!1,refreshing:!1,error:!1,page:0,data:[],total:0,limit:10,query:{}}),c=n.state,i=n.setLimit,o=n.setPage,j=n.setQuery,f=$(Object(l.useCallback)((function(e){j((function(t){return Object(u.a)(Object(u.a)({},t),{},{search:e})}))}),[j]),500),v=Object(l.useCallback)(function(){var e=Object(b.a)(Object(d.a)().mark((function e(t,a){var n,c,i,l,s,o,u,b;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P({page:0===a.length?1:Math.ceil((a.length-1)/10)+1,limit:10,search:t,status:"ACTIVE",type:"HERMES"});case 3:return u=e.sent,b=0===a.length?[{}].concat(Object(r.a)(null!==(n=null===(c=u.data.data)||void 0===c?void 0:c.items)&&void 0!==n?n:[])):Object(r.a)(null!==(i=null===(l=u.data.data)||void 0===l?void 0:l.items)&&void 0!==i?i:[]),e.abrupt("return",{options:b,hasMore:b.length+a.length<=(null!==(s=null===(o=u.data.data)||void 0===o?void 0:o.total_item)&&void 0!==s?s:0)});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{options:[],hasMore:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),[]),h=Object(l.useMemo)((function(){return[{value:void 0,label:"Semua"}].concat(Object(r.a)(Object.keys(g).map((function(e){return{value:e,label:g[e]}}))))}),[]);return Object(l.useEffect)((function(){o(1)}),[]),c.loading||c.error||c.query.search||c.query.category_id||c.query.status||1!==Number(c.page)||0!==c.data.length?Object(B.jsxs)(xe,{children:[Object(B.jsxs)("div",{className:"row align-items-center",children:[Object(B.jsxs)("div",{className:"mb-4 col-md-4 position-relative",children:[Object(B.jsx)(U.a,{src:"/media/icons/efood/IconSearch.svg",className:"position-absolute translate-middle-y top-50 ms-4 pe-none"}),Object(B.jsx)("input",{placeholder:"Cari",className:"form-control form-control-lg form-control-solid ps-13",type:"text",autoComplete:"off",onChange:function(e){return f(e.currentTarget.value)}})]}),Object(B.jsxs)("div",{className:"mb-4 col-md-4 d-flex align-items-center",children:[Object(B.jsx)("span",{className:"me-5 w-auto w-md-80px fw-bold",children:"Filter Kategori"}),Object(B.jsx)("div",{className:"position-relative flex-fill",children:Object(B.jsx)(L.a,{autoComplete:"off",components:Q.a,loadOptions:v,defaultValue:{},getOptionValue:function(e){var t;return null!==(t=e.id)&&void 0!==t?t:""},formatOptionLabel:function(e,t){return function(e,t){var a,n,c,i,l,s,r;if("value"===t.context)return e.id?null!==(a=null===(n=e.faq_categories_languages)||void 0===n||null===(c=n.find((function(e){return"ID"===(null===e||void 0===e?void 0:e.lang)})))||void 0===c?void 0:c.name)&&void 0!==a?a:"":"Semua";var o=t.selectValue&&t.selectValue[0];return e.id?Object(B.jsxs)("div",{children:[Object(B.jsx)("div",{className:"fw-bolder",children:null===(i=e.faq_categories_languages)||void 0===i||null===(l=i.find((function(e){return"ID"===(null===e||void 0===e?void 0:e.lang)})))||void 0===l?void 0:l.name}),Object(B.jsx)("div",{className:Object(I.a)("fs-7",{"text-gray-600":(null===e||void 0===e?void 0:e.id)!==(null===o||void 0===o?void 0:o.id)}),children:null===(s=e.faq_categories_languages)||void 0===s||null===(r=s.find((function(e){return"EN"===(null===e||void 0===e?void 0:e.lang)})))||void 0===r?void 0:r.name})]}):Object(B.jsx)("div",{className:"fw-bolder",children:"Semua"})}(e,t)},onChange:function(e){return j((function(t){return Object(u.a)(Object(u.a)({},t),{},{category_id:null===e||void 0===e?void 0:e.id})}))}})})]}),Object(B.jsxs)("div",{className:"mb-4 col-md-4 d-flex align-items-center",children:[Object(B.jsx)("span",{className:"me-5 w-auto w-md-80px fw-bold",children:"Filter Status"}),Object(B.jsx)("div",{className:"position-relative flex-fill",children:Object(B.jsx)(te.a,{autoComplete:"off",components:Q.a,options:h,defaultValue:{value:void 0,label:"Semua"},onChange:function(e){return j((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:null===e||void 0===e?void 0:e.value})}))}})})]})]}),Object(B.jsxs)("div",{className:"position-relative",children:[Object(B.jsx)("div",{className:"table-responsive my-8",children:Object(B.jsxs)("table",{className:"table table-striped table-hover gx-4 gy-4",children:[Object(B.jsx)("thead",{className:"text-gray fw-700",children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{children:"No."}),Object(B.jsx)("th",{style:{minWidth:100},children:"Action"}),Object(B.jsx)("th",{children:"Kategori"}),Object(B.jsx)("th",{children:"Judul"}),Object(B.jsx)("th",{children:"Status"})]})}),Object(B.jsx)("tbody",{children:0===c.data.length?Object(B.jsx)("tr",{children:Object(B.jsx)("td",{colSpan:5,className:"text-center",children:c.loading?"Loading":c.error?"Error, try to refresh the page":"Data Kosong"})}):c.data.map((function(e,t){var a,n,i,l,s,r,o,d,u,b,j;return Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{className:"align-middle",children:(c.page-1)*c.limit+t+1}),Object(B.jsx)("td",{className:"align-middle",children:Object(B.jsx)(m.b,{className:"btn-transparent",to:O.c.FAQ_HERMES_CONTENT_DETAIL.buildPath(e.id),children:Object(B.jsx)(U.a,{src:"/media/icons/efood/IconEdit.svg"})})}),Object(B.jsxs)("td",{className:"align-middle",children:[Object(B.jsxs)("div",{children:["ID:"," ",null===e||void 0===e||null===(a=e.faq_category)||void 0===a||null===(n=a.faq_categories_languages)||void 0===n||null===(i=n.find((function(e){return"ID"===(null===e||void 0===e?void 0:e.lang)})))||void 0===i?void 0:i.name]}),Object(B.jsxs)("div",{children:["EN:"," ",null===e||void 0===e||null===(l=e.faq_category)||void 0===l||null===(s=l.faq_categories_languages)||void 0===s||null===(r=s.find((function(e){return"EN"===(null===e||void 0===e?void 0:e.lang)})))||void 0===r?void 0:r.name]})]}),Object(B.jsxs)("td",{className:"align-middle",children:[Object(B.jsxs)("div",{children:["ID:"," ",null===e||void 0===e||null===(o=e.faq_contents_languages)||void 0===o||null===(d=o.find((function(e){return"ID"===(null===e||void 0===e?void 0:e.lang)})))||void 0===d?void 0:d.title]}),Object(B.jsxs)("div",{children:["EN:"," ",null===e||void 0===e||null===(u=e.faq_contents_languages)||void 0===u||null===(b=u.find((function(e){return"EN"===(null===e||void 0===e?void 0:e.lang)})))||void 0===b?void 0:b.title]})]}),Object(B.jsx)("td",{className:"align-middle",children:Object(B.jsx)("span",{className:"badge ".concat(null!==(j=x[e.status])&&void 0!==j?j:"badge-light-dark"),children:g[e.status]})})]},e.id)}))})]})}),c.data.length>0&&c.loading?Object(B.jsx)("div",{className:"position-absolute top-0 start-0 end-0 bottom-0",style:{backgroundColor:"rgba(255,255,255,0.7)"}}):null]}),Object(B.jsx)(Z.a,{loading:c.loading,page:Number(c.page),limit:c.limit,setPage:o,setPerPage:i,maxData:c.total})]}):Object(B.jsx)(xe,{children:Object(B.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-center",children:[Object(B.jsx)("div",{children:Object(B.jsx)(U.a,{src:"/media/icons/efood/IconFaqContentEmpty.svg"})}),Object(B.jsx)("div",{className:"text-gray-600",children:"Belum ada konten FAQ yang dibuat"})]})})},Ne=function(){var e=Object(s.i)().tab,t=Object(l.useMemo)((function(){var e=[];return Object.values(O.b).forEach((function(t){e.push({tab:t.SLUG,label:t.LABEL,title:t.TITLE,path:t.PATH})})),e}),[]),a=Object(l.useMemo)((function(){var a;return null===(a=t.find((function(t){return t.tab===e})))||void 0===a?void 0:a.title}),[e,t]);return Object(B.jsxs)("div",{children:[Object(B.jsx)(f.d,{description:a,children:a}),Object(B.jsx)("ul",{className:"nav nav-tabs nav-line-tabs mb-5 fs-6 pb-3 border-0 mb-10",style:{flexWrap:"nowrap",overflowX:"auto"},children:t.map((function(t){return Object(B.jsx)("li",{className:"nav-item flex-shrink-0",children:Object(B.jsx)(m.b,{className:Object(I.a)("nav-link",e===t.tab?"active fw-bold text-success border-success border-bottom-2":""),"data-bs-toggle":"tab",to:t.path,children:t.label})},t.label)}))}),Object(B.jsxs)(s.d,{children:[Object(B.jsx)(s.b,{path:O.b.CATEGORY.PATH,component:ge}),Object(B.jsx)(s.b,{path:O.b.CONTENT.PATH,component:pe})]})]})};t.default=function(){return Object(B.jsxs)(s.d,{children:[Object(B.jsx)(s.b,{path:O.c.FAQ_EFOOD_CONTENT_CREATE.PATH,component:Y,exact:!0}),Object(B.jsx)(s.b,{path:O.c.FAQ_EFOOD_CONTENT_DETAIL.PATH,component:Y,exact:!0}),Object(B.jsx)(s.b,{path:O.c.FAQ_EFOOD.PATH,component:fe,exact:!0}),Object(B.jsx)(s.b,{path:O.c.FAQ_HERMES_CONTENT_CREATE.PATH,component:he,exact:!0}),Object(B.jsx)(s.b,{path:O.c.FAQ_HERMES_CONTENT_DETAIL.PATH,component:he,exact:!0}),Object(B.jsx)(s.b,{path:O.c.FAQ_HERMES.PATH,component:Ne,exact:!0}),Object(B.jsx)(s.a,{from:O.c.FAQ_EFOOD.BASE_PATH,to:O.a.CATEGORY.PATH}),Object(B.jsx)(s.a,{to:O.a.CATEGORY.PATH})]})}}}]);
//# sourceMappingURL=20.162debdd.chunk.js.map