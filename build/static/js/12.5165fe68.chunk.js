(this.webpackJsonpebiz=this.webpackJsonpebiz||[]).push([[12],{421:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var a=s(10),c=s(176),n=s(15),i=(s(2),s(433)),l=s(0),r=["children","isFocused","isDisabled"],o={Control:function(e){var t=e.children,s=e.isFocused,o=e.isDisabled,d=Object(c.a)(e,r);return Object(l.jsx)(i.l.Control,Object(a.a)(Object(a.a)({className:Object(n.a)("form-control border-0 form-control-lg-select form-control-solid",{focus:s,disabled:o}),isFocused:!0,isDisabled:!0},d),{},{children:t}))},IndicatorSeparator:function(){return null}}},423:function(e,t,s){"use strict";s(2);var a=s(3),c=s(0);t.a=function(e){var t=e.message,s=e.handleClose;return t?Object(c.jsxs)("div",{className:"alert_success position-absolute",role:"alert",style:{left:0,top:0,right:0,zIndex:2},children:[Object(c.jsxs)("div",{className:"d-flex align-items-center",children:[Object(c.jsx)("div",{className:"btn btn-icon btn-sm btn-transparent",children:Object(c.jsx)(a.a,{className:"svg-icon-2",path:"/media/icons/efood/ButtonSuccess.svg"})}),Object(c.jsx)("p",{children:t})]}),Object(c.jsx)("div",{className:"btn btn-icon btn-sm btn-transparent",onClick:s,children:Object(c.jsx)(a.a,{className:"svg-icon-2",path:"/media/icons/efood/ButtonClose.svg"})})]}):null}},424:function(e,t,s){"use strict";s.d(t,"a",(function(){return b}));var a=s(30),c=s(78),n=s(10),i=s(11),l=s(27),r=s.n(l),o=s(2),d=s(426);function b(e,t){var s=Object(o.useState)(t),l=Object(i.a)(s,2),b=l[0],j=l[1],u=Object(o.useCallback)((function(e){j((function(t){return t.refreshing||t.total>0&&!Math.ceil(t.total/t.limit)?t:Object(n.a)(Object(n.a)({},t),{},{loading:!0,refreshing:!1,page:e})}))}),[]),m=Object(o.useCallback)((function(e){j((function(t){return Object(n.a)(Object(n.a)({},t),{},{loading:!0,refreshing:!0,page:1,total:0,query:e(t.query)})}))}),[]),h=Object(o.useCallback)((function(e){j((function(t){return Object(n.a)(Object(n.a)({},t),{},{loading:!0,refreshing:!0,page:1,total:0,limit:e})}))}),[]),f=Object(o.useCallback)((function(){var t=!0,s=r.a.CancelToken.source(),n=function(){var n=Object(c.a)(Object(a.a)().mark((function c(){var n;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(d.a)(j);case 2:if((n=a.sent).loading||n.refreshing){a.next=5;break}return a.abrupt("return");case 5:e(n,j,(function(){return t}),s.token);case 6:case"end":return a.stop()}}),c)})));return function(){return n.apply(this,arguments)}}();return n(),function(){t=!1,s.cancel()}}),[e]);return Object(o.useEffect)(f,[b.loading,b.refreshing]),{state:b,setPage:u,setQuery:m,setLimit:h,setState:j}}},425:function(e,t,s){"use strict";var a=s(2),c=s(28),n=s(0);t.a=function(e){var t=e.loading,s=e.limit,i=e.setPerPage,l=e.page,r=e.setPage,o=e.maxData,d=Object(a.useMemo)((function(){return Math.ceil(o/s)}),[o,s]),b=Object(a.useMemo)((function(){var e=[];if(0===d)return e;var t=Math.min(d,Math.max(0,l));if(d<8)for(var s=1;s<=d;s++)e.push(s);else t>4?e.push(1,void 0,Math.min(t,d-3)-1):e.push(1,2,3,4),t+3<d?(t>4&&e.push(t),e.push(Math.max(t,4)+1,void 0,d)):e.push(d-3,d-2,d-1,d);return e}),[d,l]);return Object(n.jsxs)("div",{className:"d-flex flex-wrap",children:[Object(n.jsxs)("div",{className:"mb-4 w-md-auto w-100 d-flex align-items-center",children:[Object(n.jsxs)("div",{className:"position-relative",children:[Object(n.jsx)(c.a,{src:"/media/icons/efood/IconChevronDown.svg",className:"position-absolute translate-middle-y top-50 me-4 end-0 pe-none"}),Object(n.jsxs)("select",{className:"form-control form-control-sm form-control-solid pe-13",autoComplete:"off",value:s,onChange:function(e){return i(Number(e.currentTarget.value))},children:[Object(n.jsx)("option",{children:"10"}),Object(n.jsx)("option",{children:"20"}),Object(n.jsx)("option",{children:"50"}),Object(n.jsx)("option",{children:"100"})]})]}),t||0===o?null:Object(n.jsxs)("span",{className:"ms-5 flex-shrink-0",children:["Menampilkan ",(l-1)*s+1,"-",Math.min(o,(l-1)*s+s)," ","dari ",o," entri"]})]}),b.length>0?Object(n.jsxs)("ul",{className:"pagination flex-nowrap flex-fill justify-content-md-end",children:[Object(n.jsx)("li",{className:"page-item previous ".concat(1===l?"disabled":""),children:Object(n.jsx)("button",{onClick:function(){return r(l-1)},className:"page-link",children:Object(n.jsx)("i",{className:"previous"})})}),b.map((function(e,t){return void 0===e?Object(n.jsx)("li",{className:"page-item disabled",children:Object(n.jsx)("button",{className:"page-link",children:"..."})},"".concat(t,"-dot")):Object(n.jsx)("li",{className:"page-item ".concat(l===e?"active":""),children:Object(n.jsx)("button",{onClick:function(){return r(e)},className:"page-link",children:e})},e)})),Object(n.jsx)("li",{className:"page-item next ".concat(l===d?"disabled":""),children:Object(n.jsx)("button",{onClick:function(){return r(l+1)},className:"page-link",children:Object(n.jsx)("i",{className:"next"})})})]}):null]})}},426:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var a=function(e){return new Promise((function(t){e((function(e){return t(e),e}))}))}},485:function(e,t,s){"use strict";s.r(t);var a=s(2),c=s(26),n=s(30),i=s(10),l=s(78),r=s(11),o=s(28),d=s(425),b=s(424),j=s(34),u=s(84),m=s(27),h=s.n(m),f="/api/v1/musician";function O(e){var t=e.page,s=e.limit,a=e.search,c=e.statuses;return h.a.get(f,{params:{page:t,limit:s,search:a,statuses:c}})}var x={MUSICARTIST_LIST:{PATH:"/musicArtist/list",TITLE:"List of Artist"},ADD_MUSICARTIST:{PATH:"/musicArtist/add/",TITLE:"Add Artist"},EDIT_MUSICARTIST:{PATH:"/musicArtist/edit/:id",TITLE:"Edit Artist"}},p=s(417),g=s(3),v=s(0),N=function(e){var t=e.show,s=e.handleClose,a=e.data,c=e.onDelete;return Object(v.jsxs)(p.a,{"aria-hidden":"true",tabIndex:"-1",show:t,onHide:s,centered:!0,children:[Object(v.jsxs)("div",{className:"modal-header d-flex align-items-center justify-content-between",children:[Object(v.jsx)("h3",{className:"d-flex align-items-center",children:"Delete"}),Object(v.jsx)("div",{className:"btn btn-icon btn-sm btn-active-light-primary ms-2",onClick:s,children:Object(v.jsx)(g.a,{path:"/media/icons/duotune/arrows/arr061.svg",className:"svg-icon-2"})})]}),Object(v.jsx)("div",{className:"modal-body",children:Object(v.jsx)("div",{className:"fv-row mb-10",children:Object(v.jsxs)("div",{className:"mb-4",children:["Are you sure want to delete ",Object(v.jsx)("span",{className:"fw-bolder",children:null===a||void 0===a?void 0:a.name})," from list music artist?"]})})}),Object(v.jsxs)("div",{className:"modal-footer",children:[Object(v.jsx)("button",{type:"button",onClick:c,className:"btn btn-lg btn-light fw-bolder",children:Object(v.jsx)("span",{className:"text-secondary",children:"Delete"})})," ",Object(v.jsx)("button",{type:"button",className:"btn btn-lg btn-secondary fw-bolder me-4",onClick:s,children:"Cancel"})]})]})},T=s(154),C=s(18),I=s(69),y=function(e){var t=Object(T.c)().addPageToasts,s=Object(c.g)(),m=Object(a.useState)(!1),p=Object(r.a)(m,2),g=p[0],y=p[1],S=Object(a.useState)(null),A=Object(r.a)(S,2),w=A[0],k=A[1],D=Object(b.a)(Object(a.useCallback)((function(e,t,s,a){var c=function(){var a=Object(l.a)(Object(n.a)().mark((function a(){var c,l;return Object(n.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c=[],e.query.status?c.push(e.query.status):(c.push("ACTIVE"),c.push("INACTIVE")),a.next=5,O({page:e.page,limit:e.limit,search:e.query.search,statuses:c});case 5:l=a.sent,s()&&t((function(e){var t,s,a,c,n,r;return Object(i.a)(Object(i.a)({},e),{},{loading:!1,refreshing:!1,error:!1,page:null!==(t=null===(s=l.data.data)||void 0===s?void 0:s.current_page)&&void 0!==t?t:1,data:null!==(a=null===(c=l.data.data)||void 0===c?void 0:c.items)&&void 0!==a?a:[],total:null!==(n=null===(r=l.data.data)||void 0===r?void 0:r.total)&&void 0!==n?n:0})})),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),s()&&t((function(e){return Object(i.a)(Object(i.a)({},e),{},{loading:!1,error:!0,data:[]})}));case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(){return a.apply(this,arguments)}}();c()}),[]),{loading:!1,refreshing:!1,error:!1,page:0,data:[],total:0,limit:10,query:{}}),M=D.state,E=D.setLimit,P=D.setPage,_=D.setQuery;return Object(a.useEffect)((function(){document.title=Object(u.a)("List of Verified")}),[]),Object(a.useEffect)((function(){P(1)}),[P]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(j.d,{children:"Manage MusicArtist"}),Object(v.jsxs)("div",{className:"card shadow-sm",children:[Object(v.jsxs)("div",{className:"card-header d-flex align-items-center justify-content-between",children:[Object(v.jsx)("div",{className:"flex-fill fs-2 fw-bolder",children:x.MUSICARTIST_LIST.TITLE}),Object(v.jsx)("div",{className:"card-toolbar",children:Object(v.jsx)(C.b,{to:{pathname:"/musicArtist/add/1"},className:"btn btn-sm btn-secondary fw-bold fs-6",children:"Add MusicArtist"})})]}),Object(v.jsxs)("div",{className:"card-body",children:[Object(v.jsxs)("div",{className:"d-flex flex-wrap align-items-center",children:[Object(v.jsxs)("div",{className:"w-lg-auto w-100 d-flex align-items-center",children:[Object(v.jsx)("span",{className:"me-5 ms-lg-4 flex-shrink-0",children:"Filter"}),Object(v.jsxs)("div",{className:"position-relative w-lg-200px w-100",children:[Object(v.jsx)(o.a,{src:"/media/icons/efood/IconChevronDown.svg",className:"position-absolute translate-middle-y top-50 me-4 end-0 pe-none"}),Object(v.jsx)("select",{className:"form-control form-control-lg form-control-solid pe-13",autoComplete:"off",value:M.query.role_id,onChange:function(e){return _((function(t){return Object(i.a)(Object(i.a)({},t),{},{role_id:e.target.value})}))},children:Object(v.jsx)("option",{value:"",children:"Choose"})})]})]}),Object(v.jsxs)("div",{className:"w-lg-200px w-100 position-relative",children:[Object(v.jsx)(o.a,{src:"/media/icons/efood/IconSearch.svg",className:"position-absolute translate-middle-y top-50 ms-4 pe-none"}),Object(v.jsx)("input",{placeholder:"Search",className:"form-control form-control-lg form-control-solid ps-13",type:"text",autoComplete:"off"})]})]}),Object(v.jsxs)("div",{className:"position-relative",children:[Object(v.jsx)("div",{className:"table-responsive my-8",children:Object(v.jsxs)("table",{className:"table table-striped table-hover gx-4 gy-4",children:[Object(v.jsx)("thead",{className:"text-gray fw-700",children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"NO"}),Object(v.jsx)("th",{children:"ARTIST NAME"}),Object(v.jsx)("th",{children:"GENRE"}),Object(v.jsx)("th",{children:"DESCRIPTION"}),Object(v.jsx)("th",{children:"CREATED"}),Object(v.jsx)("th",{children:"EDITED"}),Object(v.jsx)("th",{children:"STATUS"}),Object(v.jsx)("th",{children:"ACTION"})]})}),Object(v.jsx)("tbody",{children:0===M.data.length?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:9,className:"text-center",children:M.loading?"Loading":M.error?"Error, try to refresh the page":"Data Kosong"})}):M.data.map((function(e,t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:"align-middle",children:(M.page-1)*M.limit+t+1}),Object(v.jsx)("td",{className:"align-middle",children:e.description}),Object(v.jsx)("td",{className:"align-middle",children:e.music_genres}),Object(v.jsx)("td",{className:"align-middle"}),Object(v.jsx)("td",{className:"align-middle",children:e.created_at}),Object(v.jsx)("td",{className:"align-middle",children:e.edited_at}),Object(v.jsxs)("td",{className:"align-middle",children:[" ",e.status]}),Object(v.jsxs)("td",{className:"align-middle",style:{minWidth:125},children:[Object(v.jsx)("button",{type:"button",className:"btn-transparent me-3",onClick:function(){return s.push("/musicArtist/add/".concat(e.id))},children:Object(v.jsx)(o.a,{src:"/media/icons/edit.svg"})}),Object(v.jsx)("div",{className:"d-inline",onClick:function(){k(e),y(!0)},style:{cursor:"pointer"},children:Object(v.jsx)(o.a,{src:"/media/icons/trash.svg"})})]})]},e.id)}))})]})}),M.data.length>0&&M.loading?Object(v.jsx)("div",{className:"position-absolute top-0 start-0 end-0 bottom-0",style:{backgroundColor:"rgba(255,255,255,0.7)"}}):null]}),Object(v.jsx)(d.a,{loading:M.loading,page:M.page,limit:M.limit,setPage:P,setPerPage:E,maxData:M.total})]}),Object(v.jsx)(N,{onDelete:function(){var e,s;(s=null!==(e=null===w||void 0===w?void 0:w.id)&&void 0!==e?e:"",h.a.delete(f+"/".concat(s))).then((function(){y(!1),P(M.page)})).catch((function(e){y(!1),t({scheme:"danger",text:Object(I.a)(e,!0)})}))},show:g,handleClose:function(){return y(!1)},data:w})]})]})},S=s(19),A=s(22),w=s(423),k=s(422),D=s(421),M={description:"",logo:"",status:0,detail:"",genre_ids:""},E=function(){var e=Object(a.useState)(""),t=Object(r.a)(e,2),s=t[0],n=t[1],l=Object(a.useState)(),o=Object(r.a)(l,2),d=o[0],b=o[1],m=Object(a.useRef)(),O=Object(c.g)(),p=Object(A.e)({initialValues:M,validateOnBlur:!1,validateOnChange:!1,onSubmit:function(e,t){var s=t.setStatus,a=t.setSubmitting;a(!0),setTimeout((function(){var t,c;(t=e.description,c=e.status,e.logo,e.detail,e.genre_ids,h.a.post(f,{description:t,status:c})).then((function(){O.goBack()})).catch((function(){a(!1),s("Add Music Artist gagal.")}))}),1e3)}}),N=Object(a.useMemo)((function(){return x.ADD_MUSICARTIST.TITLE}),[]),T=Object(a.useMemo)((function(){return[{isActive:!1,path:x.ADD_MUSICARTIST.PATH,title:x.ADD_MUSICARTIST.TITLE},{isActive:!1,path:"",title:"",isSeparator:!0}]}),[]);return Object(a.useEffect)((function(){document.title=Object(u.a)(N)}),[]),Object(v.jsxs)("div",{className:"card",children:[Object(v.jsx)(j.d,{breadcrumbs:T,children:N}),Object(v.jsxs)("div",{className:"card-body",children:[Object(v.jsx)(w.a,{message:s,handleClose:function(){return n("")}}),Object(v.jsxs)("form",{className:"form w-100",onSubmit:p.handleSubmit,noValidate:!0,children:[Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col",children:Object(v.jsxs)("div",{className:"mb-10 row",children:[Object(v.jsxs)("div",{className:"col-12 col-md-6 mb-10 mb-md-0",children:[Object(v.jsx)("label",{className:"flex-fill form-label fs-6 fw-bolder text-gray-800",children:"Artist Name*"}),Object(v.jsx)("input",Object(i.a)(Object(i.a)({},p.getFieldProps("name")),{},{type:"text",className:"form-control form-control-lg form-control-solid",tabIndex:1}))]}),Object(v.jsx)("div",{className:"mb-10 row",children:Object(v.jsxs)("div",{className:"col-12 col-md-6",children:[Object(v.jsx)("label",{className:"flex-fill form-label fs-6 fw-bolder text-gray-800",children:"Genre*"}),Object(v.jsx)(k.a,{placeholder:"Pilih Genre",cacheOptions:!0,defaultOptions:!0,components:D.a,value:d,options:[],onChange:function(e){b(e),p.setFieldValue("role_id",e.value)},tabIndex:"5"})]})}),Object(v.jsx)("div",{className:"mb-10 row",children:Object(v.jsxs)("div",{className:"col-12 col-md-6",children:[Object(v.jsx)("label",{className:"flex-fill form-label fs-6 fw-bolder text-gray-800",children:"Status*"}),Object(v.jsx)(k.a,{placeholder:"All Status",cacheOptions:!0,defaultOptions:!0,components:D.a,value:d,options:[],onChange:function(e){b(e),p.setFieldValue("role_id",e.value)},tabIndex:"5"})]})}),Object(v.jsxs)("div",{className:"col-12 col-md-6 mb-10 mb-md-0",children:[Object(v.jsx)("label",{className:"flex-fill form-label fs-6 fw-bolder text-gray-800",children:"Description*"}),Object(v.jsx)("input",Object(i.a)(Object(i.a)({},p.getFieldProps("name")),{},{type:"text",className:"form-control form-control-lg form-control-solid",tabIndex:1}))]})]})}),Object(v.jsxs)("div",{className:"col-4",children:[Object(v.jsx)("label",{className:"flex-fill form-label fs-6 fw-bolder text-gray-800",children:"Image cover"}),Object(v.jsx)("div",{className:"d-flex align-items-start py-5",children:Object(v.jsxs)("div",{className:"me-3",style:{position:"relative"},children:[Object(v.jsxs)("button",{onClick:function(){var e;null===(e=m.current)||void 0===e||e.click()},className:"d-flex flex-column align-items-center justify-content-center rounded",style:{width:150,height:150,backgroundColor:"#EBEDEF"},children:[Object(v.jsx)("p",{className:"text-dark fs-5 fw-bold",children:"Tambah Foto"}),Object(v.jsx)(g.a,{path:"/media/icons/efood/ButtonPlus.svg",className:"svg-icon-1 svg-icon-primary shadow-lg rounded-circle"})]}),Object(v.jsx)("input",{type:"file",ref:m,multiple:!0,hidden:!0,name:"photo",onChange:function(e){p.setFieldValue("logo",[].concat(Object(S.a)(p.values.logo),Object(S.a)(e.currentTarget.files)))}})]})})]})]}),Object(v.jsxs)("div",{className:"border-top pt-10 cardfooter-btns",children:[Object(v.jsx)("button",{type:"button",className:"btn btn-lg btn-light fw-bolder me-4",onClick:function(){return O.goBack()},tabIndex:8,children:"Cancel"}),Object(v.jsxs)("button",{type:"submit",className:"btn btn-lg btn-secondary fw-bolder me-4",disabled:p.isSubmitting,tabIndex:9,children:[Object(v.jsx)("span",{className:"indicator-label",children:"Save"}),p.isSubmitting&&Object(v.jsxs)("span",{className:"indicator-progress",children:["Mohon Tunggu...",Object(v.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]})]})]})]})]})]})};t.default=function(){return Object(v.jsxs)(c.d,{children:[Object(v.jsx)(c.b,{path:x.MUSICARTIST_LIST.PATH,component:y}),Object(v.jsx)(c.b,{path:x.ADD_MUSICARTIST.PATH,component:E}),Object(v.jsx)(c.a,{from:"/musicArtist",exact:!0,to:x.MUSICARTIST_LIST.PATH}),Object(v.jsx)(c.a,{to:x.MUSICARTIST_LIST.PATH})]})}}}]);
//# sourceMappingURL=12.5165fe68.chunk.js.map