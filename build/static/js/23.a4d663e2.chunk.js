(this.webpackJsonpebiz=this.webpackJsonpebiz||[]).push([[23],{421:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var n=s(10),c=s(176),a=s(15),i=(s(2),s(433)),l=s(0),r=["children","isFocused","isDisabled"],o={Control:function(e){var t=e.children,s=e.isFocused,o=e.isDisabled,d=Object(c.a)(e,r);return Object(l.jsx)(i.l.Control,Object(n.a)(Object(n.a)({className:Object(a.a)("form-control border-0 form-control-lg-select form-control-solid",{focus:s,disabled:o}),isFocused:!0,isDisabled:!0},d),{},{children:t}))},IndicatorSeparator:function(){return null}}},423:function(e,t,s){"use strict";s(2);var n=s(3),c=s(0);t.a=function(e){var t=e.message,s=e.handleClose;return t?Object(c.jsxs)("div",{className:"alert_success position-absolute",role:"alert",style:{left:0,top:0,right:0,zIndex:2},children:[Object(c.jsxs)("div",{className:"d-flex align-items-center",children:[Object(c.jsx)("div",{className:"btn btn-icon btn-sm btn-transparent",children:Object(c.jsx)(n.a,{className:"svg-icon-2",path:"/media/icons/efood/ButtonSuccess.svg"})}),Object(c.jsx)("p",{children:t})]}),Object(c.jsx)("div",{className:"btn btn-icon btn-sm btn-transparent",onClick:s,children:Object(c.jsx)(n.a,{className:"svg-icon-2",path:"/media/icons/efood/ButtonClose.svg"})})]}):null}},424:function(e,t,s){"use strict";s.d(t,"a",(function(){return b}));var n=s(30),c=s(78),a=s(10),i=s(11),l=s(27),r=s.n(l),o=s(2),d=s(426);function b(e,t){var s=Object(o.useState)(t),l=Object(i.a)(s,2),b=l[0],j=l[1],u=Object(o.useCallback)((function(e){j((function(t){return t.refreshing||t.total>0&&!Math.ceil(t.total/t.limit)?t:Object(a.a)(Object(a.a)({},t),{},{loading:!0,refreshing:!1,page:e})}))}),[]),m=Object(o.useCallback)((function(e){j((function(t){return Object(a.a)(Object(a.a)({},t),{},{loading:!0,refreshing:!0,page:1,total:0,query:e(t.query)})}))}),[]),O=Object(o.useCallback)((function(e){j((function(t){return Object(a.a)(Object(a.a)({},t),{},{loading:!0,refreshing:!0,page:1,total:0,limit:e})}))}),[]),h=Object(o.useCallback)((function(){var t=!0,s=r.a.CancelToken.source(),a=function(){var a=Object(c.a)(Object(n.a)().mark((function c(){var a;return Object(n.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(d.a)(j);case 2:if((a=n.sent).loading||a.refreshing){n.next=5;break}return n.abrupt("return");case 5:e(a,j,(function(){return t}),s.token);case 6:case"end":return n.stop()}}),c)})));return function(){return a.apply(this,arguments)}}();return a(),function(){t=!1,s.cancel()}}),[e]);return Object(o.useEffect)(h,[b.loading,b.refreshing]),{state:b,setPage:u,setQuery:m,setLimit:O,setState:j}}},426:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var n=function(e){return new Promise((function(t){e((function(e){return t(e),e}))}))}},482:function(e,t,s){"use strict";s.r(t);var n=s(2),c=s(26),a=s(30),i=s(10),l=s(78),r=s(11),o=s(28),d=s(424),b=s(34),j=s(84),u={RELIGION_LIST:{PATH:"/religion/list",TITLE:"List of Religion"},ADD_RELIGION:{PATH:"/religion/add",TITLE:"Add Religion"},EDIT_RELIGION:{PATH:"/religion/edit",TITLE:"Edit Religion"}},m=s(417),O=s(3),h=s(0),f=function(e){var t=e.show,s=e.handleClose,n=e.data,c=e.onDelete;return Object(h.jsxs)(m.a,{"aria-hidden":"true",tabIndex:"-1",show:t,onHide:s,centered:!0,children:[Object(h.jsxs)("div",{className:"modal-header d-flex align-items-center justify-content-between",children:[Object(h.jsx)("h3",{className:"d-flex align-items-center",children:"Delete"}),Object(h.jsx)("div",{className:"btn btn-icon btn-sm btn-active-light-primary ms-2",onClick:s,children:Object(h.jsx)(O.a,{path:"/media/icons/duotune/arrows/arr061.svg",className:"svg-icon-2"})})]}),Object(h.jsx)("div",{className:"modal-body",children:Object(h.jsx)("div",{className:"fv-row mb-10",children:Object(h.jsxs)("div",{className:"mb-4",children:["Are you sure want to delete ",Object(h.jsx)("span",{className:"fw-bolder",children:null===n||void 0===n?void 0:n.name})," from list religion?"]})})}),Object(h.jsxs)("div",{className:"modal-footer",children:[Object(h.jsx)("button",{type:"button",onClick:c,className:"btn btn-lg btn-light fw-bolder",children:Object(h.jsx)("span",{className:"text-secondary",children:"Delete"})})," ",Object(h.jsx)("button",{type:"button",className:"btn btn-lg btn-secondary fw-bolder me-4",onClick:s,children:"Cancel"})]})]})},x=s(154),g=s(18),p=s(27),v=s.n(p),N="/api/v1/religion";function I(e){var t=e.search,s=e.statuses;return v.a.get(N,{params:{search:t,statuses:s}})}var y=s(69),w=function(e){var t=Object(x.c)().addPageToasts,s=Object(c.g)(),m=Object(n.useState)(!1),O=Object(r.a)(m,2),p=O[0],w=O[1],T=Object(n.useState)(null),C=Object(r.a)(T,2),E=C[0],S=C[1],k=Object(d.a)(Object(n.useCallback)((function(e,t,s,n){var c=function(){var n=Object(l.a)(Object(a.a)().mark((function n(){var c,l;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c=[],e.query.status?c.push(e.query.status):(c.push("ACTIVE"),c.push("INACTIVE")),n.next=5,I({search:e.query.search,statuses:c});case 5:l=n.sent,console.log("LIST",l.data),s()&&t((function(e){var t;return Object(i.a)(Object(i.a)({},e),{},{loading:!1,refreshing:!1,error:!1,data:null!==(t=l.data.data)&&void 0!==t?t:[]})})),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),s()&&t((function(e){return Object(i.a)(Object(i.a)({},e),{},{loading:!1,error:!0,data:[]})}));case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(){return n.apply(this,arguments)}}();c()}),[]),{loading:!1,refreshing:!1,error:!1,page:0,data:[],total:0,limit:10,query:{}}),L=k.state,A=k.setPage,D=k.setQuery;return Object(n.useEffect)((function(){document.title=Object(j.a)("List of Verified")}),[]),Object(n.useEffect)((function(){A(1)}),[A]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(b.d,{children:"Manage Religion"}),Object(h.jsxs)("div",{className:"card shadow-sm",children:[Object(h.jsxs)("div",{className:"card-header d-flex align-items-center justify-content-between",children:[Object(h.jsx)("div",{className:"flex-fill fs-2 fw-bolder",children:u.RELIGION_LIST.TITLE}),Object(h.jsx)("div",{className:"card-toolbar",children:Object(h.jsx)(g.b,{to:{pathname:"/religion/add/1"},className:"btn btn-sm btn-secondary fw-bold fs-6",children:"Add Religion"})})]}),Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsxs)("div",{className:"d-flex flex-wrap align-items-center",children:[Object(h.jsxs)("div",{className:"w-lg-auto w-100 d-flex align-items-center",children:[Object(h.jsx)("span",{className:"me-5 ms-lg-4 flex-shrink-0",children:"Filter"}),Object(h.jsxs)("div",{className:"position-relative w-lg-200px w-100",children:[Object(h.jsx)(o.a,{src:"/media/icons/efood/IconChevronDown.svg",className:"position-absolute translate-middle-y top-50 me-4 end-0 pe-none"}),Object(h.jsx)("select",{className:"form-control form-control-lg form-control-solid pe-13",autoComplete:"off",value:L.query.role_id,onChange:function(e){return D((function(t){return Object(i.a)(Object(i.a)({},t),{},{role_id:e.target.value})}))},children:Object(h.jsx)("option",{value:"",children:"Choose"})})]})]}),Object(h.jsxs)("div",{className:"w-lg-200px w-100 position-relative",children:[Object(h.jsx)(o.a,{src:"/media/icons/efood/IconSearch.svg",className:"position-absolute translate-middle-y top-50 ms-4 pe-none"}),Object(h.jsx)("input",{placeholder:"Search",className:"form-control form-control-lg form-control-solid ps-13",type:"text",autoComplete:"off"})]})]}),Object(h.jsxs)("div",{className:"position-relative",children:[Object(h.jsx)("div",{className:"table-responsive my-8",children:Object(h.jsxs)("table",{className:"table table-striped table-hover gx-4 gy-4",children:[Object(h.jsx)("thead",{className:"text-gray fw-700",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"NO"}),Object(h.jsx)("th",{children:"ICON"}),Object(h.jsx)("th",{children:"RELIGION"}),Object(h.jsx)("th",{children:"STATUS"}),Object(h.jsx)("th",{children:"ACTION"})]})}),Object(h.jsx)("tbody",{children:0===L.data.length?Object(h.jsx)("tr",{children:Object(h.jsx)("td",{colSpan:9,className:"text-center",children:L.loading?"Loading":L.error?"Error, try to refresh the page":"Data Kosong"})}):L.data.map((function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{className:"align-middle",children:(L.page-1)*L.limit+t+1}),Object(h.jsx)("td",{className:"align-middle",children:Object(h.jsx)(o.a,{src:e.logo})}),Object(h.jsx)("td",{className:"align-middle",children:e.description}),Object(h.jsxs)("td",{className:"align-middle",children:[" ",e.status]}),Object(h.jsxs)("td",{className:"align-middle",style:{minWidth:125},children:[Object(h.jsx)("button",{type:"button",className:"btn-transparent me-3",onClick:function(){return s.push("/religion/edit/".concat(e.id))},children:Object(h.jsx)(o.a,{src:"/media/icons/edit.svg"})}),Object(h.jsx)("div",{className:"d-inline",onClick:function(){S(e),w(!0)},style:{cursor:"pointer"},children:Object(h.jsx)(o.a,{src:"/media/icons/trash.svg"})})]})]},e.id)}))})]})}),L.data.length>0&&L.loading?Object(h.jsx)("div",{className:"position-absolute top-0 start-0 end-0 bottom-0",style:{backgroundColor:"rgba(255,255,255,0.7)"}}):null]})]}),Object(h.jsx)(f,{onDelete:function(){var e,s;(s=null!==(e=null===E||void 0===E?void 0:E.id)&&void 0!==e?e:"",v.a.delete(N+"/".concat(s))).then((function(){w(!1),A(L.page)})).catch((function(e){w(!1),t({scheme:"danger",text:Object(y.a)(e,!0)})}))},show:p,handleClose:function(){return w(!1)},data:E})]})]})},T=s(19),C=s(22),E=s(423),S=s(422),k=s(421),L={description:"",logo:"",status:""},A=function(){var e=Object(n.useState)(""),t=Object(r.a)(e,2),s=t[0],a=t[1],l=Object(n.useState)(),o=Object(r.a)(l,2),d=o[0],m=o[1],f=Object(n.useRef)(),x=Object(c.g)(),g=Object(C.e)({initialValues:L,validateOnBlur:!1,validateOnChange:!1,onSubmit:function(e,t){var s=t.setStatus,n=t.setSubmitting;n(!0),setTimeout((function(){var t,c,a;(t=e.description,c=e.status,a=e.logo,v.a.post(N,{description:t,status:c,logo:a})).then((function(){x.goBack()})).catch((function(){n(!1),s("Update Admin gagal.")}))}),1e3)}}),p=Object(n.useMemo)((function(){return u.ADD_RELIGION.TITLE}),[]),I=Object(n.useMemo)((function(){return[{isActive:!1,path:u.ADD_RELIGION.PATH,title:u.ADD_RELIGION.TITLE},{isActive:!1,path:"",title:"",isSeparator:!0}]}),[]);return Object(n.useEffect)((function(){document.title=Object(j.a)(p)}),[]),Object(h.jsxs)("div",{className:"card",children:[Object(h.jsx)(b.d,{breadcrumbs:I,children:p}),Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsx)(E.a,{message:s,handleClose:function(){return a("")}}),Object(h.jsxs)("form",{className:"form w-100",onSubmit:g.handleSubmit,noValidate:!0,children:[Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("div",{className:"col-4",children:[Object(h.jsx)("label",{className:"flex-fill form-label fs-6 fw-bolder text-gray-800",children:"Icon"}),Object(h.jsx)("div",{className:"d-flex align-items-start py-5",children:Object(h.jsx)("div",{className:"me-3",children:Object(h.jsxs)("div",{className:"fv-row mb-10",children:[Object(h.jsxs)("button",{onClick:function(){var e;null===(e=f.current)||void 0===e||e.click()},className:"d-flex flex-column align-items-center justify-content-center rounded",style:{width:150,height:150,backgroundColor:"#EBEDEF"},children:[Object(h.jsx)("p",{className:"text-dark fs-5 fw-bold",children:"Tambah Foto"}),Object(h.jsx)(O.a,{path:"/media/icons/efood/ButtonPlus.svg",className:"svg-icon-1 svg-icon-primary shadow-lg rounded-circle"})]}),Object(h.jsx)("input",{type:"file",ref:f,multiple:!0,hidden:!0,name:"photo",onChange:function(e){g.setFieldValue("logo",[].concat(Object(T.a)(g.values.logo),Object(T.a)(e.currentTarget.files)))}})]})})})]}),Object(h.jsx)("div",{className:"col",children:Object(h.jsxs)("div",{className:"mb-10 row",children:[Object(h.jsxs)("div",{className:"col-12 col-md-6 mb-10 mb-md-0",children:[Object(h.jsx)("label",{className:"flex-fill form-label fs-6 fw-bolder text-gray-800",children:"Religion"}),Object(h.jsx)("input",Object(i.a)(Object(i.a)({},g.getFieldProps("description")),{},{type:"text",className:"form-control form-control-lg form-control-solid",tabIndex:1}))]}),Object(h.jsx)("div",{className:"mb-10 row",children:Object(h.jsxs)("div",{className:"col-12 col-md-6",children:[Object(h.jsx)("label",{className:"flex-fill form-label fs-6 fw-bolder text-gray-800",children:"Status*"}),Object(h.jsx)(S.a,{placeholder:"All Status",cacheOptions:!0,defaultOptions:!0,components:k.a,value:d,options:[{label:"active",value:1},{label:"inactive",value:0}],onChange:function(e){m(e),g.setFieldValue("status",e.value)},tabIndex:"5"})]})})]})})]}),Object(h.jsxs)("div",{className:"border-top pt-10 cardfooter-btns",children:[Object(h.jsx)("button",{type:"button",className:"btn btn-lg btn-light fw-bolder me-4",onClick:function(){return x.goBack()},tabIndex:8,children:"Cancel"}),Object(h.jsxs)("button",{type:"submit",className:"btn btn-lg btn-secondary fw-bolder me-4",disabled:g.isSubmitting,tabIndex:9,children:[Object(h.jsx)("span",{className:"indicator-label",children:"Save"}),g.isSubmitting&&Object(h.jsxs)("span",{className:"indicator-progress",children:["Mohon Tunggu...",Object(h.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]})]})]})]})]})]})};t.default=function(){return Object(h.jsxs)(c.d,{children:[Object(h.jsx)(c.b,{path:u.RELIGION_LIST.PATH,component:w}),Object(h.jsx)(c.b,{path:u.ADD_RELIGION.PATH,component:A}),Object(h.jsx)(c.a,{from:"/religion",exact:!0,to:u.RELIGION_LIST.PATH}),Object(h.jsx)(c.a,{to:u.RELIGION_LIST.PATH})]})}}}]);
//# sourceMappingURL=23.a4d663e2.chunk.js.map