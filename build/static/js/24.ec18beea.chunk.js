(this.webpackJsonpebiz=this.webpackJsonpebiz||[]).push([[24],{424:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n=a(30),s=a(78),c=a(10),i=a(11),r=a(27),l=a.n(r),o=a(2),d=a(426);function j(e,t){var a=Object(o.useState)(t),r=Object(i.a)(a,2),j=r[0],u=r[1],b=Object(o.useCallback)((function(e){u((function(t){return t.refreshing||t.total>0&&!Math.ceil(t.total/t.limit)?t:Object(c.a)(Object(c.a)({},t),{},{loading:!0,refreshing:!1,page:e})}))}),[]),m=Object(o.useCallback)((function(e){u((function(t){return Object(c.a)(Object(c.a)({},t),{},{loading:!0,refreshing:!0,page:1,total:0,query:e(t.query)})}))}),[]),h=Object(o.useCallback)((function(e){u((function(t){return Object(c.a)(Object(c.a)({},t),{},{loading:!0,refreshing:!0,page:1,total:0,limit:e})}))}),[]),f=Object(o.useCallback)((function(){var t=!0,a=l.a.CancelToken.source(),c=function(){var c=Object(s.a)(Object(n.a)().mark((function s(){var c;return Object(n.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(d.a)(u);case 2:if((c=n.sent).loading||c.refreshing){n.next=5;break}return n.abrupt("return");case 5:e(c,u,(function(){return t}),a.token);case 6:case"end":return n.stop()}}),s)})));return function(){return c.apply(this,arguments)}}();return c(),function(){t=!1,a.cancel()}}),[e]);return Object(o.useEffect)(f,[j.loading,j.refreshing]),{state:j,setPage:b,setQuery:m,setLimit:h,setState:u}}},425:function(e,t,a){"use strict";var n=a(2),s=a(28),c=a(0);t.a=function(e){var t=e.loading,a=e.limit,i=e.setPerPage,r=e.page,l=e.setPage,o=e.maxData,d=Object(n.useMemo)((function(){return Math.ceil(o/a)}),[o,a]),j=Object(n.useMemo)((function(){var e=[];if(0===d)return e;var t=Math.min(d,Math.max(0,r));if(d<8)for(var a=1;a<=d;a++)e.push(a);else t>4?e.push(1,void 0,Math.min(t,d-3)-1):e.push(1,2,3,4),t+3<d?(t>4&&e.push(t),e.push(Math.max(t,4)+1,void 0,d)):e.push(d-3,d-2,d-1,d);return e}),[d,r]);return Object(c.jsxs)("div",{className:"d-flex flex-wrap",children:[Object(c.jsxs)("div",{className:"mb-4 w-md-auto w-100 d-flex align-items-center",children:[Object(c.jsxs)("div",{className:"position-relative",children:[Object(c.jsx)(s.a,{src:"/media/icons/efood/IconChevronDown.svg",className:"position-absolute translate-middle-y top-50 me-4 end-0 pe-none"}),Object(c.jsxs)("select",{className:"form-control form-control-sm form-control-solid pe-13",autoComplete:"off",value:a,onChange:function(e){return i(Number(e.currentTarget.value))},children:[Object(c.jsx)("option",{children:"10"}),Object(c.jsx)("option",{children:"20"}),Object(c.jsx)("option",{children:"50"}),Object(c.jsx)("option",{children:"100"})]})]}),t||0===o?null:Object(c.jsxs)("span",{className:"ms-5 flex-shrink-0",children:["Menampilkan ",(r-1)*a+1,"-",Math.min(o,(r-1)*a+a)," ","dari ",o," entri"]})]}),j.length>0?Object(c.jsxs)("ul",{className:"pagination flex-nowrap flex-fill justify-content-md-end",children:[Object(c.jsx)("li",{className:"page-item previous ".concat(1===r?"disabled":""),children:Object(c.jsx)("button",{onClick:function(){return l(r-1)},className:"page-link",children:Object(c.jsx)("i",{className:"previous"})})}),j.map((function(e,t){return void 0===e?Object(c.jsx)("li",{className:"page-item disabled",children:Object(c.jsx)("button",{className:"page-link",children:"..."})},"".concat(t,"-dot")):Object(c.jsx)("li",{className:"page-item ".concat(r===e?"active":""),children:Object(c.jsx)("button",{onClick:function(){return l(e)},className:"page-link",children:e})},e)})),Object(c.jsx)("li",{className:"page-item next ".concat(r===d?"disabled":""),children:Object(c.jsx)("button",{onClick:function(){return l(r+1)},className:"page-link",children:Object(c.jsx)("i",{className:"next"})})})]}):null]})}},426:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){return new Promise((function(t){e((function(e){return t(e),e}))}))}},489:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a(26),c=a(30),i=a(10),r=a(78),l=a(11),o=a(28),d=a(425),j=a(424),u=a(34),b=a(84),m=a(27),h=a.n(m),f="/api/v1/game";function O(e){var t=e.page,a=e.limit,n=e.search,s=e.statuses;return h.a.get(f,{params:{page:t,limit:a,search:n,statuses:s}})}var x={GAMES_LIST:{PATH:"/GAMES/list",TITLE:"List of Game"},ADD_GAMES:{PATH:"/games/add/",TITLE:"Add Game"},EDIT_GAMES:{PATH:"/games/edit/:id",TITLE:"Edit Game"}},p=a(417),g=a(3),v=a(0),N=function(e){var t=e.show,a=e.handleClose,n=e.data,s=e.onDelete;return Object(v.jsxs)(p.a,{"aria-hidden":"true",tabIndex:"-1",show:t,onHide:a,centered:!0,children:[Object(v.jsxs)("div",{className:"modal-header d-flex align-items-center justify-content-between",children:[Object(v.jsx)("h3",{className:"d-flex align-items-center",children:"Delete"}),Object(v.jsx)("div",{className:"btn btn-icon btn-sm btn-active-light-primary ms-2",onClick:a,children:Object(v.jsx)(g.a,{path:"/media/icons/duotune/arrows/arr061.svg",className:"svg-icon-2"})})]}),Object(v.jsx)("div",{className:"modal-body",children:Object(v.jsx)("div",{className:"fv-row mb-10",children:Object(v.jsxs)("div",{className:"mb-4",children:["Are you sure want to delete ",Object(v.jsx)("span",{className:"fw-bolder",children:null===n||void 0===n?void 0:n.name})," from list games?"]})})}),Object(v.jsxs)("div",{className:"modal-footer",children:[Object(v.jsx)("button",{type:"button",onClick:s,className:"btn btn-lg btn-light fw-bolder",children:Object(v.jsx)("span",{className:"text-secondary",children:"Delete"})})," ",Object(v.jsx)("button",{type:"button",className:"btn btn-lg btn-secondary fw-bolder me-4",onClick:a,children:"Cancel"})]})]})},y=a(154),w=a(18),k=a(69),C=function(e){var t=Object(y.c)().addPageToasts,a=Object(s.g)(),m=Object(n.useState)(!1),p=Object(l.a)(m,2),g=p[0],C=p[1],T=Object(n.useState)(null),A=Object(l.a)(T,2),E=A[0],S=A[1],M=Object(j.a)(Object(n.useCallback)((function(e,t,a,n){var s=function(){var n=Object(r.a)(Object(c.a)().mark((function n(){var s,r;return Object(c.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s=[],e.query.status?s.push(e.query.status):(s.push("ACTIVE"),s.push("INACTIVE")),n.next=5,O({page:e.page,limit:e.limit,search:e.query.search,statuses:s});case 5:r=n.sent,a()&&t((function(e){var t,a,n,s,c,l;return Object(i.a)(Object(i.a)({},e),{},{loading:!1,refreshing:!1,error:!1,page:null!==(t=null===(a=r.data.data)||void 0===a?void 0:a.current_page)&&void 0!==t?t:1,data:null!==(n=null===(s=r.data.data)||void 0===s?void 0:s.items)&&void 0!==n?n:[],total:null!==(c=null===(l=r.data.data)||void 0===l?void 0:l.total)&&void 0!==c?c:0})})),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),a()&&t((function(e){return Object(i.a)(Object(i.a)({},e),{},{loading:!1,error:!0,data:[]})}));case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}();s()}),[]),{loading:!1,refreshing:!1,error:!1,page:0,data:[],total:0,limit:10,query:{}}),I=M.state,P=M.setLimit,G=M.setPage,L=M.setQuery;return Object(n.useEffect)((function(){document.title=Object(b.a)("List of Verified")}),[]),Object(n.useEffect)((function(){G(1)}),[G]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(u.d,{children:"Manage Games"}),Object(v.jsxs)("div",{className:"card shadow-sm",children:[Object(v.jsxs)("div",{className:"card-header d-flex align-items-center justify-content-between",children:[Object(v.jsx)("div",{className:"flex-fill fs-2 fw-bolder",children:x.GAMES_LIST.TITLE}),Object(v.jsx)("div",{className:"card-toolbar",children:Object(v.jsx)(w.b,{to:{pathname:"/games/add/1"},className:"btn btn-sm btn-secondary fw-bold fs-6",children:"Add Games"})})]}),Object(v.jsxs)("div",{className:"card-body",children:[Object(v.jsxs)("div",{className:"d-flex flex-wrap align-items-center",children:[Object(v.jsxs)("div",{className:"w-lg-auto w-100 d-flex align-items-center",children:[Object(v.jsx)("span",{className:"me-5 ms-lg-4 flex-shrink-0",children:"Filter"}),Object(v.jsxs)("div",{className:"position-relative w-lg-200px w-100",children:[Object(v.jsx)(o.a,{src:"/media/icons/efood/IconChevronDown.svg",className:"position-absolute translate-middle-y top-50 me-4 end-0 pe-none"}),Object(v.jsx)("select",{className:"form-control form-control-lg form-control-solid pe-13",autoComplete:"off",value:I.query.role_id,onChange:function(e){return L((function(t){return Object(i.a)(Object(i.a)({},t),{},{role_id:e.target.value})}))},children:Object(v.jsx)("option",{value:"",children:"Choose"})})]})]}),Object(v.jsxs)("div",{className:"w-lg-200px w-100 position-relative",children:[Object(v.jsx)(o.a,{src:"/media/icons/efood/IconSearch.svg",className:"position-absolute translate-middle-y top-50 ms-4 pe-none"}),Object(v.jsx)("input",{placeholder:"Search",className:"form-control form-control-lg form-control-solid ps-13",type:"text",autoComplete:"off"})]})]}),Object(v.jsxs)("div",{className:"position-relative",children:[Object(v.jsx)("div",{className:"table-responsive my-8",children:Object(v.jsxs)("table",{className:"table table-striped table-hover gx-4 gy-4",children:[Object(v.jsx)("thead",{className:"text-gray fw-700",children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"NO"}),Object(v.jsx)("th",{children:"GAMES NAME"}),Object(v.jsx)("th",{children:"TYPE"}),Object(v.jsx)("th",{children:"STATUS"}),Object(v.jsx)("th",{children:"ACTION"})]})}),Object(v.jsx)("tbody",{children:0===I.data.length?Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:9,className:"text-center",children:I.loading?"Loading":I.error?"Error, try to refresh the page":"Data Kosong"})}):I.data.map((function(e,t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:"align-middle",children:(I.page-1)*I.limit+t+1}),Object(v.jsx)("td",{className:"align-middle",children:e.description}),Object(v.jsx)("td",{className:"align-middle",children:e.gamer_types}),Object(v.jsxs)("td",{className:"align-middle",children:[" ",e.status]}),Object(v.jsxs)("td",{className:"align-middle",style:{minWidth:125},children:[Object(v.jsx)("button",{type:"button",className:"btn-transparent me-3",onClick:function(){return a.push("/games/add/".concat(e.id))},children:Object(v.jsx)(o.a,{src:"/media/icons/edit.svg"})}),Object(v.jsx)("div",{className:"d-inline",onClick:function(){S(e),C(!0)},style:{cursor:"pointer"},children:Object(v.jsx)(o.a,{src:"/media/icons/trash.svg"})})]})]},e.id)}))})]})}),I.data.length>0&&I.loading?Object(v.jsx)("div",{className:"position-absolute top-0 start-0 end-0 bottom-0",style:{backgroundColor:"rgba(255,255,255,0.7)"}}):null]}),Object(v.jsx)(d.a,{loading:I.loading,page:I.page,limit:I.limit,setPage:G,setPerPage:P,maxData:I.total})]}),Object(v.jsx)(N,{onDelete:function(){var e,a;(a=null!==(e=null===E||void 0===E?void 0:E.id)&&void 0!==e?e:"",h.a.delete(f+"/".concat(a))).then((function(){C(!1),G(I.page)})).catch((function(e){C(!1),t({scheme:"danger",text:Object(k.a)(e,!0)})}))},show:g,handleClose:function(){return C(!1)},data:E})]})]})};t.default=function(){return Object(v.jsxs)(s.d,{children:[Object(v.jsx)(s.b,{path:x.GAMES_LIST.PATH,component:C}),Object(v.jsx)(s.a,{from:"/games",exact:!0,to:x.GAMES_LIST.PATH}),Object(v.jsx)(s.a,{to:x.GAMES_LIST.PATH})]})}}}]);
//# sourceMappingURL=24.ec18beea.chunk.js.map