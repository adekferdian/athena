{"version":3,"sources":["app/components/CustomReactSelect.tsx","app/hooks/pagination-hook.ts","app/components/Pagination.tsx","app/utils/hook-utils.ts","app/hooks/permissions-hook.ts","app/modules/faq/models/Faq.ts","app/hooks/cancelable-hook.ts","app/modules/faq/redux/FaqCRUD.ts","app/components/TextEditor.tsx","app/components/GenericSaveModal.tsx","app/modules/faq/pages/FaqEfoodContentDetail.tsx","app/hooks/debounce-hook.ts","app/modules/faq/redux/FaqCategoryCRUD.ts","app/components/InputText.tsx","app/components/CheckboxSwitch.tsx","app/modules/faq/components/FormCategoryModalComponent.tsx","app/modules/faq/components/FaqEfoodCategoryComponent.tsx","app/modules/faq/components/FaqEfoodContentComponent.tsx","app/modules/faq/pages/FaqEfoodPage.tsx","app/modules/faq/pages/FaqHermesContentDetail.tsx","app/modules/faq/components/FaqHermesCategoryComponent.tsx","app/modules/faq/components/FaqHermesContentComponent.tsx","app/modules/faq/pages/FaqHermesPage.tsx","app/modules/faq/FaqRoutes.tsx"],"names":["ReactSelectMetronicTheme","Control","children","isFocused","isDisabled","rest","className","clsx","focus","disabled","IndicatorSeparator","usePagination","loadData","defaultState","useState","state","setState","setPage","useCallback","page","prev","refreshing","total","Math","ceil","limit","loading","setQuery","builder","query","setLimit","callback","isActive","source","axios","CancelToken","runner","extractState","localState","token","cancel","useEffect","Pagination","setPerPage","maxData","pageNum","useMemo","pageList","result","normalizedPage","min","max","i","push","undefined","src","autoComplete","value","onChange","e","Number","currentTarget","length","onClick","map","x","dispatcher","Promise","r","usePermissions","pageQuery","permissions","useSelector","auth","shallowEqual","hasAccess","q","code","Boolean","find","data","access","canAccessPage","FaqContentStatus","FaqContentStatusName","ACTIVE","INACTIVE","FaqContentStatusTheme","EmptyFaqContentForm","id","faq_category_id","faq_title_id","faq_title_en","faq_content_id","faq_content_en","status","generateFaqContentForm","faq_contents_languages","item","lang","en","faq_category","title","content","useCancelableEffect","func","deps","effectCb","useCancelable","useCancelableFn","timestamp","props","setData","trigger","Date","now","localData","FAQ_CONTENTS","FAQ_CATEGORY","getFaqCategoryList","params","cancelToken","get","getFaqContentList","getFaqContentDetail","saveFaqContent","recordData","appendAllRecordData","key","name","put","post","TextEditor","onEditorChange","editor","init","height","menubar","plugins","toolbar","tinymceScriptSrc","GenericSaveModal","show","processing","handleClose","handleContinue","closeFn","Modal","tabIndex","onHide","centered","scrollable","path","type","schema","Yup","shape","required","FaqEfoodContentDetail","useHistory","useParams","setProcessing","addPageToasts","useHeaderToast","isDetail","detailLoaded","setDetailLoaded","confirmModal","setConfirmModal","activeTab","setActiveTab","tabs","label","setContent","submitFn","scheme","text","FaqEfoodTabs","CONTENT","PATH","getErrorMessage","useFormik","initialValues","validateOnBlur","validateOnChange","validationSchema","onSubmit","setSubmitting","setValues","setFieldValue","setFieldError","formik","fetchCategory","loaded","search","options","items","hasMore","total_item","pageTitle","FaqScreens","FAQ_EFOOD_CONTENT_DETAIL","TITLE","FAQ_EFOOD_CONTENT_CREATE","breadcrumbs","LABEL","isSeparator","document","getTitle","then","res","catch","values","handleSubmit","noValidate","components","loadOptions","debounceTimeout","getOptionValue","it","formatOptionLabel","option","meta","context","faq_categories_languages","selected","selectValue","formatCategoryLabel","setFieldTouched","touched","errors","role","checked","target","placeholder","getFieldProps","style","flexWrap","overflowX","to","backgroundColor","xmlns","viewBox","width","fill","stroke","cx","cy","d","field","isSubmitting","useDebounceEffect","time","timeout","setTimeout","clearTimeout","InputText","CheckboxSwitch","labelClass","parent","faq_category_en","nullable","FormCategoryModalComponent","handleSuccess","section","setSection","resetForm","payload","parent_id","updateFaqCategory","error","createFaqCategory","handleCategoryName","isParent","fetchCategories","setTouched","updateKey","setUpdateKey","String","moment","unix","dialogClassName","cacheOptions","defaultOptions","isClearable","isOptionDisabled","FaqEfoodCategoryComponent","setLoading","showFormModal","setShowFormModal","detail","setDetail","history","fetchCall","categories","current_page","statusOptions","searchFn","handleStatus","locationState","location","message","description","defaultValue","minWidth","colSpan","index","FaqEfoodContentWrapper","FaqEfoodContentComponent","merchantId","inState","statuses","Object","keys","category_id","buildPath","FaqEfoodPage","tab","forEach","SLUG","CATEGORY","component","FaqHermesContentDetail","FaqHermesTabs","FaqHermesCategoryComponent","FaqHermesContentWrapper","FAQ_HERMES_CONTENT_CREATE","FaqHermesContentComponent","FAQ_HERMES_CONTENT_DETAIL","FaqHermesPage","FaqRoutes","exact","FAQ_EFOOD","FAQ_HERMES","from","BASE_PATH"],"mappings":"6NAuCaA,EAA2B,CACtCC,QApCc,gBAKdC,EALc,EAKdA,SACAC,EANc,EAMdA,UACAC,EAPc,EAOdA,WACGC,EARW,wBAUd,cAAC,IAAWJ,QAAZ,yBACEK,UAAWC,YAAK,kEAAmE,CACjFC,MAAOL,EACPM,SAAUL,IAEZD,WAAS,EACTC,YAAU,GACNC,GAPN,aASGH,IAnBW,EAqCdQ,mBAdyB,kBAAM,IAAN,E,0ICZpB,SAASC,EACdC,EAMAC,GAEA,MAA0BC,mBAASD,GAAnC,mBAAOE,EAAP,KAAcC,EAAd,KACMC,EAAUC,uBAAY,SAACC,GAC3BH,GAAS,SAACI,GACR,OAAIA,EAAKC,YAAeD,EAAKE,MAAQ,IAAMC,KAAKC,KAAKJ,EAAKE,MAAQF,EAAKK,OAAgBL,EAChF,2BACFA,GADL,IAEEM,SAAS,EACTL,YAAY,EACZF,QAEH,GACF,GAAE,IACGQ,EAAWT,uBAAY,SAACU,GAC5BZ,GAAS,SAACI,GAAD,mBAAC,eACLA,GADI,IAEPM,SAAS,EACTL,YAAY,EACZF,KAAM,EACNG,MAAO,EACPO,MAAOD,EAAQR,EAAKS,QANb,GAQV,GAAE,IACGC,EAAWZ,uBAAY,SAACO,GAC5BT,GAAS,SAACI,GAAD,mBAAC,eACLA,GADI,IAEPM,SAAS,EACTL,YAAY,EACZF,KAAM,EACNG,MAAO,EACPG,SANO,GAQV,GAAE,IACGM,EAAWb,uBAAY,WAC3B,IAAIc,GAAW,EACTC,EAASC,IAAMC,YAAYF,SAC3BG,EAAM,iDAAG,8GACYC,YAAarB,GADzB,WACPsB,EADO,QAEGZ,SAAYY,EAAWjB,WAF1B,iDAGbT,EAAS0B,EAAYtB,GAAU,kBAAMgB,CAAN,GAAgBC,EAAOM,OAHzC,2CAAH,qDAMZ,OADAH,IACO,WACLJ,GAAW,EACXC,EAAOO,QACR,CACF,GAAE,CAAC5B,IAEJ,OADA6B,oBAAUV,EAAU,CAAChB,EAAMW,QAASX,EAAMM,aACnC,CACLN,QACAE,UACAU,WACAG,WACAd,WAEH,C,mCC9ED,0BA2Fe0B,IA9EyB,SAAC,GAA0D,IAAzDhB,EAAwD,EAAxDA,QAASD,EAA+C,EAA/CA,MAAOkB,EAAwC,EAAxCA,WAAYxB,EAA4B,EAA5BA,KAAMF,EAAsB,EAAtBA,QAAS2B,EAAa,EAAbA,QAC7EC,EAAUC,mBAAQ,kBAAMvB,KAAKC,KAAKoB,EAAUnB,EAA1B,GAAkC,CAACmB,EAASnB,IAC9DsB,EAAWD,mBAAQ,WACvB,IAAME,EAAiC,GACvC,GAAgB,IAAZH,EAAe,OAAOG,EAC1B,IAAMC,EAAiB1B,KAAK2B,IAAIL,EAAStB,KAAK4B,IAAI,EAAGhC,IACrD,GAAI0B,EAAU,EACZ,IAAK,IAAIO,EAAI,EAAGA,GAAKP,EAASO,IAC5BJ,EAAOK,KAAKD,QAGVH,EAAiB,EAAGD,EAAOK,KAAK,OAAGC,EAAW/B,KAAK2B,IAAID,EAAgBJ,EAAU,GAAK,GACrFG,EAAOK,KAAK,EAAG,EAAG,EAAG,GACtBJ,EAAiB,EAAIJ,GACnBI,EAAiB,GAAGD,EAAOK,KAAKJ,GACpCD,EAAOK,KAAK9B,KAAK4B,IAAIF,EAAgB,GAAK,OAAGK,EAAWT,IACnDG,EAAOK,KAAKR,EAAU,EAAGA,EAAU,EAAGA,EAAU,EAAGA,GAE5D,OAAOG,CACR,GAAE,CAACH,EAAS1B,IACb,OACE,sBAAKb,UAAU,mBAAf,UACE,sBAAKA,UAAU,iDAAf,UACE,sBAAKA,UAAU,oBAAf,UACE,cAAC,IAAD,CACEiD,IAAK,yCACLjD,UAAU,mEAEZ,yBACEA,UAAU,wDACVkD,aAAa,MACbC,MAAOhC,EACPiC,SAAU,SAACC,GAAD,OAAOhB,EAAWiB,OAAOD,EAAEE,cAAcJ,OAAzC,EAJZ,UAME,wCACA,wCACA,wCACA,+CAGH/B,GAAuB,IAAZkB,EAAgB,KAC1B,uBAAMtC,UAAU,qBAAhB,0BACgBa,EAAO,GAAKM,EAAQ,EADpC,IACwCF,KAAK2B,IAAIN,GAAUzB,EAAO,GAAKM,EAAQA,GAAQ,IADvF,QAEQmB,EAFR,eAMHG,EAASe,OAAS,EACjB,qBAAIxD,UAAU,0DAAd,UACE,oBAAIA,UAAS,6BAAiC,IAATa,EAAa,WAAa,IAA/D,SACE,wBAAQ4C,QAAS,kBAAM9C,EAAQE,EAAO,EAArB,EAAyBb,UAAU,YAApD,SACE,mBAAGA,UAAU,iBAGhByC,EAASiB,KAAI,SAACC,EAAGb,GAAJ,YACNE,IAANW,EACE,oBAAI3D,UAAU,qBAAd,SACE,wBAAQA,UAAU,YAAlB,kBADF,UAA2C8C,EAA3C,SAIA,oBAAI9C,UAAS,oBAAea,IAAS8C,EAAI,SAAW,IAApD,SACE,wBAAQF,QAAS,kBAAM9C,EAAQgD,EAAd,EAAkB3D,UAAU,YAA7C,SACG2D,KAF0DA,EANrD,IAad,oBAAI3D,UAAS,yBAAoBa,IAAS0B,EAAU,WAAa,IAAjE,SACE,wBAAQkB,QAAS,kBAAM9C,EAAQE,EAAO,EAArB,EAAyBb,UAAU,YAApD,SACE,mBAAGA,UAAU,gBAIjB,OAGT,C,mCCvFD,kCACO,IAAM+B,EAAe,SAAI6B,GAAJ,OAC1B,IAAIC,SAAQ,SAACC,GACXF,GAAW,SAACT,GAEV,OADAW,EAAEX,GACKA,CACR,GACF,GANyB,C,mCCH5B,qDASO,SAASY,EAAeC,GAC7B,IAAMC,EAAcC,aAClB,qCAAEC,KAAeF,mBAAjB,QAAgC,CAAC,CAAjC,GACAG,KAEIC,EAAYzD,uBAChB,SAAC0D,GAAyB,IAAD,IACjBC,EAAI,iBAAGD,QAAH,IAAGA,OAAH,EAAGA,EAAGC,YAAN,eAAcP,QAAd,IAAcA,OAAd,EAAcA,EAAWO,KACnC,OAAKA,GACEC,QAAO,UACZP,EAAYM,UADA,aACZ,EAAmBE,MAAK,SAACC,GAAD,eAAUA,KAAI,2BAAMJ,QAAN,IAAMA,OAAN,EAAMA,EAAGK,cAAT,eAAmBX,QAAnB,IAAmBA,OAAnB,EAAmBA,EAAWW,cAA9B,QAAwC,OAAtD,IAE3B,GACD,QAACX,QAAD,IAACA,OAAD,EAACA,EAAWW,OAAZ,OAAoBX,QAApB,IAAoBA,OAApB,EAAoBA,EAAWO,KAAMN,IAEjCW,EAAgBpC,mBAAQ,kBAAM6B,GAAN,GAAmB,CAACA,IAClD,MAAO,CAACA,YAAWO,gBACpB,C,kDCPWC,E,mHAAAA,K,gBAAAA,E,qBAAAA,M,KAKL,IAAMC,GAA4C,mBACtDD,EAAiBE,OAAS,UAD4B,cAEtDF,EAAiBG,SAAW,YAF0B,GAK5CC,GAA6C,mBACvDJ,EAAiBE,OAAS,oBAD6B,cAEvDF,EAAiBG,SAAW,oBAF2B,GAqC7CE,EAA0C,CACrDC,GAAI,GACJC,gBAAiB,GACjBC,aAAc,GACdC,aAAc,GACdC,eAAgB,GAChBC,eAAgB,GAChBC,OAAQ,UAGGC,EAAyB,SAAChB,GAA2C,IAAD,kBACzES,EAAE,OAAGT,QAAH,IAAGA,GAAH,UAAGA,EAAMiB,8BAAT,aAAG,EAA8BlB,MAAK,SAACmB,GAAD,MAAyB,QAAX,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMC,KAAhB,IACxCC,EAAE,OAAGpB,QAAH,IAAGA,GAAH,UAAGA,EAAMiB,8BAAT,aAAG,EAA8BlB,MAAK,SAACmB,GAAD,MAAyB,QAAX,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMC,KAAhB,IAC9C,MAAO,CACLV,GAAE,iBAAET,QAAF,IAAEA,OAAF,EAAEA,EAAMS,UAAR,QAAc,GAChBY,aAAY,OAAErB,QAAF,IAAEA,OAAF,EAAEA,EAAMqB,aACpBX,gBAAe,iBAAEV,QAAF,IAAEA,OAAF,EAAEA,EAAMU,uBAAR,QAA2B,GAC1CC,aAAY,iBAAEF,QAAF,IAAEA,OAAF,EAAEA,EAAIa,aAAN,QAAe,GAC3BV,aAAY,iBAAEQ,QAAF,IAAEA,OAAF,EAAEA,EAAIE,aAAN,QAAe,GAC3BT,eAAc,iBAAEJ,QAAF,IAAEA,OAAF,EAAEA,EAAIc,eAAN,QAAiB,GAC/BT,eAAc,iBAAEM,QAAF,IAAEA,OAAF,EAAEA,EAAIG,eAAN,QAAiB,GAC/BR,OAAM,iBAAEf,QAAF,IAAEA,OAAF,EAAEA,EAAMe,cAAR,QAAkB,SAE3B,E,0BCzEM,SAASS,EACdC,EACAC,GAEA,IAAMC,EAhBD,SAAuBF,GAC5B,OAAOvF,uBAAY,WACjB,IAAMe,EAASC,IAAMC,YAAYF,SAC7BD,GAAW,EAEf,OADAyE,GAAK,kBAAMzE,CAAN,GAAgBC,EAAOM,OACrB,WACLP,GAAW,EACXC,EAAOO,QACR,CACF,GAAE,CAACiE,GACL,CAMkBG,CAAcH,GAC/BhE,oBAAUkE,EAAD,YAAeD,GACzB,CAEM,SAASG,EACd9E,GAEA,MAAwBjB,mBAAS,CAC/BgG,UAAW,EACXC,MAAO,CAAC,IAFV,mBAAO/B,EAAP,KAAagC,EAAb,KAIMC,EAAUnE,mBAAQ,WACtB,OAAO,SAACiE,GAAD,OACLC,EAAQ,CACNF,UAAWI,KAAKC,MAChBJ,SAHG,CAKR,GAAE,IACGJ,EAAWzF,uBAAY,WAC3B,IAAIc,GAAW,EACTC,EAASC,IAAMC,YAAYF,SAC3BG,EAAM,iDAAG,8GACWC,YAAa2E,GADxB,QACPI,EADO,QAECN,UAAY,GACxB/E,EAASqF,EAAUL,OAAO,kBAAM/E,CAAN,GAAgBC,EAAOM,OAHtC,2CAAH,qDAOZ,OADAH,IACO,WACLJ,GAAW,EACXC,EAAOO,QACR,CACF,GAAE,CAACT,IAEJ,OADAU,oBAAUkE,EAAU,CAAC3B,EAAK8B,YACnBG,CACR,C,sDClDKI,EAAe,iCACfC,EAAe,mCAYd,SAASC,EAAmBC,EAA2BC,GAC5D,OAAOvF,IAAMwF,IAA2CJ,EAAc,CACpEE,SACAC,eAEH,CAiBM,SAASE,EAAkBH,EAA0BC,GAC1D,OAAOvF,IAAMwF,IAA0CL,EAAc,CACnEG,SACAC,eAEH,CAEM,SAASG,EAAoBnC,EAAYgC,GAC9C,OAAOvF,IAAMwF,IAAN,UAAuCL,EAAvC,YAAuD5B,GAAM,CAClEgC,eAEH,CAEM,SAASI,EAAed,EAA2BU,GACxD,IAAMK,EAAkC,CAAC,EAazC,OAZAC,YACED,EACA,CACE,CAACE,IAAK,kBAAmBC,KAAM,mBAC/B,CAACD,IAAK,eAAgBC,KAAM,gBAC5B,CAACD,IAAK,eAAgBC,KAAM,gBAC5B,CAACD,IAAK,iBAAkBC,KAAM,kBAC9B,CAACD,IAAK,iBAAkBC,KAAM,kBAC9B,CAACD,IAAK,SAAUC,KAAM,WAExBlB,GAEEA,EAAMtB,GACDvD,IAAMgG,IAAN,UAAuCb,EAAvC,YAAuDN,EAAMtB,IAAMqC,EAAY,CACpFL,gBAGGvF,IAAMiG,KAA+Bd,EAAcS,EAAY,CACpEL,eAEH,C,sCC/CcW,EApBI,SAAC,GAAwC,IAAvC1E,EAAsC,EAAtCA,SAAUD,EAA4B,EAA5BA,MAC7B,OACE,cAAC,IAAD,CACEA,MAAOA,EACP4E,eAAgB,SAAC5E,EAAO6E,GAAR,OAAmB5E,EAASD,EAAO6E,EAAnC,EAChBC,KAAM,CACJC,OAAQ,IACRC,SAAS,EACTC,QAAS,CACP,iEACA,6CACA,wDAEFC,QAAQ,6GAEVC,iBAAiB,2BAGtB,E,gBC+BcC,EA9C2C,SAAC,GAKpD,IAJLC,EAII,EAJJA,KACAC,EAGI,EAHJA,WACAC,EAEI,EAFJA,YACAC,EACI,EADJA,eAEMC,EAAUhI,uBAAY,WACrB6H,GAAYC,GAClB,GAAE,CAACD,IAEJ,OACE,eAACI,EAAA,EAAD,CAAO,cAAY,OAAOC,SAAS,KAAKN,KAAMA,EAAMO,OAAQH,EAASI,UAAQ,EAACC,YAAU,EAAxF,UACE,sBAAKjJ,UAAU,iEAAf,UACE,oBAAIA,UAAU,4BAAd,yBAGA,qBAAKA,UAAU,oDAAoDyD,QAASmF,EAA5E,SACE,cAAC,IAAD,CAAOM,KAAK,yCAAyClJ,UAAU,oBAKnE,qBAAKA,UAAU,kBAAf,SACE,6EAEF,sBAAKA,UAAU,eAAf,UACE,wBACEmJ,KAAK,SACLnJ,UAAS,sCACTG,SAAUsI,EACVhF,QAASmF,EAJX,qBAOU,IACV,wBACEnF,QAASgF,OAAazF,EAAY2F,EAClCxI,SAAUsI,EACVzI,UAAS,qCAHX,SAKE,sBAAMA,UAAU,kBAAhB,2BAKT,E,gDC7BKoJ,EAASC,MAAaC,MAAM,CAChClE,gBAAiBiE,MAAaE,SAAS,qBACvClE,aAAcgE,MAAaE,SAAS,qBACpCjE,aAAc+D,MAAaE,SAAS,qBACpChE,eAAgB8D,MAAaE,SAC3B,8DAEF/D,eAAgB6D,MAAaE,SAC3B,8DAEF9D,OAAQ4D,MAAaE,SAAS,uBA+UjBC,EAzTyB,WAAO,IAAD,IAErCzG,EAAQ0G,cAAR1G,KACAoC,EAAMuE,cAANvE,GACP,EAAoC3E,oBAAS,GAA7C,mBAAOiI,EAAP,KAAmBkB,EAAnB,KACOC,EAAiBC,cAAjBD,cAEDE,EAAWtH,mBAAQ,kBAAMgC,QAAQW,EAAd,GAAmB,CAACA,IAC7C,EAAwC3E,qBAAxC,mBAAOuJ,EAAP,KAAqBC,EAArB,KACA,EAAwCxJ,oBAAS,GAAjD,mBAAOyJ,EAAP,KAAqBC,EAArB,KAEA,EAAkC1J,mBAAS,MAA3C,mBAAO2J,EAAP,KAAkBC,EAAlB,KACMC,GAAO7H,mBACX,iBAAM,CACJ,CAAC8H,MAAO,mBAAoBnH,MAAO,MACnC,CAACmH,MAAO,UAAWnH,MAAO,MAF5B,GAIA,IAEF,GAA8B3C,mBAAS,IAAvC,qBAAOyF,GAAP,MAAgBsE,GAAhB,MAEMC,GAAWjE,EACf3F,uBACE,SAAC8D,EAA0BhD,EAAUO,GACnC0H,GAAc,GACb,gCAAC,iHAEQpC,EAAe,eAAI7C,GAAOzC,GAFlC,OAGMP,MACFkI,EAAc,CACZa,OAAQ,OACRC,KAAM,4BAER3H,EAAK4H,IAAaC,QAAQC,OAR9B,+CAWMnJ,KACFkI,EAAc,CAACa,OAAQ,SAAUC,KAAMI,YAAgB,EAAD,IAAI,KAZ9D,OAeAnB,GAAc,GAfd,wDAAD,EAiBF,GACD,CAACC,KAIL,GAA6DmB,YAAU,CACrEC,cAAe9F,EACf+F,gBAAgB,EAChBC,kBAAkB,EAClBC,iBAAkB/B,EAClBgC,SAAU,SAAC1G,EAAD,GAA4B,IAApB2G,EAAmB,EAAnBA,cACZ3G,EAAKS,GAAI+E,GAAgB,GACxBM,GAAS9F,GACd2G,GAAc,EACf,IATIC,GAAP,GAAOA,UAA0BC,IAAjC,GAAkBC,cAAlB,GAAiCD,eAAkBE,GAAnD,kBAYMC,GAAgB9K,sBAAW,iDAAC,WAAO8J,EAAciB,GAArB,oHAEV1E,EAAmB,CACrCpG,KAAMI,KAAKC,KAAKyK,EAAOnI,OAAS,IAAM,EACtCrC,MAAO,GACPyK,OAAQlB,EACRjF,OAAQ,SACR0D,KAAM,UAPsB,cAExBhG,EAFwB,OASxB0I,EATwB,gCAST1I,EAAMuB,KAAKA,YATF,aAST,EAAiBoH,aATR,QASiB,IATjB,kBAUvB,CACLD,UACAE,QAASF,EAAQrI,OAASmI,EAAOnI,QAAxB,oBAAkCL,EAAMuB,KAAKA,YAA7C,aAAkC,EAAiBsH,kBAAnD,QAAiE,KAZ9C,yDAevB,CAACH,QAAS,GAAIE,SAAS,IAfA,yDAAD,wDAiB9B,IAGGE,GAAYzJ,mBAChB,kBACEsH,EACIoC,IAAWC,yBAAyBC,MACpCF,IAAWG,yBAAyBD,KAH1C,GAIA,CAACtC,IAGGwC,GAAc9J,mBAClB,iBAAM,CACJ,CACEd,UAAU,EACVwH,KAAMyB,IAAaC,QAAQC,KAC3B7E,MAAO2E,IAAaC,QAAQ2B,OAE9B,CAAC7K,UAAU,EAAOwH,KAAM,GAAIlD,MAAO,GAAIwG,aAAa,GANtD,GAQA,IA4BF,OAzBArK,qBAAU,WACRsK,SAASzG,MAAQ0G,YAAST,GAC3B,GAAE,IAGH/F,EACEtF,uBAAY,WACNuE,QAAuBnC,IAAjB+G,GACRzC,EAAoBnC,GACjBwH,MAAK,SAACC,GACLtB,GAAU5F,EAAuBkH,EAAIlI,KAAKA,OAC1CsF,GAAgB,EACjB,IACA6C,OAAM,SAACxJ,GAAD,OAAO2G,GAAgB,EAAvB,GACZ,GAAE,CAAC7E,EAAI4E,IACR,CAAC5E,EAAI4E,IAGP5H,qBAAU,WAAO,IAAD,EACT2H,IAAYC,GACfQ,GAAU,UACO,OAAdJ,EAAqBsB,GAAOqB,OAAOvH,eAAiBkG,GAAOqB,OAAOtH,sBAD3D,QAC8E,GAE3F,GAAE,CAACsE,EAAUC,EAAcI,IAExBL,IAAaC,EAEb,qCACE,cAAC,IAAD,CAAWuC,YAAaA,GAAxB,SAAsCL,KAEtC,qBAAKjM,UAAU,OAAf,SACE,qBAAKA,UAAU,YAAf,UACoB,IAAjB+J,EAAyB,aAAe,wCAOjD,qCACE,cAAC,IAAD,CAAWuC,YAAaA,GAAxB,SAAsCL,KAEtC,qBAAKjM,UAAU,OAAf,SACE,uBAAMA,UAAU,YAAYoL,SAAUK,GAAOsB,aAAcC,YAAU,EAArE,UACE,sBAAKhN,UAAU,MAAf,UACE,sBAAKA,UAAU,gBAAf,UACE,uBAAOA,UAAU,qCAAjB,uBACA,cAAC,IAAD,CACEkD,aAAa,MACb+J,WAAYvN,IACZyD,MAAOsI,GAAOqB,OAAO/G,aACrBmH,YAAaxB,GACbyB,gBAAiB,IACjBC,eAAgB,SAACC,GAAD,uBAAqBA,EAAGlI,UAAxB,QAA8B,EAA9B,EAChBmI,kBAAmB,SAACC,EAAqBC,GAAtB,OA5KP,SAC1BD,EACAC,GACI,IAAD,cACH,GAAqB,UAAjBA,EAAKC,QACP,2BAAOF,EAAOG,gCAAd,iBAAO,EAAiCjJ,MAAK,SAACmB,GAAD,MAAyB,QAAX,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMC,KAAhB,WAA7C,aAAO,EAAsE8B,YAA7E,QAAqF,GACvF,IAAMgG,EAAWH,EAAKI,aAAgBJ,EAAKI,YAAoB,GAC/D,OACE,gCACE,qBAAK5N,UAAU,YAAf,mBACGuN,EAAOG,gCADV,iBACG,EAAiCjJ,MAAK,SAACmB,GAAD,MAAyB,QAAX,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMC,KAAhB,WADzC,aACG,EAAsE8B,OAEzE,qBAAK3H,UAAWC,YAAK,OAAQ,CAAC,iBAAuB,OAANsN,QAAM,IAANA,OAAA,EAAAA,EAAQpI,OAAR,OAAewI,QAAf,IAAeA,OAAf,EAAeA,EAAUxI,MAAxE,mBACGoI,EAAOG,gCADV,iBACG,EAAiCjJ,MAAK,SAACmB,GAAD,MAAyB,QAAX,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMC,KAAhB,WADzC,aACG,EAAsE8B,SAI9E,CA2JiEkG,CAAoBN,EAAQC,EAA3D,EACnBpK,SAAQ,iDAAE,WAAOD,GAAP,2EACRsI,GAAOqC,gBAAgB,mBAAmB,GAC1CvC,GAAc,kBAAmBpI,EAAMgC,IAAI,GAC3CoG,GAAc,eAAgBpI,GAHtB,2CAAF,wDAMTsI,GAAOsC,QAAQ3I,iBAAmBqG,GAAOuC,OAAO5I,iBAC/C,qBAAKpF,UAAU,2CAAf,SACE,sBAAMiO,KAAK,QAAX,SAAoBxC,GAAOuC,OAAO5I,uBAIxC,sBAAKpF,UAAU,cAAf,UACE,uBAAOA,UAAU,qCAAjB,oBACA,sBAAKA,UAAU,4DAAf,UACE,uBACEA,UAAU,mBACVmJ,KAAK,WACL+E,QAASzC,GAAOqB,OAAOrH,SAAWZ,EAAiBE,OACnD3B,SAAU,SAACC,GACTkI,GACE,SACAlI,EAAE8K,OAAOD,QAAUrJ,EAAiBE,OAASF,EAAiBG,SAEjE,IAEH,uBAAOhF,UAAU,mBAAjB,SACG8E,EAAoB,UAAC2G,GAAOqB,OAAOrH,cAAf,QAAyB,eAGjDgG,GAAOsC,QAAQtI,QAAUgG,GAAOuC,OAAOvI,QACtC,qBAAKzF,UAAU,2CAAf,SACE,sBAAMiO,KAAK,QAAX,SAAoBxC,GAAOuC,OAAOvI,cAIxC,sBAAKzF,UAAU,cAAf,UACE,uBAAOA,UAAU,qCAAjB,uCAGA,+CACEoO,YAAY,IACR3C,GAAO4C,cAAc,iBAF3B,IAGErO,UAAWC,YAAK,mDAChBkJ,KAAK,OACLjG,aAAa,SAEduI,GAAOsC,QAAQ1I,cAAgBoG,GAAOuC,OAAO3I,cAC5C,qBAAKrF,UAAU,2CAAf,SACE,sBAAMiO,KAAK,QAAX,SAAoBxC,GAAOuC,OAAO3I,oBAIxC,sBAAKrF,UAAU,cAAf,UACE,uBAAOA,UAAU,qCAAjB,8BACA,+CACEoO,YAAY,IACR3C,GAAO4C,cAAc,iBAF3B,IAGErO,UAAWC,YAAK,mDAChBkJ,KAAK,OACLjG,aAAa,SAEduI,GAAOsC,QAAQzI,cAAgBmG,GAAOuC,OAAO1I,cAC5C,qBAAKtF,UAAU,2CAAf,SACE,sBAAMiO,KAAK,QAAX,SAAoBxC,GAAOuC,OAAO1I,uBAK1C,sBAAKtF,UAAU,iDAAf,UACE,qBAAKA,UAAU,gCAAf,wBACA,oBACEA,UAAU,qDACVsO,MAAO,CAACC,SAAU,SAAUC,UAAW,QAFzC,SAIGnE,GAAK3G,KAAI,SAACkC,GAAD,OACR,oBAAI5F,UAAU,yBAAd,SACE,cAAC,IAAD,CACEA,UAAWC,YACT,WACAkK,IAAcvE,EAAKzC,MACf,6DACA,IAEN,iBAAe,MACfsL,GAAG,IACHhL,QAAS,kBAAM2G,EAAaxE,EAAKzC,MAAxB,EATX,SAWGyC,EAAK0E,SAZV,cAAmD1E,EAAK0E,OADhD,SAmBd,qBAAKgE,MAAO,CAACI,gBAAiB,UAAWxG,OAAQ,GAAIlI,UAAU,UAE5DyL,GAAOsC,QAAQxI,gBAAkBkG,GAAOuC,OAAOzI,gBAC/CkG,GAAOsC,QAAQvI,gBAAkBiG,GAAOuC,OAAOxI,iBAChD,qBAAKxF,UAAU,2CAAf,SACE,uBAAMiO,KAAK,QAAX,UACE,sBACEU,MAAM,6BACNC,QAAQ,YACRC,MAAM,KACN3G,OAAO,KACP4G,KAAK,OACLC,OAAO,UANT,UAQE,wBAAQC,GAAG,IAAIC,GAAG,IAAInL,EAAE,QACxB,sBAAM,kBAAgB,QAAQoL,EAAE,uBAChC,wBAAQF,GAAG,IAAIC,GAAG,MAAMnL,EAAE,KAAKgL,KAAK,UAAUC,OAAO,YAChD,IAZT,UAaGtD,GAAOuC,OAAOzI,sBAbjB,QAamCkG,GAAOuC,OAAOxI,oBAIrD,qBAAKxF,UAAU,SACf,cAAC,EAAD,CACEmD,MAAO8C,GACP7C,SAAU,SAACD,EAAO6E,GAChBuC,GAAWpH,GACX,IAAMgM,EAAsB,OAAdhF,EAAqB,iBAAmB,iBACtDsB,GAAOqC,gBAAgBqB,GAAO,GAC9B5D,GAAc4D,EAAOhM,GAAO,EAC7B,IAEH,qBAAKnD,UAAU,SACf,qBAAKsO,MAAO,CAACI,gBAAiB,UAAWxG,OAAQ,GAAIlI,UAAU,SAE/D,sBAAKA,UAAU,SAAf,UACE,cAAC,IAAD,CAAMA,UAAS,sCAAyCyO,GAAI9D,IAAaC,QAAQC,KAAjF,qBAGA,yBACE1B,KAAK,SACLnJ,UAAU,qCACVG,SAAUsI,GAAcgD,GAAO2D,aAHjC,UAKE,sBAAMpP,UAAU,kBAAhB,qBACEyI,GAAcgD,GAAO2D,eACrB,uBAAMpP,UAAU,qBAAhB,4BAEE,sBAAMA,UAAU,qEAO5B,cAAC,EAAD,CACEwI,KAAMyB,EACNxB,WAAYA,EACZC,YAAa,kBAAMwB,GAAgB,EAAtB,EACbvB,eAAgB,kBAAM6B,GAASiB,GAAOqB,OAAtB,MAIvB,E,iBC5WM,SAASuC,EACd5N,EACA6N,GAEA,MAAwB9O,mBAAS,CAC/BgG,UAAW,EACXC,MAAO,CAAC,IAFV,mBAAO/B,EAAP,KAAagC,EAAb,KAIMC,EAAUnE,mBAAQ,WACtB,OAAO,SAACiE,GAAD,OACLC,EAAQ,CACNF,UAAWI,KAAKC,MAChBJ,SAHG,CAKR,GAAE,IACGJ,EAAWzF,uBAAY,WAC3B,IAEI2O,EAFA7N,GAAW,EACTC,EAASC,IAAMC,YAAYF,SAE3BG,EAAM,iDAAG,8GACWC,YAAa2E,GADxB,QACPI,EADO,QAECN,UAAY,IACxB+I,EAAUC,YAAW,WACnB/N,EAASqF,EAAUL,OAAO,kBAAM/E,CAAN,GAAgBC,EAAOM,MAClD,GAAEqN,IALQ,2CAAH,qDASZ,OADAxN,IACO,WACLJ,GAAW,EACXC,EAAOO,SACHqN,GAASE,aAAaF,EAC3B,CACF,GAAE,CAAC9N,EAAU6N,IAEd,OADAnN,oBAAUkE,EAAU,CAAC3B,EAAK8B,YACnBG,CACR,C,kCCrCKK,GAAe,mCAYd,SAASC,GAAmBC,EAA2BC,GAC5D,OAAOvF,IAAMwF,IAAgDJ,GAAc,CACzEE,SACAC,eAEH,CCdD,IASeuI,GATG,SAACjJ,GACjB,OACE,gCACE,uBAAOzG,UAAU,aAAjB,SAA+ByG,EAAM6D,QACrC,mCAAOtK,UAAU,mCAAsCyG,MAG5D,ECKckJ,GAXQ,SAAClJ,GACtB,OACE,sBAAKzG,UAAU,4DAAf,UACE,mCAAOA,UAAU,mBAAmBmJ,KAAK,YAAe1C,IACvDA,EAAM6D,OACL,uBAAOtK,UAAWC,YAAK,mBAAoBwG,EAAMmJ,YAAjD,SAA+DnJ,EAAM6D,UAI5E,E,qBCYKU,GAAgB,CACpB6E,OAAQ,KACRzK,gBAAiB,GACjB0K,gBAAiB,GACjBrK,QAAQ,GAGJ0F,GAAmB9B,MAAaC,MAAM,CAC1CuG,OAAQxG,MAAa0G,WAAWzG,MAAM,CACpCnG,MAAOkG,MACPiB,MAAOjB,QAETjE,gBAAiBiE,MAAaE,SAAS,qBACvCuG,gBAAiBzG,MAAaE,SAAS,qBACvC9D,OAAQ4D,QAGG2G,GAA6B,SAAC,GAMd,IAL3BxH,EAK0B,EAL1BA,KACAE,EAI0B,EAJ1BA,YACAuH,EAG0B,EAH1BA,cACAvL,EAE0B,EAF1BA,KACAyE,EAC0B,EAD1BA,KAEOS,EAAiBC,cAAjBD,cACP,EAA8BpJ,mBAAuC,QAArE,mBAAO0P,EAAP,KAAgBC,EAAhB,KAEM1E,EAASV,YAAU,CACvBC,iBACAG,oBACAC,SAAU,SAAC0B,EAAD,GAA8C,IAAD,IAA9BzB,EAA8B,EAA9BA,cAAe+E,EAAe,EAAfA,UACtC/E,GAAc,GACd,IAAMgF,EAAyB,CAC7BC,UAAS,iBAAExD,QAAF,IAAEA,GAAF,UAAEA,EAAQ+C,cAAV,aAAE,EAAgB1M,aAAlB,QAA2B,KACpCiC,gBAAe,OAAE0H,QAAF,IAAEA,OAAF,EAAEA,EAAQ1H,gBACzB0K,gBAAe,OAAEhD,QAAF,IAAEA,OAAF,EAAEA,EAAQgD,gBACzBrK,OAAc,OAANqH,QAAM,IAANA,KAAQrH,OAAS,SAAW,WACpC0D,KAAMA,GAEJzE,EHnCH,SAA2BS,EAAYT,EAAqByC,GACjE,OAAOvF,IAAMgG,IAAN,UAAaZ,GAAb,YAA6B7B,GAAMT,EAAM,CAACyC,eAClD,CGkCOoJ,CAAiB,OAAC7L,QAAD,IAACA,OAAD,EAACA,EAAMS,GAAKkL,GAC1B1D,MAAK,WACJtB,GAAc,GACd8E,EAAW,QACXC,IACAH,GACD,IACApD,OAAM,SAAC2D,GACNnF,GAAc,GACd8E,EAAW,QACXvG,EAAc,CAACa,OAAQ,SAAUC,KAAMI,YAAgB0F,GAAO,IAC/D,IHnDJ,SAA2B9L,EAAqByC,GACrD,OAAOvF,IAAMiG,KAAKb,GAActC,EAAM,CAACyC,eACxC,CGmDOsJ,CAAkBJ,GACf1D,MAAK,WACJtB,GAAc,GACd8E,EAAW,QACXC,IACAH,GACD,IACApD,OAAM,SAAC2D,GACNnF,GAAc,GACdzB,EAAc,CAACa,OAAQ,SAAUC,KAAMI,YAAgB0F,GAAO,IAC/D,GAEN,IAGGE,EAAqB,SAACvN,EAA0B0C,EAAe8K,GAAwB,IAAD,UAC1F,OAAIA,GAEK,OAALxN,QAAK,IAALA,GAAA,UAAAA,EAAO0M,cAAP,mBAAenC,gCAAf,mBAAyCjJ,MAAK,SAACmB,GAAD,OAAc,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMC,QAASA,CAAzB,WAA9C,eAA8E8B,OAAQ,IAG9E,OAALxE,QAAK,IAALA,GAAA,UAAAA,EAAOuK,gCAAP,mBAAiCjJ,MAAK,SAACmB,GAAD,OAAc,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMC,QAASA,CAAzB,WAAtC,eAAsE8B,OAAQ,EACtF,EAEKiJ,EAAkBhQ,sBAAW,iDACjC,WAAO8J,EAAciB,GAArB,sHAEwB1E,GAAmB,CACrCpG,KAAMI,KAAKC,KAAKyK,EAAOnI,OAAS,IAAM,EACtCrC,MAAO,GACPyK,OAAQlB,EACRvB,SANN,cAEUhG,EAFV,OASU0I,EATV,oBAUM1I,EAAMuB,KAAKA,YAVjB,iBAUM,EAAiBoH,aAVvB,aAUM,EAAwBpI,KAAI,SAACkC,GAAD,cAAW,CACrC0E,OAAW,OAAJ1E,QAAI,IAAJA,GAAA,UAAAA,EAAM8H,gCAAN,mBAAgCjJ,MAAK,SAACmB,GAAD,MAAyB,QAAX,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMC,KAAhB,WAArC,eAAqE8B,OAAQ,IACpFxE,MAAK,OAAEyC,QAAF,IAAEA,OAAF,EAAEA,EAAMT,GAFa,WAVlC,QAaa,GAbb,kBAcW,CACL0G,UACAE,QAASF,EAAQrI,OAASmI,EAAOnI,QAAxB,oBAAkCL,EAAMuB,KAAKA,YAA7C,aAAkC,EAAiBsH,kBAAnD,QAAiE,KAhBhF,yDAmBW,CAACH,QAAS,GAAIE,SAAS,IAnBlC,yDADiC,wDAuBjC,CAACrH,EAAMyE,IAGThH,qBAAU,WAEc,IAAD,EADjBqG,EACW,OAAT9D,EACF+G,EAAOH,UACL,CACEuE,OAAY,OAAJnL,QAAI,IAAJA,KAAMmL,OACV,CACE1M,MAAK,OAAEuB,QAAF,IAAEA,GAAF,UAAEA,EAAMmL,cAAR,aAAE,EAAc1K,GACrBmF,MAAOoG,EAAmBhM,EAAM,MAAM,IAExC,KACJU,gBAAiBsL,EAAmBhM,EAAM,MAC1CoL,gBAAiBY,EAAmBhM,EAAM,MAC1Ce,OAAyB,YAAb,OAAJf,QAAI,IAAJA,OAAA,EAAAA,EAAMe,UAEhB,GAGFgG,EAAO2E,YAGT3E,EAAOoF,WAAW,CAChBhB,QAAQ,EACRzK,iBAAiB,EACjB0K,iBAAiB,EACjBrK,QAAQ,GAGb,GAAE,CAACf,EAAM8D,IAEV,MAAkChI,mBAAS,KAA3C,mBAAOsQ,EAAP,KAAkBC,EAAlB,KAMA,OAJA5O,qBAAU,WACJqG,GAAMuI,EAAaC,OAAOC,OAASC,QACxC,GAAE,CAAC1I,IAEY,WAAZ0H,GAAwBxL,EAExB,eAACmE,EAAA,EAAD,CACE1D,GAAG,sBACH2D,UAAW,EACX,cAAY,OACZqI,gBAAgB,wCAChB3I,KAAMA,EACNO,OAAQ,kBAAMoH,EAAW,OAAjB,EANV,UAQE,sBAAKnQ,UAAU,sEAAf,UACE,qBAAKA,UAAU,eAAf,uCACA,wBACEmJ,KAAK,SACL1F,QAAS,kBAAM0M,EAAW,OAAjB,EACTnQ,UAAU,2BAHZ,SAKE,cAAC,IAAD,CAAWiD,IAAI,8CAGnB,qBAAKjD,UAAU,yBAAf,SACE,mFACkD,IAChD,iCAASyL,EAAOqB,OAAO1H,iBAAmB,QAF5C,8FAG+D,IACnD,UAAT+D,EAAmB,QAAU,gBAJhC,SAOF,sBAAKnJ,UAAU,6DAAf,UACE,wBACEmJ,KAAK,SACLnJ,UAAS,sCACTyD,QAAS,kBAAM0M,EAAW,OAAjB,EAHX,qBAOA,wBACEhH,KAAK,SACLnJ,UAAU,qCACVyD,QAAS,WACPgI,EAAOF,cAAc,UAAU,GAC/B4E,EAAW,OACZ,EANH,SAQE,sBAAMnQ,UAAU,kBAAhB,4BAOM,WAAZkQ,EAEA,eAACrH,EAAA,EAAD,CACE1D,GAAG,sBACH2D,UAAW,EACX,cAAY,OACZqI,gBAAgB,wCAChB3I,KAAMA,EACNO,OAAQ,kBAAMoH,EAAW,OAAjB,EACRnH,UAAQ,EAPV,UASE,sBAAKhJ,UAAU,8EAAf,UAEE,6CACA,wBACEmJ,KAAK,SACL1F,QAAS,kBAAM0M,EAAW,OAAjB,EACTnQ,UAAU,2BAHZ,SAKE,cAAC,IAAD,CAAWiD,IAAI,8CAInB,qBAAKjD,UAAU,KACf,uBAAMoL,SAAUK,EAAOsB,aAAcC,YAAU,EAA/C,UACE,qBAAKhN,UAAU,yBAAf,SACE,6EAGF,qBAAKA,UAAU,eAAf,SACE,sBAAKA,UAAU,iBAAf,UACE,wBACEmJ,KAAK,SACLhE,GAAG,6CACHnF,UAAU,8CACVyD,QAAS,kBAAM0M,EAAW,OAAjB,EACThQ,SAAUsL,EAAO2D,aALnB,qBASA,yBACEjG,KAAK,SACLhE,GAAG,2BACHnF,UAAU,qCACVG,SAAUsL,EAAO2D,aAJnB,UAME,sBAAMpP,UAAU,kBAAhB,oBACCyL,EAAO2D,cACN,uBAAMpP,UAAU,qBAAhB,4BAEE,sBAAMA,UAAU,wEAYhC,eAAC6I,EAAA,EAAD,CACE1D,GAAG,sBACH2D,UAAW,EACX,cAAY,OACZqI,gBAAgB,wCAChB3I,KAAMA,EACNO,OAAQL,EANV,UAQE,sBAAK1I,UAAU,sEAAf,UACE,sBAAKA,UAAU,eAAf,UACG0E,EAAO,SAAW,SADrB,iBACsD,UAATyE,EAAmB,QAAU,mBAE1E,wBAAQA,KAAK,SAAS1F,QAASiF,EAAa1I,UAAU,2BAAtD,SACE,cAAC,IAAD,CAAWiD,IAAI,8CAGnB,uBAAMmI,SAAUK,EAAOsB,aAAcC,YAAU,EAA/C,UACE,sBAAKhN,UAAU,yBAAf,UACE,sBAAKA,UAAU,QAAf,UACE,uBAAOA,UAAU,aAAjB,wCACA,cAAC,IAAD,CAEEoO,YAAY,wBACZgD,cAAY,EACZC,gBAAc,EACdpE,WACEvN,IAEFwN,YAAa0D,EACbzD,gBAAiB,IACjBmE,aAAW,EACXC,iBAAkB,SAAChE,EAAQ1B,GACzB,OAAO0B,EAAOpK,SAAP,OAAiBuB,QAAjB,IAAiBA,OAAjB,EAAiBA,EAAMS,GAC/B,EACDhC,MAAOsI,EAAOqB,OAAO+C,OACrBzM,SAAU,SAACD,GAAD,OAAWsI,EAAOF,cAAc,SAAUpI,EAA1C,EACV2F,SAAU,KAfLgI,MAkBT,sBAAK9Q,UAAU,QAAf,UACE,cAAC,GAAD,aACEsK,MAAM,qCACFmB,EAAO4C,cAAc,qBAE1B5C,EAAOsC,QAAQ3I,iBAAmBqG,EAAOuC,OAAO5I,iBAC/C,qBAAKpF,UAAU,2CAAf,SACE,sBAAMiO,KAAK,QAAX,SAAoBxC,EAAOuC,OAAO5I,uBAIxC,sBAAKpF,UAAU,QAAf,UACE,cAAC,GAAD,aACEsK,MAAM,4BACFmB,EAAO4C,cAAc,qBAE1B5C,EAAOsC,QAAQ+B,iBAAmBrE,EAAOuC,OAAO8B,iBAC/C,qBAAK9P,UAAU,2CAAf,SACE,sBAAMiO,KAAK,QAAX,SAAoBxC,EAAOuC,OAAO8B,uBAIxC,gCACE,uBAAO9P,UAAU,aAAjB,oBACA,cAAC,GAAD,CACEsK,MAAOmB,EAAOqB,OAAOrH,OAAS,SAAW,WACzCmK,WAAW,UACX1B,QAASzC,EAAOqB,OAAOrH,OACvBrC,SAAU,WACJsB,GAAQ+G,EAAOqB,OAAOrH,OACxB0K,EAAW,UAEX1E,EAAOF,cAAc,UAAWE,EAAOqB,OAAOrH,OAEjD,UAIP,sBAAKzF,UAAU,6DAAf,UACE,wBACEmJ,KAAK,SACLnJ,UAAS,sCACTG,SAAUsL,EAAO2D,aACjB3L,QAASiF,EAJX,qBAQChE,EACC,wBACEyE,KAAK,SACLnJ,UAAU,qCACVyD,QAAS,kBAAM0M,EAAW,SAAjB,EAHX,SAKE,sBAAMnQ,UAAU,kBAAhB,sBAGF,yBACEmJ,KAAK,SACLnJ,UAAU,qCACVG,SAAUsL,EAAO2D,aAHnB,UAKE,sBAAMpP,UAAU,kBAAhB,oBACCyL,EAAO2D,cACN,uBAAMpP,UAAU,qBAAhB,4BAEE,sBAAMA,UAAU,qEASjC,ECxHcwR,GAhQuB,WACpC,MAA8BhR,oBAAS,GAAvC,mBAAOY,EAAP,KAAgBqQ,EAAhB,KACA,EAA0CjR,oBAAS,GAAnD,mBAAOkR,EAAP,KAAsBC,EAAtB,KACA,EAA4BnR,wBAAuCwC,GAAnE,mBAAO4O,EAAP,KAAeC,EAAf,KAEMC,EAAUrI,cACTpF,EAAaN,aAAe,CAACQ,KAAM,yBAAnCF,UACAuF,EAAiBC,cAAjBD,cACP,EAA6CvJ,aAC3CO,uBAAY,SAACH,EAAOC,EAAUgB,EAAUyF,GACtCsK,GAAW,GACX,IAAMM,EAAS,iDAAG,2HAEW9K,GAAmB,CAC1CpG,KAAMJ,EAAMI,KACZM,MAAOV,EAAMU,MACbsE,OAAM,UAAEhF,EAAMc,MAAMkE,cAAd,aAAwBzC,EAC9B4I,OAAM,UAAEnL,EAAMc,MAAMqK,cAAd,aAAwB5I,EAC9BmG,KAAM,UAPM,OAER6I,EAFQ,OASVtQ,KACFhB,GAAS,SAACI,GAAD,mCAAC,eACLA,GADI,IAEPM,SAAS,EACTL,YAAY,EACZyP,OAAO,EACP3P,KAAMyC,OAAM,oBAAC0O,EAAWtN,KAAKA,YAAjB,aAAC,EAAsBuN,oBAAvB,QAAuC,GACnDvN,KAAI,oBAAEsN,EAAWtN,KAAKA,YAAlB,aAAE,EAAsBoH,aAAxB,QAAiC,GACrC9K,MAAOsC,OAAM,oBAAC0O,EAAWtN,KAAKA,YAAjB,aAAC,EAAsBsH,kBAAvB,QAAqC,IAP3C,IAUXyF,GAAW,GApBG,gDAsBV/P,KACFhB,GAAS,SAACI,GAAD,mBAAC,eACLA,GADI,IAEPM,SAAS,EACToP,OAAO,EACP9L,KAAM,IAJC,IAOX+M,GAAW,GA9BG,yDAAH,qDAkCfM,GACD,GAAE,IACH,CACE3Q,SAAS,EACTL,YAAY,EACZyP,OAAO,EACP3P,KAAM,EACN6D,KAAM,GACN1D,MAAO,EACPG,MAAO,GACPI,MAAO,CAAC,IA/CLd,EAAP,EAAOA,MAAOe,EAAd,EAAcA,SAAUb,EAAxB,EAAwBA,QAASU,EAAjC,EAAiCA,SAmD3B6Q,EAAgB,CACpB,CAAC5H,MAAO,QAASnH,WAAOH,GACxB,CAACsH,MAAO,SAAUnH,MAAO,UACzB,CAACmH,MAAO,WAAYnH,MAAO,aAIvBgP,EAAW9C,EACfzO,uBACE,SAAC8J,GACCrJ,GAAS,SAACP,GAAD,mBAAC,eAAcA,GAAf,IAAqB8K,OAAQlB,GAA7B,GACV,GACD,CAACrJ,IAEH,KAII+Q,EAAe,SAACjP,GACpB,OAAIA,EAAc,sBAAMnD,UAAU,4BAAhB,oBAEX,sBAAMA,UAAU,yBAAhB,qBACR,EAEK0Q,EAAqB,SAACvN,EAA0B0C,EAAe8K,GAAwB,IAAD,UAC1F,OAAIA,GAEK,OAALxN,QAAK,IAALA,GAAA,UAAAA,EAAO0M,cAAP,mBAAenC,gCAAf,mBAAyCjJ,MAAK,SAACmB,GAAD,OAAc,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMC,QAASA,CAAzB,WAA9C,eAA8E8B,OAAQ,KAG9E,OAALxE,QAAK,IAALA,GAAA,UAAAA,EAAOuK,gCAAP,mBAAiCjJ,MAAK,SAACmB,GAAD,OAAc,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMC,QAASA,CAAzB,WAAtC,eAAsE8B,OAAQ,GACtF,EAiBD,OAfAxF,qBAAU,WACRsK,SAASzG,MAAQ0G,YAAS,qBAC3B,GAAE,IAEHvK,qBAAU,WACRxB,EAAQ,EACT,GAAE,CAACA,IAEJwB,qBAAU,WACR,IAAMkQ,EAAqBP,EAAQQ,SAAS7R,MAC5C,OAAI4R,QAAJ,IAAIA,KAAeE,SACjB3I,EAAc,CAACa,OAAQ,OAAQC,KAAI,OAAE2H,QAAF,IAAEA,OAAF,EAAEA,EAAeE,SAEvD,GAAE,CAACT,EAAQQ,WAGV,qCACE,cAAC,IAAD,CAAWE,YAAY,0BAAvB,gCACA,sBAAKxS,UAAU,OAAf,UACGoB,GAAW,qBAAKpB,UAAU,kBAC3B,sBAAKA,UAAU,wCAAf,UACE,qBAAKA,UAAU,2BAAf,qCAECqE,EAAU,CAACM,OAAQ,YAClB,wBAAQlB,QAAS,kBAAMkO,GAAiB,EAAvB,EAA8B3R,UAAU,oBAAzD,gCAKJ,sBAAKA,UAAU,YAAf,UAEE,sBAAKA,UAAU,sCAAf,UACE,sBAAKA,UAAU,kDAAf,UACE,cAAC,IAAD,CACEiD,IAAK,oCACLjD,UAAU,6DAEZ,uBACEoO,YAAY,OACZpO,UAAU,wDACVmJ,KAAK,OACLjG,aAAa,MACbE,SAAU,SAACC,GAAD,OAAO8O,EAAS9O,EAAEE,cAAcJ,MAAhC,OAGd,sBAAKnD,UAAU,yDAAf,UACE,sBAAMA,UAAU,6BAAhB,2BACA,qBAAKA,UAAU,qCAAf,SACE,cAAC,KAAD,CACEkD,aAAa,MACb+J,WAAYvN,IACZmM,QAASqG,EACTO,aAAc,CAACtP,MAAO,GAAImH,MAAO,SACjClH,SAAU,SAACD,GAAD,OACR9B,GAAS,SAACP,GAAD,mBAAC,eACLA,GADI,IAEP2E,OAAM,OAAEtC,QAAF,IAAEA,OAAF,EAAEA,EAAOA,OAFR,GADD,YAYlB,sBAAKnD,UAAU,oBAAf,UACE,qBAAKA,UAAU,wBAAf,SACE,wBAAOA,UAAU,4CAAjB,UACE,uBAAOA,UAAU,mBAAjB,SACE,+BACE,qCACA,oBAAIsO,MAAO,CAACoE,SAAU,KAAtB,oBACA,iDACA,+CACA,6CAGJ,gCACyB,IAAtBjS,EAAMiE,KAAKlB,OACV,6BACE,oBAAImP,QAAS,EAAG3S,UAAU,cAA1B,SACGS,EAAMW,QACL,UACEX,EAAM+P,MACR,iCAEA,sBAAKxQ,UAAU,cAAf,UACE,cAAC,IAAD,CAAWiD,IAAI,sCACf,0EAMRxC,EAAMiE,KAAKhB,KAAI,SAACP,EAAOyP,GAAR,OACb,+BACE,oBAAI5S,UAAU,uBAAd,UACIS,EAAMI,KAAO,GAAKJ,EAAMU,MAAQyR,EAAQ,IAE5C,oBAAI5S,UAAU,eAAd,SACE,wBACEA,UAAU,kBACVyD,QAAS,WACPoO,EAAU1O,GACVwO,GAAiB,EAClB,EALH,SAOE,cAAC,IAAD,CAAW1O,IAAK,wCAGpB,qBAAIjD,UAAU,eAAd,UACE,uCAAU0Q,EAAmBvN,EAAO,MAAM,MAC1C,uCAAUuN,EAAmBvN,EAAO,MAAM,SAE5C,qBAAInD,UAAU,uBAAd,UACE,uCAAU0Q,EAAmBvN,EAAO,SACpC,uCAAUuN,EAAmBvN,EAAO,YAEtC,oBAAInD,UAAU,eAAd,SAA8BoS,EAA+B,YAAb,OAALjP,QAAK,IAALA,OAAA,EAAAA,EAAOsC,aAvB3CtC,EAAMgC,GADF,WAgCtB1E,EAAMiE,KAAKlB,OAAS,GAAK/C,EAAMW,QAC9B,qBACEpB,UAAU,iDACVsO,MAAO,CAACI,gBAAiB,2BAEzB,QAIN,cAACtM,EAAA,EAAD,CACEhB,QAASX,EAAMW,QACfP,KAAMJ,EAAMI,KACZM,MAAOV,EAAMU,MACbR,QAASA,EACT0B,WAAYb,EACZc,QAAS7B,EAAMO,cAIrB,cAAC,GAAD,CACEwH,KAAMkJ,EACNhJ,YAAa,WACXiJ,GAAiB,GACbC,GAAQC,OAAU7O,EACvB,EACDiN,cAAe,WACb0B,GAAiB,GACbC,GAAQC,OAAU7O,GACtB4G,EAAc,CAACa,OAAQ,OAAQC,KAAM,2BACrC/J,EAAQ,EACT,EACD+D,KAAMkN,EACNzI,KAAK,YAIZ,ECjQK0J,GAAmC,SAAC,GAAgB,IAAfjT,EAAc,EAAdA,SACzC,OACE,sBAAKI,UAAU,YAAf,UACE,sBAAKA,UAAU,wCAAf,UACE,qBAAKA,UAAU,2BAAf,SAA2C2K,IAAaC,QAAQwB,QAChE,cAAC,IAAD,CAAMqC,GAAIvC,IAAWG,yBAAyBxB,KAAM7K,UAAU,oBAA9D,kCAIF,qBAAKA,UAAU,YAAf,SAA4BJ,MAGjC,EAkTckT,GA1R4B,WACzC,MAAyBpJ,cAAlBvE,EAAP,EAAOA,GAAI4N,EAAX,EAAWA,WAEX,EAA6C1S,aAC3CO,uBACE,SAACoS,EAAStS,EAAUgB,EAAUyF,GAC5B,IAAM4K,EAAS,iDAAG,uHAEI1K,EAAkB,2BAE7B2L,EAAQzR,OAFoB,IAG/BV,KAAMmS,EAAQnS,KACdM,MAAO6R,EAAQ7R,MACfgI,KAAM,UAERhC,GATY,OAERyF,EAFQ,OAWVlL,KACFhB,GAAS,SAACI,GAAD,mCAAC,eACLA,GADI,IAEPM,SAAS,EACTL,YAAY,EACZyP,OAAO,EACP3P,KAAI,oBAAE+L,EAAIlI,KAAKA,YAAX,aAAE,EAAeuN,oBAAjB,QAAiC,EACrCvN,KAAI,oBAAEkI,EAAIlI,KAAKA,YAAX,aAAE,EAAeoH,aAAjB,QAA0B,GAC9B9K,MAAK,oBAAE4L,EAAIlI,KAAKA,YAAX,aAAE,EAAesH,kBAAjB,QAA+B,GAP7B,IAZG,gDAuBVtK,KACFhB,GAAS,SAACI,GAAD,mBAAC,eACLA,GADI,IAEPM,SAAS,EACTL,YAAY,EACZyP,OAAO,EACP9L,KAAM,IALC,IAxBG,yDAAH,qDAmCfqN,GACD,GACD,CAACgB,EAAY5N,IAEf,CACE/D,SAAS,EACTL,YAAY,EACZyP,OAAO,EACP3P,KAAM,EACN6D,KAAM,GACN1D,MAAO,EACPG,MAAO,GACPI,MAAO,CAAC,IAlDLd,EAAP,EAAOA,MAAOe,EAAd,EAAcA,SAAUb,EAAxB,EAAwBA,QAASU,EAAjC,EAAiCA,SAsD3B8Q,EAAW9C,EACfzO,uBACE,SAAC8J,GACCrJ,GAAS,SAACP,GAAD,mBAAC,eAAcA,GAAf,IAAqB8K,OAAQlB,GAA7B,GACV,GACD,CAACrJ,IAEH,KAGIqK,EAAgB9K,sBAAW,iDAAC,WAAO8J,EAAciB,GAArB,wHAEV1E,EAAmB,CACrCpG,KAAwB,IAAlB8K,EAAOnI,OAAe,EAAIvC,KAAKC,MAAMyK,EAAOnI,OAAS,GAAK,IAAM,EACtErC,MAAO,GACPyK,OAAQlB,EACRjF,OAAQ,SACR0D,KAAM,UAPsB,cAExBhG,EAFwB,OASxB0I,EACc,IAAlBF,EAAOnI,OAAP,CACK,CAAC,GADN,uCACaL,EAAMuB,KAAKA,YADxB,aACa,EAAiBoH,aAD9B,QACuC,KADvC,gCAES3I,EAAMuB,KAAKA,YAFpB,aAES,EAAiBoH,aAF1B,QAEmC,IAZP,kBAavB,CACLD,UACAE,QAASF,EAAQrI,OAASmI,EAAOnI,SAAxB,oBAAmCL,EAAMuB,KAAKA,YAA9C,aAAmC,EAAiBsH,kBAApD,QAAkE,KAf/C,yDAkBvB,CAACH,QAAS,GAAIE,SAAS,IAlBA,yDAAD,wDAoB9B,IAEGkH,EAAWzQ,mBACf,kBACE,CAACW,WAAOH,EAAWsH,MAAO,UAD5B,mBAEK4I,OAAOC,KAAKrO,GAAsBpB,KAAI,SAAC2J,GAAD,MAAS,CAChDlK,MAAOkK,EACP/C,MAAOxF,EAAqBuI,GAFW,KAF3C,GAOA,IAOF,OAJAlL,qBAAU,WACRxB,EAAQ,EACT,GAAE,IAGAF,EAAMW,SACNX,EAAM+P,OACN/P,EAAMc,MAAMqK,QACZnL,EAAMc,MAAM6R,aACZ3S,EAAMc,MAAMkE,QACU,IAAvBnC,OAAO7C,EAAMI,OACS,IAAtBJ,EAAMiE,KAAKlB,OAcX,eAAC,GAAD,WAEE,sBAAKxD,UAAU,yBAAf,UACE,sBAAKA,UAAU,kCAAf,UACE,cAAC,IAAD,CACEiD,IAAK,oCACLjD,UAAU,6DAEZ,uBACEoO,YAAY,OACZpO,UAAU,wDACVmJ,KAAK,OACLjG,aAAa,MACbE,SAAU,SAACC,GAAD,OAAO8O,EAAS9O,EAAEE,cAAcJ,MAAhC,OAGd,sBAAKnD,UAAU,0CAAf,UACE,sBAAMA,UAAU,gCAAhB,6BACA,qBAAKA,UAAU,8BAAf,SACE,cAAC,IAAD,CACEkD,aAAa,MACb+J,WAAYvN,IACZwN,YAAaxB,EACb+G,aAAc,CAAC,EACfrF,eAAgB,SAACC,GAAD,uBAAqBA,EAAGlI,UAAxB,QAA8B,EAA9B,EAChBmI,kBAAmB,SAACC,EAAqBC,GAAtB,OA5KL,SAC1BD,EACAC,GACI,IAAD,cACH,GAAqB,UAAjBA,EAAKC,QACP,OAAOF,EAAOpI,GAAP,oBACHoI,EAAOG,gCADJ,iBACH,EAAiCjJ,MAAK,SAACmB,GAAD,MAAyB,QAAX,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMC,KAAhB,WADnC,aACH,EAAsE8B,YADnE,QAC2E,GAC9E,QACN,IAAMgG,EAAWH,EAAKI,aAAgBJ,EAAKI,YAAoB,GAC/D,OAAKL,EAAOpI,GAEV,gCACE,qBAAKnF,UAAU,YAAf,mBACGuN,EAAOG,gCADV,iBACG,EAAiCjJ,MAAK,SAACmB,GAAD,MAAyB,QAAX,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMC,KAAhB,WADzC,aACG,EAAsE8B,OAEzE,qBAAK3H,UAAWC,YAAK,OAAQ,CAAC,iBAAuB,OAANsN,QAAM,IAANA,OAAA,EAAAA,EAAQpI,OAAR,OAAewI,QAAf,IAAeA,OAAf,EAAeA,EAAUxI,MAAxE,mBACGoI,EAAOG,gCADV,iBACG,EAAiCjJ,MAAK,SAACmB,GAAD,MAAyB,QAAX,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMC,KAAhB,WADzC,aACG,EAAsE8B,UAPtD,qBAAK3H,UAAU,YAAf,kBAWxB,CAwJ+D6N,CAAoBN,EAAQC,EAA3D,EACnBpK,SAAU,SAACD,GAAD,OACR9B,GAAS,SAACP,GAAD,mBAAC,eACLA,GADI,IAEPsS,YAAW,OAAEjQ,QAAF,IAAEA,OAAF,EAAEA,EAAOgC,IAFb,GADD,SAShB,sBAAKnF,UAAU,0CAAf,UACE,sBAAMA,UAAU,gCAAhB,2BACA,qBAAKA,UAAU,8BAAf,SACE,cAAC,KAAD,CACEkD,aAAa,MACb+J,WACEvN,IAEFmM,QAASoH,EACTR,aAAc,CAACtP,WAAOH,EAAWsH,MAAO,SACxClH,SAAU,SAACD,GAAD,OACR9B,GAAS,SAACP,GAAD,mBAAC,eACLA,GADI,IAEP2E,OAAM,OAAEtC,QAAF,IAAEA,OAAF,EAAEA,EAAOA,OAFR,GADD,YAYlB,sBAAKnD,UAAU,oBAAf,UACE,qBAAKA,UAAU,wBAAf,SACE,wBAAOA,UAAU,4CAAjB,UACE,uBAAOA,UAAU,mBAAjB,SACE,+BACE,qCACA,oBAAIsO,MAAO,CAACoE,SAAU,KAAtB,oBACA,0CACA,uCACA,6CAGJ,gCACyB,IAAtBjS,EAAMiE,KAAKlB,OACV,6BACE,oBAAImP,QAAS,EAAG3S,UAAU,cAA1B,SACGS,EAAMW,QACH,UACAX,EAAM+P,MACN,iCACA,kBAIR/P,EAAMiE,KAAKhB,KAAI,SAACP,EAAOyP,GAAR,iCACb,+BACE,oBAAI5S,UAAU,eAAd,UAA+BS,EAAMI,KAAO,GAAKJ,EAAMU,MAAQyR,EAAQ,IACvE,oBAAI5S,UAAU,eAAd,SACE,cAAC,IAAD,CACEA,UAAU,kBACVyO,GAAIvC,IAAWC,yBAAyBkH,UAAUlQ,EAAMgC,IAF1D,SAIE,cAAC,IAAD,CAAWlC,IAAK,wCAGpB,qBAAIjD,UAAU,eAAd,UACE,sCACM,IADN,OAGImD,QAHJ,IAGIA,GAHJ,UAGIA,EAAO4C,oBAHX,iBAGI,EAAqB2H,gCAHzB,iBAGI,EAA+CjJ,MAC7C,SAACmB,GAAD,MAAyB,QAAX,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMC,KAAhB,WAJN,aAGI,EAEG8B,QAGP,sCACM,IADN,OAGIxE,QAHJ,IAGIA,GAHJ,UAGIA,EAAO4C,oBAHX,iBAGI,EAAqB2H,gCAHzB,iBAGI,EAA+CjJ,MAC7C,SAACmB,GAAD,MAAyB,QAAX,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMC,KAAhB,WAJN,aAGI,EAEG8B,WAIT,qBAAI3H,UAAU,eAAd,UACE,sCACM,IADN,OAEGmD,QAFH,IAEGA,GAFH,UAEGA,EAAOwC,8BAFV,iBAEG,EAA+BlB,MAAK,SAACmB,GAAD,MAAyB,QAAX,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMC,KAAhB,WAFvC,aAEG,EAAoEG,SAEvE,sCACM,IADN,OAEG7C,QAFH,IAEGA,GAFH,UAEGA,EAAOwC,8BAFV,iBAEG,EAA+BlB,MAAK,SAACmB,GAAD,MAAyB,QAAX,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMC,KAAhB,WAFvC,aAEG,EAAoEG,YAGzE,oBAAIhG,UAAU,eAAd,SACE,sBACEA,UAAS,0BACPiF,EAAsB9B,EAAMsC,eADrB,QACiC,oBAF5C,SAKGX,EAAqB3B,EAAMsC,cA5CzBtC,EAAMgC,GADF,WAuDtB1E,EAAMiE,KAAKlB,OAAS,GAAK/C,EAAMW,QAC9B,qBACEpB,UAAU,iDACVsO,MAAO,CAACI,gBAAiB,2BAEzB,QAIN,cAACtM,EAAA,EAAD,CACEhB,QAASX,EAAMW,QACfP,KAAMyC,OAAO7C,EAAMI,MACnBM,MAAOV,EAAMU,MACbR,QAASA,EACT0B,WAAYb,EACZc,QAAS7B,EAAMO,WAlKjB,cAAC,GAAD,UACE,sBAAKhB,UAAU,+DAAf,UACE,8BACE,cAAC,IAAD,CAAWiD,IAAI,iDAEjB,qBAAKjD,UAAU,gBAAf,kDAiKT,EC3QcsT,GAjDM,WACnB,IAAOC,EAAY7J,cAAZ6J,IAEDlJ,EAAO7H,mBAAQ,WACnB,IAAME,EAAqB,GAS3B,OARAwQ,OAAOpG,OAAOnC,KAAc6I,SAAQ,SAAC5N,GACnClD,EAAOK,KAAK,CACVwQ,IAAK3N,EAAK6N,KACVnJ,MAAO1E,EAAK2G,MACZvG,MAAOJ,EAAKwG,MACZlD,KAAMtD,EAAKiF,MAEd,IACMnI,CACR,GAAE,IAEGuJ,EAAYzJ,mBAAQ,kCAAM6H,EAAK5F,MAAK,SAAC4I,GAAD,OAAQA,EAAGkG,MAAQA,CAAnB,WAAhB,aAAM,EAAmCvN,KAAzC,GAAgD,CAACuN,EAAKlJ,IAEhF,OACE,gCACE,cAAC,IAAD,CAAWmI,YAAavG,EAAxB,SAAoCA,IACpC,oBACEjM,UAAU,2DACVsO,MAAO,CAACC,SAAU,SAAUC,UAAW,QAFzC,SAIGnE,EAAK3G,KAAI,SAACkC,GAAD,OACR,oBAAI5F,UAAU,yBAAd,SACE,cAAC,IAAD,CACEA,UAAWC,YACT,WACAsT,IAAQ3N,EAAK2N,IAAM,6DAA+D,IAEpF,iBAAe,MACf9E,GAAI7I,EAAKsD,KANX,SAQGtD,EAAK0E,SATkC1E,EAAK0E,MADzC,MAgBZ,eAAC,IAAD,WACE,cAAC,IAAD,CAAOpB,KAAMyB,IAAa+I,SAAS7I,KAAM8I,UAAWnC,KACpD,cAAC,IAAD,CAAOtI,KAAMyB,IAAaC,QAAQC,KAAM8I,UAAWb,UAI1D,E,iDCpCK1J,GAASC,MAAaC,MAAM,CAChClE,gBAAiBiE,MAAaE,SAAS,qBACvClE,aAAcgE,MAAaE,SAAS,qBACpCjE,aAAc+D,MAAaE,SAAS,qBACpChE,eAAgB8D,MAAaE,SAC3B,8DAEF/D,eAAgB6D,MAAaE,SAC3B,8DAEF9D,OAAQ4D,MAAaE,SAAS,uBA8UjBqK,GAxT0B,WAAO,IAAD,IAEtC7Q,EAAQ0G,cAAR1G,KACAoC,EAAMuE,cAANvE,GACP,EAAoC3E,oBAAS,GAA7C,mBAAOiI,EAAP,KAAmBkB,EAAnB,KACOC,EAAiBC,cAAjBD,cAEDE,EAAWtH,mBAAQ,kBAAMgC,QAAQW,EAAd,GAAmB,CAACA,IAC7C,EAAwC3E,qBAAxC,mBAAOuJ,EAAP,KAAqBC,EAArB,KACA,EAAwCxJ,oBAAS,GAAjD,mBAAOyJ,EAAP,KAAqBC,EAArB,KAEA,EAAkC1J,mBAAS,MAA3C,mBAAO2J,EAAP,KAAkBC,EAAlB,KACMC,EAAO7H,mBACX,iBAAM,CACJ,CAAC8H,MAAO,mBAAoBnH,MAAO,MACnC,CAACmH,MAAO,UAAWnH,MAAO,MAF5B,GAIA,IAEF,EAA8B3C,mBAAS,IAAvC,oBAAOyF,GAAP,MAAgBsE,GAAhB,MAEMC,GAAWjE,EACf3F,uBACE,SAAC8D,EAA0BhD,EAAUO,GACnC0H,GAAc,GACb,gCAAC,iHAEQpC,EAAe,eAAI7C,GAAOzC,GAFlC,OAGMP,MACFkI,EAAc,CACZa,OAAQ,OACRC,KAAM,4BAER3H,EAAK8Q,IAAcjJ,QAAQC,OAR/B,+CAWMnJ,KACFkI,EAAc,CAACa,OAAQ,SAAUC,KAAMI,YAAgB,EAAD,IAAI,KAZ9D,OAeAnB,GAAc,GAfd,wDAAD,EAiBF,GACD,CAACC,KAIL,GAA6DmB,YAAU,CACrEC,cAAe9F,EACf+F,gBAAgB,EAChBC,kBAAkB,EAClBC,iBAAkB/B,GAClBgC,SAAU,SAAC1G,EAAD,GAA4B,IAApB2G,EAAmB,EAAnBA,cACZ3G,EAAKS,GAAI+E,GAAgB,GACxBM,GAAS9F,GACd2G,GAAc,EACf,IATIC,GAAP,GAAOA,UAA0BC,IAAjC,GAAkBC,cAAlB,GAAiCD,eAAkBE,GAAnD,mBAYMC,GAAgB9K,sBAAW,iDAAC,WAAO8J,EAAciB,GAArB,oHAEV1E,EAAmB,CACrCpG,KAAMI,KAAKC,KAAKyK,EAAOnI,OAAS,IAAM,EACtCrC,MAAO,GACPyK,OAAQlB,EACRjF,OAAQ,SACR0D,KAAM,WAPsB,cAExBhG,EAFwB,OASxB0I,EATwB,gCAST1I,EAAMuB,KAAKA,YATF,aAST,EAAiBoH,aATR,QASiB,IATjB,kBAUvB,CACLD,UACAE,QAASF,EAAQrI,OAASmI,EAAOnI,QAAxB,oBAAkCL,EAAMuB,KAAKA,YAA7C,aAAkC,EAAiBsH,kBAAnD,QAAiE,KAZ9C,yDAevB,CAACH,QAAS,GAAIE,SAAS,IAfA,yDAAD,wDAiB9B,IAGGE,GAAYzJ,mBAChB,kBACEsH,EACIoC,IAAWC,yBAAyBC,MACpCF,IAAWG,yBAAyBD,KAH1C,GAIA,CAACtC,IAGGwC,GAAc9J,mBAClB,iBAAM,CACJ,CACEd,UAAU,EACVwH,KAAM2K,IAAcjJ,QAAQC,KAC5B7E,MAAO6N,IAAcjJ,QAAQ2B,OAE/B,CAAC7K,UAAU,EAAOwH,KAAM,GAAIlD,MAAO,GAAIwG,aAAa,GANtD,GAQA,IA4BF,OAzBArK,qBAAU,WACRsK,SAASzG,MAAQ0G,YAAST,GAC3B,GAAE,IAGH/F,EACEtF,uBAAY,WACNuE,QAAuBnC,IAAjB+G,GACRzC,EAAoBnC,GACjBwH,MAAK,SAACC,GACLtB,GAAU5F,EAAuBkH,EAAIlI,KAAKA,OAC1CsF,GAAgB,EACjB,IACA6C,OAAM,SAACxJ,GAAD,OAAO2G,GAAgB,EAAvB,GACZ,GAAE,CAAC7E,EAAI4E,IACR,CAAC5E,EAAI4E,IAGP5H,qBAAU,WAAO,IAAD,EACT2H,IAAYC,GACfQ,GAAU,UACO,OAAdJ,EAAqBsB,GAAOqB,OAAOvH,eAAiBkG,GAAOqB,OAAOtH,sBAD3D,QAC8E,GAE3F,GAAE,CAACsE,EAAUC,EAAcI,IAExBL,IAAaC,EAEb,qCACE,cAAC,IAAD,CAAWuC,YAAaA,GAAxB,SAAsCL,KAEtC,qBAAKjM,UAAU,OAAf,SACE,qBAAKA,UAAU,YAAf,UACoB,IAAjB+J,EAAyB,aAAe,wCAOjD,qCACE,cAAC,IAAD,CAAWuC,YAAaA,GAAxB,SAAsCL,KAEtC,qBAAKjM,UAAU,OAAf,SACE,uBAAMA,UAAU,YAAYoL,SAAUK,GAAOsB,aAAcC,YAAU,EAArE,UACE,sBAAKhN,UAAU,MAAf,UACE,sBAAKA,UAAU,gBAAf,UACE,uBAAOA,UAAU,qCAAjB,uBACA,cAAC,IAAD,CACEkD,aAAa,MACb+J,WAAYvN,IACZyD,MAAOsI,GAAOqB,OAAO/G,aACrBmH,YAAaxB,GACb0B,eAAgB,SAACC,GAAD,uBAAqBA,EAAGlI,UAAxB,QAA8B,EAA9B,EAChBmI,kBAAmB,SAACC,EAAqBC,GAAtB,OA3KP,SAC1BD,EACAC,GACI,IAAD,cACH,GAAqB,UAAjBA,EAAKC,QACP,2BAAOF,EAAOG,gCAAd,iBAAO,EAAiCjJ,MAAK,SAACmB,GAAD,MAAyB,QAAX,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMC,KAAhB,WAA7C,aAAO,EAAsE8B,YAA7E,QAAqF,GACvF,IAAMgG,EAAWH,EAAKI,aAAgBJ,EAAKI,YAAoB,GAC/D,OACE,gCACE,qBAAK5N,UAAU,YAAf,mBACGuN,EAAOG,gCADV,iBACG,EAAiCjJ,MAAK,SAACmB,GAAD,MAAyB,QAAX,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMC,KAAhB,WADzC,aACG,EAAsE8B,OAEzE,qBAAK3H,UAAWC,YAAK,OAAQ,CAAC,iBAAuB,OAANsN,QAAM,IAANA,OAAA,EAAAA,EAAQpI,OAAR,OAAewI,QAAf,IAAeA,OAAf,EAAeA,EAAUxI,MAAxE,mBACGoI,EAAOG,gCADV,iBACG,EAAiCjJ,MAAK,SAACmB,GAAD,MAAyB,QAAX,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMC,KAAhB,WADzC,aACG,EAAsE8B,SAI9E,CA0JiEkG,CAAoBN,EAAQC,EAA3D,EACnBpK,SAAQ,iDAAE,WAAOD,GAAP,2EACRsI,GAAOqC,gBAAgB,mBAAmB,GAC1CvC,GAAc,kBAAmBpI,EAAMgC,IAAI,GAC3CoG,GAAc,eAAgBpI,GAHtB,2CAAF,wDAMTsI,GAAOsC,QAAQ3I,iBAAmBqG,GAAOuC,OAAO5I,iBAC/C,qBAAKpF,UAAU,2CAAf,SACE,sBAAMiO,KAAK,QAAX,SAAoBxC,GAAOuC,OAAO5I,uBAIxC,sBAAKpF,UAAU,cAAf,UACE,uBAAOA,UAAU,qCAAjB,oBACA,sBAAKA,UAAU,4DAAf,UACE,uBACEA,UAAU,mBACVmJ,KAAK,WACL+E,QAASzC,GAAOqB,OAAOrH,SAAWZ,EAAiBE,OACnD3B,SAAU,SAACC,GACTkI,GACE,SACAlI,EAAE8K,OAAOD,QAAUrJ,EAAiBE,OAASF,EAAiBG,SAEjE,IAEH,uBAAOhF,UAAU,mBAAjB,SACG8E,EAAoB,UAAC2G,GAAOqB,OAAOrH,cAAf,QAAyB,eAGjDgG,GAAOsC,QAAQtI,QAAUgG,GAAOuC,OAAOvI,QACtC,qBAAKzF,UAAU,2CAAf,SACE,sBAAMiO,KAAK,QAAX,SAAoBxC,GAAOuC,OAAOvI,cAIxC,sBAAKzF,UAAU,cAAf,UACE,uBAAOA,UAAU,qCAAjB,uCAGA,+CACEoO,YAAY,IACR3C,GAAO4C,cAAc,iBAF3B,IAGErO,UAAWC,YAAK,mDAChBkJ,KAAK,OACLjG,aAAa,SAEduI,GAAOsC,QAAQ1I,cAAgBoG,GAAOuC,OAAO3I,cAC5C,qBAAKrF,UAAU,2CAAf,SACE,sBAAMiO,KAAK,QAAX,SAAoBxC,GAAOuC,OAAO3I,oBAIxC,sBAAKrF,UAAU,cAAf,UACE,uBAAOA,UAAU,qCAAjB,8BACA,+CACEoO,YAAY,IACR3C,GAAO4C,cAAc,iBAF3B,IAGErO,UAAWC,YAAK,mDAChBkJ,KAAK,OACLjG,aAAa,SAEduI,GAAOsC,QAAQzI,cAAgBmG,GAAOuC,OAAO1I,cAC5C,qBAAKtF,UAAU,2CAAf,SACE,sBAAMiO,KAAK,QAAX,SAAoBxC,GAAOuC,OAAO1I,uBAK1C,sBAAKtF,UAAU,iDAAf,UACE,qBAAKA,UAAU,gCAAf,wBACA,oBACEA,UAAU,qDACVsO,MAAO,CAACC,SAAU,SAAUC,UAAW,QAFzC,SAIGnE,EAAK3G,KAAI,SAACkC,GAAD,OACR,oBAAI5F,UAAU,yBAAd,SACE,cAAC,IAAD,CACEA,UAAWC,YACT,WACAkK,IAAcvE,EAAKzC,MACf,6DACA,IAEN,iBAAe,MACfsL,GAAG,IACHhL,QAAS,kBAAM2G,EAAaxE,EAAKzC,MAAxB,EATX,SAWGyC,EAAK0E,SAZV,cAAmD1E,EAAK0E,OADhD,SAmBd,qBAAKgE,MAAO,CAACI,gBAAiB,UAAWxG,OAAQ,GAAIlI,UAAU,UAE5DyL,GAAOsC,QAAQxI,gBAAkBkG,GAAOuC,OAAOzI,gBAC/CkG,GAAOsC,QAAQvI,gBAAkBiG,GAAOuC,OAAOxI,iBAChD,qBAAKxF,UAAU,2CAAf,SACE,uBAAMiO,KAAK,QAAX,UACE,sBACEU,MAAM,6BACNC,QAAQ,YACRC,MAAM,KACN3G,OAAO,KACP4G,KAAK,OACLC,OAAO,UANT,UAQE,wBAAQC,GAAG,IAAIC,GAAG,IAAInL,EAAE,QACxB,sBAAM,kBAAgB,QAAQoL,EAAE,uBAChC,wBAAQF,GAAG,IAAIC,GAAG,MAAMnL,EAAE,KAAKgL,KAAK,UAAUC,OAAO,YAChD,IAZT,UAaGtD,GAAOuC,OAAOzI,sBAbjB,QAamCkG,GAAOuC,OAAOxI,oBAIrD,qBAAKxF,UAAU,SACf,cAAC,EAAD,CACEmD,MAAO8C,GACP7C,SAAU,SAACD,EAAO6E,GAChBuC,GAAWpH,GACX,IAAMgM,EAAsB,OAAdhF,EAAqB,iBAAmB,iBACtDsB,GAAOqC,gBAAgBqB,GAAO,GAC9B5D,GAAc4D,EAAOhM,GAAO,EAC7B,IAEH,qBAAKnD,UAAU,SACf,qBAAKsO,MAAO,CAACI,gBAAiB,UAAWxG,OAAQ,GAAIlI,UAAU,SAE/D,sBAAKA,UAAU,SAAf,UACE,cAAC,IAAD,CAAMA,UAAS,sCAAyCyO,GAAIoF,IAAcjJ,QAAQC,KAAlF,qBAGA,yBACE1B,KAAK,SACLnJ,UAAU,qCACVG,SAAUsI,GAAcgD,GAAO2D,aAHjC,UAKE,sBAAMpP,UAAU,kBAAhB,qBACEyI,GAAcgD,GAAO2D,eACrB,uBAAMpP,UAAU,qBAAhB,4BAEE,sBAAMA,UAAU,qEAO5B,cAAC,EAAD,CACEwI,KAAMyB,EACNxB,WAAYA,EACZC,YAAa,kBAAMwB,GAAgB,EAAtB,EACbvB,eAAgB,kBAAM6B,GAASiB,GAAOqB,OAAtB,MAIvB,EC5FcgH,GAlQwB,WACrC,MAA8BtT,oBAAS,GAAvC,mBAAOY,EAAP,KAAgBqQ,EAAhB,KACA,EAA0CjR,oBAAS,GAAnD,mBAAOkR,EAAP,KAAsBC,EAAtB,KACA,EAA4BnR,wBAAuCwC,GAAnE,mBAAO4O,EAAP,KAAeC,EAAf,KAEMC,EAAUrI,cACTpF,EAAaN,aAAe,CAACQ,KAAM,yBAAnCF,UACAuF,EAAiBC,cAAjBD,cACP,EAA6CvJ,aAC3CO,uBAAY,SAACH,EAAOC,EAAUgB,EAAUyF,GACtCsK,GAAW,GACX,IAAMM,EAAS,iDAAG,2HAEW9K,GAAmB,CAC1CpG,KAAMJ,EAAMI,KACZM,MAAOV,EAAMU,MACbsE,OAAM,UAAEhF,EAAMc,MAAMkE,cAAd,aAAwBzC,EAC9B4I,OAAM,UAAEnL,EAAMc,MAAMqK,cAAd,aAAwB5I,EAC9BmG,KAAM,WAPM,OAER6I,EAFQ,OASVtQ,KACFhB,GAAS,SAACI,GAAD,mCAAC,eACLA,GADI,IAEPM,SAAS,EACTL,YAAY,EACZyP,OAAO,EACP3P,KAAMyC,OAAM,oBAAC0O,EAAWtN,KAAKA,YAAjB,aAAC,EAAsBuN,oBAAvB,QAAuC,GACnDvN,KAAI,oBAAEsN,EAAWtN,KAAKA,YAAlB,aAAE,EAAsBoH,aAAxB,QAAiC,GACrC9K,MAAOsC,OAAM,oBAAC0O,EAAWtN,KAAKA,YAAjB,aAAC,EAAsBsH,kBAAvB,QAAqC,IAP3C,IAUXyF,GAAW,GApBG,gDAsBV/P,KACFhB,GAAS,SAACI,GAAD,mBAAC,eACLA,GADI,IAEPM,SAAS,EACToP,OAAO,EACP9L,KAAM,IAJC,IAOX+M,GAAW,GA9BG,yDAAH,qDAkCfM,GACD,GAAE,IACH,CACE3Q,SAAS,EACTL,YAAY,EACZyP,OAAO,EACP3P,KAAM,EACN6D,KAAM,GACN1D,MAAO,EACPG,MAAO,GACPI,MAAO,CAAC,IA/CLd,EAAP,EAAOA,MAAOe,EAAd,EAAcA,SAAUb,EAAxB,EAAwBA,QAASU,EAAjC,EAAiCA,SAmD3B6Q,EAAgB,CACpB,CAAC5H,MAAO,QAASnH,WAAOH,GACxB,CAACsH,MAAO,SAAUnH,MAAO,UACzB,CAACmH,MAAO,WAAYnH,MAAO,aAIvBgP,EAAW9C,EACfzO,uBACE,SAAC8J,GACCrJ,GAAS,SAACP,GAAD,mBAAC,eAAcA,GAAf,IAAqB8K,OAAQlB,GAA7B,GACV,GACD,CAACrJ,IAEH,KAII+Q,EAAe,SAACjP,GACpB,OAAIA,EAAc,sBAAMnD,UAAU,4BAAhB,oBAEX,sBAAMA,UAAU,yBAAhB,qBACR,EAEK0Q,EAAqB,SAACvN,EAA0B0C,EAAe8K,GAAwB,IAAD,UAC1F,OAAIA,GAEK,OAALxN,QAAK,IAALA,GAAA,UAAAA,EAAO0M,cAAP,mBAAenC,gCAAf,mBAAyCjJ,MAAK,SAACmB,GAAD,OAAc,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMC,QAASA,CAAzB,WAA9C,eAA8E8B,OAAQ,KAG9E,OAALxE,QAAK,IAALA,GAAA,UAAAA,EAAOuK,gCAAP,mBAAiCjJ,MAAK,SAACmB,GAAD,OAAc,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMC,QAASA,CAAzB,WAAtC,eAAsE8B,OAAQ,GACtF,EAiBD,OAfAxF,qBAAU,WACRsK,SAASzG,MAAQ0G,YAAS,qBAC3B,GAAE,IAEHvK,qBAAU,WACRxB,EAAQ,EACT,GAAE,CAACA,IAEJwB,qBAAU,WACR,IAAMkQ,EAAqBP,EAAQQ,SAAS7R,MAC5C,OAAI4R,QAAJ,IAAIA,KAAeE,SACjB3I,EAAc,CAACa,OAAQ,OAAQC,KAAI,OAAE2H,QAAF,IAAEA,OAAF,EAAEA,EAAeE,SAEvD,GAAE,CAACT,EAAQQ,WAGV,qCACE,cAAC,IAAD,CAAWE,YAAY,kCAAvB,wCAGA,sBAAKxS,UAAU,OAAf,UACGoB,GAAW,qBAAKpB,UAAU,kBAC3B,sBAAKA,UAAU,wCAAf,UACE,qBAAKA,UAAU,2BAAf,6CAECqE,EAAU,CAACM,OAAQ,YAClB,wBAAQlB,QAAS,kBAAMkO,GAAiB,EAAvB,EAA8B3R,UAAU,oBAAzD,gCAKJ,sBAAKA,UAAU,YAAf,UAEE,sBAAKA,UAAU,sCAAf,UACE,sBAAKA,UAAU,kDAAf,UACE,cAAC,IAAD,CACEiD,IAAK,oCACLjD,UAAU,6DAEZ,uBACEoO,YAAY,OACZpO,UAAU,wDACVmJ,KAAK,OACLjG,aAAa,MACbE,SAAU,SAACC,GAAD,OAAO8O,EAAS9O,EAAEE,cAAcJ,MAAhC,OAGd,sBAAKnD,UAAU,yDAAf,UACE,sBAAMA,UAAU,6BAAhB,2BACA,qBAAKA,UAAU,qCAAf,SACE,cAAC,KAAD,CACEkD,aAAa,MACb+J,WAAYvN,IACZmM,QAASqG,EACTO,aAAc,CAACtP,MAAO,GAAImH,MAAO,SACjClH,SAAU,SAACD,GAAD,OACR9B,GAAS,SAACP,GAAD,mBAAC,eACLA,GADI,IAEP2E,OAAM,OAAEtC,QAAF,IAAEA,OAAF,EAAEA,EAAOA,OAFR,GADD,YAYlB,sBAAKnD,UAAU,oBAAf,UACE,qBAAKA,UAAU,wBAAf,SACE,wBAAOA,UAAU,4CAAjB,UACE,uBAAOA,UAAU,mBAAjB,SACE,+BACE,qCACA,oBAAIsO,MAAO,CAACoE,SAAU,KAAtB,oBACA,iDACA,+CACA,6CAGJ,gCACyB,IAAtBjS,EAAMiE,KAAKlB,OACV,6BACE,oBAAImP,QAAS,EAAG3S,UAAU,cAA1B,SACGS,EAAMW,QACL,UACEX,EAAM+P,MACR,iCAEA,sBAAKxQ,UAAU,cAAf,UACE,cAAC,IAAD,CAAWiD,IAAI,sCACf,0EAMRxC,EAAMiE,KAAKhB,KAAI,SAACP,EAAOyP,GAAR,OACb,+BACE,oBAAI5S,UAAU,uBAAd,UACIS,EAAMI,KAAO,GAAKJ,EAAMU,MAAQyR,EAAQ,IAE5C,oBAAI5S,UAAU,eAAd,SACE,wBACEA,UAAU,kBACVyD,QAAS,WACPoO,EAAU1O,GACVwO,GAAiB,EAClB,EALH,SAOE,cAAC,IAAD,CAAW1O,IAAK,wCAGpB,qBAAIjD,UAAU,eAAd,UACE,uCAAU0Q,EAAmBvN,EAAO,MAAM,MAC1C,uCAAUuN,EAAmBvN,EAAO,MAAM,SAE5C,qBAAInD,UAAU,uBAAd,UACE,uCAAU0Q,EAAmBvN,EAAO,SACpC,uCAAUuN,EAAmBvN,EAAO,YAEtC,oBAAInD,UAAU,eAAd,SAA8BoS,EAA+B,YAAb,OAALjP,QAAK,IAALA,OAAA,EAAAA,EAAOsC,aAvB3CtC,EAAMgC,GADF,WAgCtB1E,EAAMiE,KAAKlB,OAAS,GAAK/C,EAAMW,QAC9B,qBACEpB,UAAU,iDACVsO,MAAO,CAACI,gBAAiB,2BAEzB,QAIN,cAACtM,EAAA,EAAD,CACEhB,QAASX,EAAMW,QACfP,KAAMJ,EAAMI,KACZM,MAAOV,EAAMU,MACbR,QAASA,EACT0B,WAAYb,EACZc,QAAS7B,EAAMO,cAIrB,cAAC,GAAD,CACEwH,KAAMkJ,EACNhJ,YAAa,WACXiJ,GAAiB,GACbC,GAAQC,OAAU7O,EACvB,EACDiN,cAAe,WACb0B,GAAiB,GACbC,GAAQC,OAAU7O,GACtB4G,EAAc,CAACa,OAAQ,OAAQC,KAAM,2BACrC/J,EAAQ,EACT,EACD+D,KAAMkN,EACNzI,KAAK,aAIZ,ECnQK4K,GAAoC,SAAC,GAAgB,IAAfnU,EAAc,EAAdA,SAC1C,OACE,sBAAKI,UAAU,YAAf,UACE,sBAAKA,UAAU,wCAAf,UACE,qBAAKA,UAAU,2BAAf,SAA2C6T,IAAcjJ,QAAQwB,QACjE,cAAC,IAAD,CAAMqC,GAAIvC,IAAW8H,0BAA0BnJ,KAAM7K,UAAU,oBAA/D,kCAIF,qBAAKA,UAAU,YAAf,SAA4BJ,MAGjC,EAkTcqU,GA1R6B,WAC1C,MAAyBvK,cAAlBvE,EAAP,EAAOA,GAAI4N,EAAX,EAAWA,WAEX,EAA6C1S,aAC3CO,uBACE,SAACoS,EAAStS,EAAUgB,EAAUyF,GAC5B,IAAM4K,EAAS,iDAAG,uHAEI1K,EAAkB,2BAE7B2L,EAAQzR,OAFoB,IAG/BV,KAAMmS,EAAQnS,KACdM,MAAO6R,EAAQ7R,MACfgI,KAAM,WAERhC,GATY,OAERyF,EAFQ,OAWVlL,KACFhB,GAAS,SAACI,GAAD,mCAAC,eACLA,GADI,IAEPM,SAAS,EACTL,YAAY,EACZyP,OAAO,EACP3P,KAAI,oBAAE+L,EAAIlI,KAAKA,YAAX,aAAE,EAAeuN,oBAAjB,QAAiC,EACrCvN,KAAI,oBAAEkI,EAAIlI,KAAKA,YAAX,aAAE,EAAeoH,aAAjB,QAA0B,GAC9B9K,MAAK,oBAAE4L,EAAIlI,KAAKA,YAAX,aAAE,EAAesH,kBAAjB,QAA+B,GAP7B,IAZG,gDAuBVtK,KACFhB,GAAS,SAACI,GAAD,mBAAC,eACLA,GADI,IAEPM,SAAS,EACTL,YAAY,EACZyP,OAAO,EACP9L,KAAM,IALC,IAxBG,yDAAH,qDAmCfqN,GACD,GACD,CAACgB,EAAY5N,IAEf,CACE/D,SAAS,EACTL,YAAY,EACZyP,OAAO,EACP3P,KAAM,EACN6D,KAAM,GACN1D,MAAO,EACPG,MAAO,GACPI,MAAO,CAAC,IAlDLd,EAAP,EAAOA,MAAOe,EAAd,EAAcA,SAAUb,EAAxB,EAAwBA,QAASU,EAAjC,EAAiCA,SAsD3B8Q,EAAW9C,EACfzO,uBACE,SAAC8J,GACCrJ,GAAS,SAACP,GAAD,mBAAC,eAAcA,GAAf,IAAqB8K,OAAQlB,GAA7B,GACV,GACD,CAACrJ,IAEH,KAGIqK,EAAgB9K,sBAAW,iDAAC,WAAO8J,EAAciB,GAArB,wHAEV1E,EAAmB,CACrCpG,KAAwB,IAAlB8K,EAAOnI,OAAe,EAAIvC,KAAKC,MAAMyK,EAAOnI,OAAS,GAAK,IAAM,EACtErC,MAAO,GACPyK,OAAQlB,EACRjF,OAAQ,SACR0D,KAAM,WAPsB,cAExBhG,EAFwB,OASxB0I,EACc,IAAlBF,EAAOnI,OAAP,CACK,CAAC,GADN,uCACaL,EAAMuB,KAAKA,YADxB,aACa,EAAiBoH,aAD9B,QACuC,KADvC,gCAES3I,EAAMuB,KAAKA,YAFpB,aAES,EAAiBoH,aAF1B,QAEmC,IAZP,kBAavB,CACLD,UACAE,QAASF,EAAQrI,OAASmI,EAAOnI,SAAxB,oBAAmCL,EAAMuB,KAAKA,YAA9C,aAAmC,EAAiBsH,kBAApD,QAAkE,KAf/C,yDAkBvB,CAACH,QAAS,GAAIE,SAAS,IAlBA,yDAAD,wDAoB9B,IAEGkH,EAAWzQ,mBACf,kBACE,CAACW,WAAOH,EAAWsH,MAAO,UAD5B,mBAEK4I,OAAOC,KAAKrO,GAAsBpB,KAAI,SAAC2J,GAAD,MAAS,CAChDlK,MAAOkK,EACP/C,MAAOxF,EAAqBuI,GAFW,KAF3C,GAOA,IAOF,OAJAlL,qBAAU,WACRxB,EAAQ,EACT,GAAE,IAGAF,EAAMW,SACNX,EAAM+P,OACN/P,EAAMc,MAAMqK,QACZnL,EAAMc,MAAM6R,aACZ3S,EAAMc,MAAMkE,QACU,IAAvBnC,OAAO7C,EAAMI,OACS,IAAtBJ,EAAMiE,KAAKlB,OAcX,eAAC,GAAD,WAEE,sBAAKxD,UAAU,yBAAf,UACE,sBAAKA,UAAU,kCAAf,UACE,cAAC,IAAD,CACEiD,IAAK,oCACLjD,UAAU,6DAEZ,uBACEoO,YAAY,OACZpO,UAAU,wDACVmJ,KAAK,OACLjG,aAAa,MACbE,SAAU,SAACC,GAAD,OAAO8O,EAAS9O,EAAEE,cAAcJ,MAAhC,OAGd,sBAAKnD,UAAU,0CAAf,UACE,sBAAMA,UAAU,gCAAhB,6BACA,qBAAKA,UAAU,8BAAf,SACE,cAAC,IAAD,CACEkD,aAAa,MACb+J,WAAYvN,IACZwN,YAAaxB,EACb+G,aAAc,CAAC,EACfrF,eAAgB,SAACC,GAAD,uBAAqBA,EAAGlI,UAAxB,QAA8B,EAA9B,EAChBmI,kBAAmB,SAACC,EAAqBC,GAAtB,OA5KL,SAC1BD,EACAC,GACI,IAAD,cACH,GAAqB,UAAjBA,EAAKC,QACP,OAAOF,EAAOpI,GAAP,oBACHoI,EAAOG,gCADJ,iBACH,EAAiCjJ,MAAK,SAACmB,GAAD,MAAyB,QAAX,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMC,KAAhB,WADnC,aACH,EAAsE8B,YADnE,QAC2E,GAC9E,QACN,IAAMgG,EAAWH,EAAKI,aAAgBJ,EAAKI,YAAoB,GAC/D,OAAKL,EAAOpI,GAEV,gCACE,qBAAKnF,UAAU,YAAf,mBACGuN,EAAOG,gCADV,iBACG,EAAiCjJ,MAAK,SAACmB,GAAD,MAAyB,QAAX,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMC,KAAhB,WADzC,aACG,EAAsE8B,OAEzE,qBAAK3H,UAAWC,YAAK,OAAQ,CAAC,iBAAuB,OAANsN,QAAM,IAANA,OAAA,EAAAA,EAAQpI,OAAR,OAAewI,QAAf,IAAeA,OAAf,EAAeA,EAAUxI,MAAxE,mBACGoI,EAAOG,gCADV,iBACG,EAAiCjJ,MAAK,SAACmB,GAAD,MAAyB,QAAX,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMC,KAAhB,WADzC,aACG,EAAsE8B,UAPtD,qBAAK3H,UAAU,YAAf,kBAWxB,CAwJ+D6N,CAAoBN,EAAQC,EAA3D,EACnBpK,SAAU,SAACD,GAAD,OACR9B,GAAS,SAACP,GAAD,mBAAC,eACLA,GADI,IAEPsS,YAAW,OAAEjQ,QAAF,IAAEA,OAAF,EAAEA,EAAOgC,IAFb,GADD,SAShB,sBAAKnF,UAAU,0CAAf,UACE,sBAAMA,UAAU,gCAAhB,2BACA,qBAAKA,UAAU,8BAAf,SACE,cAAC,KAAD,CACEkD,aAAa,MACb+J,WACEvN,IAEFmM,QAASoH,EACTR,aAAc,CAACtP,WAAOH,EAAWsH,MAAO,SACxClH,SAAU,SAACD,GAAD,OACR9B,GAAS,SAACP,GAAD,mBAAC,eACLA,GADI,IAEP2E,OAAM,OAAEtC,QAAF,IAAEA,OAAF,EAAEA,EAAOA,OAFR,GADD,YAYlB,sBAAKnD,UAAU,oBAAf,UACE,qBAAKA,UAAU,wBAAf,SACE,wBAAOA,UAAU,4CAAjB,UACE,uBAAOA,UAAU,mBAAjB,SACE,+BACE,qCACA,oBAAIsO,MAAO,CAACoE,SAAU,KAAtB,oBACA,0CACA,uCACA,6CAGJ,gCACyB,IAAtBjS,EAAMiE,KAAKlB,OACV,6BACE,oBAAImP,QAAS,EAAG3S,UAAU,cAA1B,SACGS,EAAMW,QACH,UACAX,EAAM+P,MACN,iCACA,kBAIR/P,EAAMiE,KAAKhB,KAAI,SAACP,EAAOyP,GAAR,iCACb,+BACE,oBAAI5S,UAAU,eAAd,UAA+BS,EAAMI,KAAO,GAAKJ,EAAMU,MAAQyR,EAAQ,IACvE,oBAAI5S,UAAU,eAAd,SACE,cAAC,IAAD,CACEA,UAAU,kBACVyO,GAAIvC,IAAWgI,0BAA0Bb,UAAUlQ,EAAMgC,IAF3D,SAIE,cAAC,IAAD,CAAWlC,IAAK,wCAGpB,qBAAIjD,UAAU,eAAd,UACE,sCACM,IADN,OAGImD,QAHJ,IAGIA,GAHJ,UAGIA,EAAO4C,oBAHX,iBAGI,EAAqB2H,gCAHzB,iBAGI,EAA+CjJ,MAC7C,SAACmB,GAAD,MAAyB,QAAX,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMC,KAAhB,WAJN,aAGI,EAEG8B,QAGP,sCACM,IADN,OAGIxE,QAHJ,IAGIA,GAHJ,UAGIA,EAAO4C,oBAHX,iBAGI,EAAqB2H,gCAHzB,iBAGI,EAA+CjJ,MAC7C,SAACmB,GAAD,MAAyB,QAAX,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMC,KAAhB,WAJN,aAGI,EAEG8B,WAIT,qBAAI3H,UAAU,eAAd,UACE,sCACM,IADN,OAEGmD,QAFH,IAEGA,GAFH,UAEGA,EAAOwC,8BAFV,iBAEG,EAA+BlB,MAAK,SAACmB,GAAD,MAAyB,QAAX,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMC,KAAhB,WAFvC,aAEG,EAAoEG,SAEvE,sCACM,IADN,OAEG7C,QAFH,IAEGA,GAFH,UAEGA,EAAOwC,8BAFV,iBAEG,EAA+BlB,MAAK,SAACmB,GAAD,MAAyB,QAAX,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMC,KAAhB,WAFvC,aAEG,EAAoEG,YAGzE,oBAAIhG,UAAU,eAAd,SACE,sBACEA,UAAS,0BACPiF,EAAsB9B,EAAMsC,eADrB,QACiC,oBAF5C,SAKGX,EAAqB3B,EAAMsC,cA5CzBtC,EAAMgC,GADF,WAuDtB1E,EAAMiE,KAAKlB,OAAS,GAAK/C,EAAMW,QAC9B,qBACEpB,UAAU,iDACVsO,MAAO,CAACI,gBAAiB,2BAEzB,QAIN,cAACtM,EAAA,EAAD,CACEhB,QAASX,EAAMW,QACfP,KAAMyC,OAAO7C,EAAMI,MACnBM,MAAOV,EAAMU,MACbR,QAASA,EACT0B,WAAYb,EACZc,QAAS7B,EAAMO,WAlKjB,cAAC,GAAD,UACE,sBAAKhB,UAAU,+DAAf,UACE,8BACE,cAAC,IAAD,CAAWiD,IAAI,iDAEjB,qBAAKjD,UAAU,gBAAf,kDAiKT,EC3QcmU,GAjDO,WACpB,IAAOZ,EAAY7J,cAAZ6J,IAEDlJ,EAAO7H,mBAAQ,WACnB,IAAME,EAAqB,GAS3B,OARAwQ,OAAOpG,OAAO+G,KAAeL,SAAQ,SAAC5N,GACpClD,EAAOK,KAAK,CACVwQ,IAAK3N,EAAK6N,KACVnJ,MAAO1E,EAAK2G,MACZvG,MAAOJ,EAAKwG,MACZlD,KAAMtD,EAAKiF,MAEd,IACMnI,CACR,GAAE,IAEGuJ,EAAYzJ,mBAAQ,kCAAM6H,EAAK5F,MAAK,SAAC4I,GAAD,OAAQA,EAAGkG,MAAQA,CAAnB,WAAhB,aAAM,EAAmCvN,KAAzC,GAAgD,CAACuN,EAAKlJ,IAEhF,OACE,gCACE,cAAC,IAAD,CAAWmI,YAAavG,EAAxB,SAAoCA,IACpC,oBACEjM,UAAU,2DACVsO,MAAO,CAACC,SAAU,SAAUC,UAAW,QAFzC,SAIGnE,EAAK3G,KAAI,SAACkC,GAAD,OACR,oBAAI5F,UAAU,yBAAd,SACE,cAAC,IAAD,CACEA,UAAWC,YACT,WACAsT,IAAQ3N,EAAK2N,IAAM,6DAA+D,IAEpF,iBAAe,MACf9E,GAAI7I,EAAKsD,KANX,SAQGtD,EAAK0E,SATkC1E,EAAK0E,MADzC,MAgBZ,eAAC,IAAD,WACE,cAAC,IAAD,CAAOpB,KAAM2K,IAAcH,SAAS7I,KAAM8I,UAAWG,KACrD,cAAC,IAAD,CAAO5K,KAAM2K,IAAcjJ,QAAQC,KAAM8I,UAAWM,UAI3D,ECxBcG,UA/BG,WAChB,OACE,eAAC,IAAD,WACE,cAAC,IAAD,CACElL,KAAMgD,IAAWG,yBAAyBxB,KAC1C8I,UAAWnK,EACX6K,OAAK,IAEP,cAAC,IAAD,CACEnL,KAAMgD,IAAWC,yBAAyBtB,KAC1C8I,UAAWnK,EACX6K,OAAK,IAEP,cAAC,IAAD,CAAOnL,KAAMgD,IAAWoI,UAAUzJ,KAAM8I,UAAWL,GAAce,OAAK,IACtE,cAAC,IAAD,CACEnL,KAAMgD,IAAW8H,0BAA0BnJ,KAC3C8I,UAAWC,GACXS,OAAK,IAEP,cAAC,IAAD,CACEnL,KAAMgD,IAAWgI,0BAA0BrJ,KAC3C8I,UAAWC,GACXS,OAAK,IAEP,cAAC,IAAD,CAAOnL,KAAMgD,IAAWqI,WAAW1J,KAAM8I,UAAWQ,GAAeE,OAAK,IACxE,cAAC,IAAD,CAAUG,KAAMtI,IAAWoI,UAAUG,UAAWhG,GAAI9D,IAAa+I,SAAS7I,OAC1E,cAAC,IAAD,CAAU4D,GAAI9D,IAAa+I,SAAS7I,SAGzC,C","file":"static/js/20.162debdd.chunk.js","sourcesContent":["import clsx from 'clsx'\r\nimport React from 'react'\r\nimport {components, ControlProps, GroupTypeBase, OptionTypeBase} from 'react-select'\r\n\r\nconst Control = <\r\n  OptionType extends OptionTypeBase,\r\n  IsMulti extends boolean,\r\n  GroupType extends GroupTypeBase<OptionType> = GroupTypeBase<OptionType>\r\n>({\r\n  children,\r\n  isFocused,\r\n  isDisabled,\r\n  ...rest\r\n}: ControlProps<OptionType, IsMulti, GroupType>) => (\r\n  <components.Control\r\n    className={clsx('form-control border-0 form-control-lg-select form-control-solid', {\r\n      focus: isFocused,\r\n      disabled: isDisabled,\r\n    })}\r\n    isFocused\r\n    isDisabled\r\n    {...rest}\r\n  >\r\n    {children}\r\n  </components.Control>\r\n)\r\n\r\nconst IndicatorSeparator = () => null\r\n\r\nexport interface LabelValueProps {\r\n  label?: string\r\n  value?: string\r\n}\r\n\r\nexport interface LabelValuePropsAny {\r\n  label?: string\r\n  value?: any\r\n}\r\n\r\nexport const ReactSelectMetronicTheme = {\r\n  Control,\r\n  IndicatorSeparator,\r\n}\r\n","import axios from 'axios'\r\nimport {useCallback, useEffect, useState} from 'react'\r\nimport {extractState} from '../utils/hook-utils'\r\n\r\nexport type PaginationState<T, Q> = {\r\n  loading: boolean\r\n  refreshing: boolean\r\n  error: boolean\r\n  page: number\r\n  data: T[]\r\n  limit: number\r\n  total: number\r\n  query: Q\r\n}\r\n\r\nexport function usePagination<T, Q>(\r\n  loadData: (\r\n    state: PaginationState<T, Q>,\r\n    setState: React.Dispatch<React.SetStateAction<PaginationState<T, Q>>>,\r\n    isActive: () => boolean,\r\n    token: any\r\n  ) => any,\r\n  defaultState: PaginationState<T, Q>\r\n) {\r\n  const [state, setState] = useState(defaultState)\r\n  const setPage = useCallback((page: number) => {\r\n    setState((prev) => {\r\n      if (prev.refreshing || (prev.total > 0 && !Math.ceil(prev.total / prev.limit))) return prev\r\n      return {\r\n        ...prev,\r\n        loading: true,\r\n        refreshing: false,\r\n        page,\r\n      }\r\n    })\r\n  }, [])\r\n  const setQuery = useCallback((builder: (query: Q) => Q) => {\r\n    setState((prev) => ({\r\n      ...prev,\r\n      loading: true,\r\n      refreshing: true,\r\n      page: 1,\r\n      total: 0,\r\n      query: builder(prev.query),\r\n    }))\r\n  }, [])\r\n  const setLimit = useCallback((limit: number) => {\r\n    setState((prev) => ({\r\n      ...prev,\r\n      loading: true,\r\n      refreshing: true,\r\n      page: 1,\r\n      total: 0,\r\n      limit,\r\n    }))\r\n  }, [])\r\n  const callback = useCallback(() => {\r\n    let isActive = true\r\n    const source = axios.CancelToken.source()\r\n    const runner = async () => {\r\n      const localState = await extractState(setState)\r\n      if (!localState.loading && !localState.refreshing) return\r\n      loadData(localState, setState, () => isActive, source.token)\r\n    }\r\n    runner()\r\n    return () => {\r\n      isActive = false\r\n      source.cancel()\r\n    }\r\n  }, [loadData])\r\n  useEffect(callback, [state.loading, state.refreshing])\r\n  return {\r\n    state,\r\n    setPage,\r\n    setQuery,\r\n    setLimit,\r\n    setState,\r\n  }\r\n}\r\n","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React, {FC, useMemo} from 'react'\r\nimport InlineSVG from 'react-inlinesvg/esm'\r\n\r\ntype PaginationProps = {\r\n  loading: boolean\r\n  limit: number\r\n  setPerPage: (number: number) => void\r\n  page: number\r\n  setPage: (number: number) => void\r\n  maxData: number\r\n}\r\n\r\nconst Pagination: FC<PaginationProps> = ({loading, limit, setPerPage, page, setPage, maxData}) => {\r\n  const pageNum = useMemo(() => Math.ceil(maxData / limit), [maxData, limit])\r\n  const pageList = useMemo(() => {\r\n    const result: (number | undefined)[] = []\r\n    if (pageNum === 0) return result\r\n    const normalizedPage = Math.min(pageNum, Math.max(0, page))\r\n    if (pageNum < 8)\r\n      for (let i = 1; i <= pageNum; i++) {\r\n        result.push(i)\r\n      }\r\n    else {\r\n      if (normalizedPage > 4) result.push(1, undefined, Math.min(normalizedPage, pageNum - 3) - 1)\r\n      else result.push(1, 2, 3, 4)\r\n      if (normalizedPage + 3 < pageNum) {\r\n        if (normalizedPage > 4) result.push(normalizedPage)\r\n        result.push(Math.max(normalizedPage, 4) + 1, undefined, pageNum)\r\n      } else result.push(pageNum - 3, pageNum - 2, pageNum - 1, pageNum)\r\n    }\r\n    return result\r\n  }, [pageNum, page])\r\n  return (\r\n    <div className='d-flex flex-wrap'>\r\n      <div className='mb-4 w-md-auto w-100 d-flex align-items-center'>\r\n        <div className='position-relative'>\r\n          <InlineSVG\r\n            src={'/media/icons/efood/IconChevronDown.svg'}\r\n            className='position-absolute translate-middle-y top-50 me-4 end-0 pe-none'\r\n          />\r\n          <select\r\n            className='form-control form-control-sm form-control-solid pe-13'\r\n            autoComplete='off'\r\n            value={limit}\r\n            onChange={(e) => setPerPage(Number(e.currentTarget.value))}\r\n          >\r\n            <option>10</option>\r\n            <option>20</option>\r\n            <option>50</option>\r\n            <option>100</option>\r\n          </select>\r\n        </div>\r\n        {loading || maxData === 0 ? null : (\r\n          <span className='ms-5 flex-shrink-0'>\r\n            Menampilkan {(page - 1) * limit + 1}-{Math.min(maxData, (page - 1) * limit + limit)}{' '}\r\n            dari {maxData} entri\r\n          </span>\r\n        )}\r\n      </div>\r\n      {pageList.length > 0 ? (\r\n        <ul className='pagination flex-nowrap flex-fill justify-content-md-end'>\r\n          <li className={`page-item previous ${page === 1 ? 'disabled' : ''}`}>\r\n            <button onClick={() => setPage(page - 1)} className='page-link'>\r\n              <i className='previous'></i>\r\n            </button>\r\n          </li>\r\n          {pageList.map((x, i) =>\r\n            x === undefined ? (\r\n              <li className='page-item disabled' key={`${i}-dot`}>\r\n                <button className='page-link'>...</button>\r\n              </li>\r\n            ) : (\r\n              <li className={`page-item ${page === x ? 'active' : ''}`} key={x}>\r\n                <button onClick={() => setPage(x)} className='page-link'>\r\n                  {x}\r\n                </button>\r\n              </li>\r\n            )\r\n          )}\r\n          <li className={`page-item next ${page === pageNum ? 'disabled' : ''}`}>\r\n            <button onClick={() => setPage(page + 1)} className='page-link'>\r\n              <i className='next'></i>\r\n            </button>\r\n          </li>\r\n        </ul>\r\n      ) : null}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Pagination\r\n","import React from 'react'\r\n\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport const extractState = <T>(dispatcher: React.Dispatch<React.SetStateAction<T>>) =>\r\n  new Promise((r: (value: T) => void) => {\r\n    dispatcher((value) => {\r\n      r(value)\r\n      return value\r\n    })\r\n  })\r\n","import {useCallback, useMemo} from 'react'\r\nimport {shallowEqual, useSelector} from 'react-redux'\r\nimport {RootState} from 'src/setup'\r\n\r\nexport interface PermissionQuery {\r\n  code?: string\r\n  access?: string\r\n}\r\n\r\nexport function usePermissions(pageQuery?: PermissionQuery) {\r\n  const permissions = useSelector<RootState>(\r\n    ({auth}) => auth.permissions ?? {},\r\n    shallowEqual\r\n  ) as Record<string, string[]>\r\n  const hasAccess = useCallback(\r\n    (q?: PermissionQuery) => {\r\n      const code = q?.code ?? pageQuery?.code\r\n      if (!code) return true\r\n      return Boolean(\r\n        permissions[code]?.find((data) => data === (q?.access ?? pageQuery?.access ?? 'read'))\r\n      )\r\n    },\r\n    [pageQuery?.access, pageQuery?.code, permissions]\r\n  )\r\n  const canAccessPage = useMemo(() => hasAccess(), [hasAccess])\r\n  return {hasAccess, canAccessPage}\r\n}\r\n","interface FaqLanguage {\r\n  id?: string\r\n  faq_content_id?: string\r\n  faq_category_id?: string\r\n  lang?: string\r\n  name?: string\r\n  created_at?: string\r\n  updated_at?: string\r\n}\r\n\r\nexport interface FaqCategory {\r\n  id?: string\r\n  parent_id?: string\r\n  status?: string\r\n  created_at?: string\r\n  updated_at?: string\r\n  faq_categories_languages?: FaqLanguage[]\r\n}\r\n\r\nexport enum FaqContentStatus {\r\n  ACTIVE = 'ACTIVE',\r\n  INACTIVE = 'INACTIVE',\r\n}\r\n\r\nexport const FaqContentStatusName: Record<string, string> = {\r\n  [FaqContentStatus.ACTIVE]: 'Active',\r\n  [FaqContentStatus.INACTIVE]: 'Inactive',\r\n}\r\n\r\nexport const FaqContentStatusTheme: Record<string, string> = {\r\n  [FaqContentStatus.ACTIVE]: 'badge-light-info',\r\n  [FaqContentStatus.INACTIVE]: 'badge-light-dark',\r\n}\r\n\r\ninterface FaqContentLanguage {\r\n  id?: string\r\n  faq_content_id?: string\r\n  faq_category_id?: string\r\n  lang?: string\r\n  title?: string\r\n  content?: string\r\n  created_at?: string\r\n  updated_at?: string\r\n}\r\n\r\nexport interface FaqContent {\r\n  id?: string\r\n  faq_category_id?: string\r\n  status?: string\r\n  created_at?: string\r\n  updated_at?: string\r\n  faq_category?: FaqCategory\r\n  faq_contents_languages?: FaqContentLanguage[]\r\n}\r\n\r\nexport interface FaqContentFormData {\r\n  id?: string\r\n  faq_category?: FaqCategory\r\n  faq_category_id?: string\r\n  faq_title_id?: string\r\n  faq_title_en?: string\r\n  faq_content_id?: string\r\n  faq_content_en?: string\r\n  status?: string\r\n}\r\n\r\nexport const EmptyFaqContentForm: FaqContentFormData = {\r\n  id: '',\r\n  faq_category_id: '',\r\n  faq_title_id: '',\r\n  faq_title_en: '',\r\n  faq_content_id: '',\r\n  faq_content_en: '',\r\n  status: 'ACTIVE',\r\n}\r\n\r\nexport const generateFaqContentForm = (data?: FaqContent): FaqContentFormData => {\r\n  const id = data?.faq_contents_languages?.find((item) => item?.lang === 'ID')\r\n  const en = data?.faq_contents_languages?.find((item) => item?.lang === 'EN')\r\n  return {\r\n    id: data?.id ?? '',\r\n    faq_category: data?.faq_category,\r\n    faq_category_id: data?.faq_category_id ?? '',\r\n    faq_title_id: id?.title ?? '',\r\n    faq_title_en: en?.title ?? '',\r\n    faq_content_id: id?.content ?? '',\r\n    faq_content_en: en?.content ?? '',\r\n    status: data?.status ?? 'ACTIVE',\r\n  }\r\n}\r\n","import axios from 'axios'\r\nimport {useCallback, useEffect, useMemo, useState} from 'react'\r\nimport {extractState} from '../utils/hook-utils'\r\n\r\nexport function useCancelable(func: (isActive: () => boolean, source: any) => any) {\r\n  return useCallback(() => {\r\n    const source = axios.CancelToken.source()\r\n    let isActive = true\r\n    func(() => isActive, source.token)\r\n    return () => {\r\n      isActive = false\r\n      source.cancel()\r\n    }\r\n  }, [func])\r\n}\r\n\r\nexport function useCancelableEffect(\r\n  func: (isActive: () => boolean, source: any) => any,\r\n  deps: any\r\n) {\r\n  const effectCb = useCancelable(func)\r\n  useEffect(effectCb, [...deps])\r\n}\r\n\r\nexport function useCancelableFn<T>(\r\n  callback: (props: T, isActive: () => boolean, token: any) => any\r\n) {\r\n  const [data, setData] = useState({\r\n    timestamp: 0,\r\n    props: {} as T,\r\n  })\r\n  const trigger = useMemo(() => {\r\n    return (props: T) =>\r\n      setData({\r\n        timestamp: Date.now(),\r\n        props,\r\n      })\r\n  }, [])\r\n  const effectCb = useCallback(() => {\r\n    let isActive = true\r\n    const source = axios.CancelToken.source()\r\n    const runner = async () => {\r\n      const localData = await extractState(setData)\r\n      if (localData.timestamp > 0) {\r\n        callback(localData.props, () => isActive, source.token)\r\n      }\r\n    }\r\n    runner()\r\n    return () => {\r\n      isActive = false\r\n      source.cancel()\r\n    }\r\n  }, [callback])\r\n  useEffect(effectCb, [data.timestamp])\r\n  return trigger\r\n}\r\n","import axios from 'axios'\r\nimport {BaseResponse, Pagination} from 'src/app/models/api.types'\r\nimport {appendAllRecordData} from 'src/app/utils/input-utils'\r\nimport {FaqCategory, FaqContent, FaqContentFormData} from '../models/Faq'\r\n\r\nconst FAQ_CONTENTS = 'api/v1/admins/faq/faq-contents'\r\nconst FAQ_CATEGORY = 'api/v1/admins/faq/faq-categories'\r\n\r\nexport interface FaqCategoryParams {\r\n  page?: number\r\n  limit?: number\r\n  search?: string\r\n  status?: string\r\n  parent_id?: string\r\n  is_parent?: boolean\r\n  type?: string\r\n}\r\n\r\nexport function getFaqCategoryList(params: FaqCategoryParams, cancelToken?: any) {\r\n  return axios.get<BaseResponse<Pagination<FaqCategory>>>(FAQ_CATEGORY, {\r\n    params,\r\n    cancelToken,\r\n  })\r\n}\r\n\r\nexport function getFaqCategoryDetail(id: string, cancelToken?: any) {\r\n  return axios.get<BaseResponse<FaqCategory>>(`${FAQ_CATEGORY}/${id}`, {\r\n    cancelToken,\r\n  })\r\n}\r\n\r\nexport interface FaqContentParams {\r\n  page?: number\r\n  limit?: number\r\n  search?: string\r\n  status?: string\r\n  category_id?: string\r\n  type?: string\r\n}\r\n\r\nexport function getFaqContentList(params: FaqContentParams, cancelToken?: any) {\r\n  return axios.get<BaseResponse<Pagination<FaqContent>>>(FAQ_CONTENTS, {\r\n    params,\r\n    cancelToken,\r\n  })\r\n}\r\n\r\nexport function getFaqContentDetail(id: string, cancelToken?: any) {\r\n  return axios.get<BaseResponse<FaqContent>>(`${FAQ_CONTENTS}/${id}`, {\r\n    cancelToken,\r\n  })\r\n}\r\n\r\nexport function saveFaqContent(props: FaqContentFormData, cancelToken?: any) {\r\n  const recordData: Record<string, any> = {}\r\n  appendAllRecordData(\r\n    recordData,\r\n    [\r\n      {key: 'faq_category_id', name: 'faq_category_id'},\r\n      {key: 'faq_title_id', name: 'faq_title_id'},\r\n      {key: 'faq_title_en', name: 'faq_title_en'},\r\n      {key: 'faq_content_id', name: 'faq_content_id'},\r\n      {key: 'faq_content_en', name: 'faq_content_en'},\r\n      {key: 'status', name: 'status'},\r\n    ],\r\n    props\r\n  )\r\n  if (props.id) {\r\n    return axios.put<BaseResponse<FaqContent>>(`${FAQ_CONTENTS}/${props.id}`, recordData, {\r\n      cancelToken,\r\n    })\r\n  }\r\n  return axios.post<BaseResponse<FaqContent>>(FAQ_CONTENTS, recordData, {\r\n    cancelToken,\r\n  })\r\n}\r\n","import React from 'react'\r\nimport {Editor} from '@tinymce/tinymce-react'\r\n\r\ninterface TextEditorProps {\r\n  value: string\r\n  onChange: (value: string, editor: any) => void\r\n}\r\n\r\nconst TextEditor = ({onChange, value}: TextEditorProps) => {\r\n  return (\r\n    <Editor\r\n      value={value}\r\n      onEditorChange={(value, editor) => onChange(value, editor)}\r\n      init={{\r\n        height: 500,\r\n        menubar: false,\r\n        plugins: [\r\n          'advlist autolink lists link image charmap print preview anchor',\r\n          'searchreplace visualblocks code fullscreen',\r\n          'insertdatetime media table paste code help wordcount',\r\n        ],\r\n        toolbar: `formatselect | bold italic link bullist numlist | indent outdent | image blockquote table media undo redo`,\r\n      }}\r\n      tinymceScriptSrc='/tinymce/tinymce.min.js'\r\n    />\r\n  )\r\n}\r\n\r\nexport default TextEditor\r\n","import React, {useCallback} from 'react'\r\nimport {Modal} from 'react-bootstrap-v5'\r\nimport {KTSVG} from 'src/_metronic/helpers'\r\n\r\ntype GenericSaveModalProps = {\r\n  show: boolean\r\n  processing: boolean\r\n  handleClose: () => void\r\n  handleContinue: () => void\r\n}\r\n\r\nconst GenericSaveModal: React.FC<GenericSaveModalProps> = ({\r\n  show,\r\n  processing,\r\n  handleClose,\r\n  handleContinue,\r\n}) => {\r\n  const closeFn = useCallback(() => {\r\n    if (!processing) handleClose()\r\n  }, [processing])\r\n\r\n  return (\r\n    <Modal aria-hidden='true' tabIndex='-1' show={show} onHide={closeFn} centered scrollable>\r\n      <div className='modal-header d-flex align-items-center justify-content-between'>\r\n        <h3 className='d-flex align-items-center'>Simpan Data</h3>\r\n\r\n        {/* begin::Close */}\r\n        <div className='btn btn-icon btn-sm btn-active-light-primary ms-2' onClick={closeFn}>\r\n          <KTSVG path='/media/icons/duotune/arrows/arr061.svg' className='svg-icon-2' />\r\n        </div>\r\n        {/* end::Close */}\r\n      </div>\r\n\r\n      <div className='modal-body pb-5'>\r\n        <div>Simpan perubahan data yang telah dibuat?</div>\r\n      </div>\r\n      <div className='modal-footer'>\r\n        <button\r\n          type='button'\r\n          className={`btn btn-lg btn-light fw-bolder me-4`}\r\n          disabled={processing}\r\n          onClick={closeFn}\r\n        >\r\n          Kembali\r\n        </button>{' '}\r\n        <button\r\n          onClick={processing ? undefined : handleContinue}\r\n          disabled={processing}\r\n          className={`btn btn-lg btn-secondary fw-bolder`}\r\n        >\r\n          <span className='indicator-label'>Simpan</span>\r\n        </button>\r\n      </div>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default GenericSaveModal\r\n","import React, {useCallback, useEffect, useMemo, useState} from 'react'\r\nimport {Link, useHistory, useParams} from 'react-router-dom'\r\nimport {PageTitle} from 'src/_metronic/layout/core'\r\nimport {getTitle} from 'src/app/utils/title-utils'\r\nimport {FaqEfoodTabs, FaqScreens} from '../Screens'\r\nimport {\r\n  FaqContentFormData,\r\n  EmptyFaqContentForm,\r\n  generateFaqContentForm,\r\n  FaqCategory,\r\n  FaqContentStatus,\r\n  FaqContentStatusName,\r\n} from '../models/Faq'\r\nimport {useCancelableEffect, useCancelableFn} from 'src/app/hooks/cancelable-hook'\r\nimport {useHeaderToast} from 'src/app/components/ToastComponent'\r\nimport {useFormik} from 'formik'\r\nimport * as Yup from 'yup'\r\nimport {getErrorMessage} from 'src/app/utils/api-utils'\r\nimport clsx from 'clsx'\r\nimport {saveFaqContent, getFaqContentDetail, getFaqCategoryList} from '../redux/FaqCRUD'\r\nimport {AsyncPaginate, OptionsList} from 'react-select-async-paginate'\r\nimport {FormatOptionLabelMeta, SelectComponentsConfig} from 'react-select'\r\nimport {ReactSelectMetronicTheme} from 'src/app/components/CustomReactSelect'\r\nimport TextEditor from 'src/app/components/TextEditor'\r\nimport GenericSaveModal from 'src/app/components/GenericSaveModal'\r\n\r\nconst schema = Yup.object().shape({\r\n  faq_category_id: Yup.string().required('Kolom wajib diisi'),\r\n  faq_title_id: Yup.string().required('Kolom wajib diisi'),\r\n  faq_title_en: Yup.string().required('Kolom wajib diisi'),\r\n  faq_content_id: Yup.string().required(\r\n    'Konten FAQ wajib diisi dalam Bahasa Indonesia dan English.'\r\n  ),\r\n  faq_content_en: Yup.string().required(\r\n    'Konten FAQ wajib diisi dalam Bahasa Indonesia dan English.'\r\n  ),\r\n  status: Yup.string().required('Kolom wajib diisi'),\r\n})\r\n\r\nconst formatCategoryLabel = (\r\n  option: FaqCategory,\r\n  meta: FormatOptionLabelMeta<FaqCategory, false>\r\n) => {\r\n  if (meta.context === 'value')\r\n    return option.faq_categories_languages?.find((item) => item?.lang === 'ID')?.name ?? ''\r\n  const selected = meta.selectValue && (meta.selectValue as any)[0]\r\n  return (\r\n    <div>\r\n      <div className='fw-bolder'>\r\n        {option.faq_categories_languages?.find((item) => item?.lang === 'ID')?.name}\r\n      </div>\r\n      <div className={clsx('fs-7', {'text-gray-600': option?.id !== selected?.id})}>\r\n        {option.faq_categories_languages?.find((item) => item?.lang === 'EN')?.name}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst FaqEfoodContentDetail: React.FC = () => {\r\n  // variables\r\n  const {push} = useHistory()\r\n  const {id} = useParams<any>()\r\n  const [processing, setProcessing] = useState(false)\r\n  const {addPageToasts} = useHeaderToast()\r\n\r\n  const isDetail = useMemo(() => Boolean(id), [id])\r\n  const [detailLoaded, setDetailLoaded] = useState<boolean>()\r\n  const [confirmModal, setConfirmModal] = useState(false)\r\n\r\n  const [activeTab, setActiveTab] = useState('id')\r\n  const tabs = useMemo(\r\n    () => [\r\n      {label: 'Bahasa Indonesia', value: 'id'},\r\n      {label: 'English', value: 'en'},\r\n    ],\r\n    []\r\n  )\r\n  const [content, setContent] = useState('')\r\n\r\n  const submitFn = useCancelableFn(\r\n    useCallback(\r\n      (data: FaqContentFormData, isActive, token) => {\r\n        setProcessing(true)\r\n        ;(async () => {\r\n          try {\r\n            await saveFaqContent({...data}, token)\r\n            if (isActive()) {\r\n              addPageToasts({\r\n                scheme: 'info',\r\n                text: 'Data berhasil disimpan.',\r\n              })\r\n              push(FaqEfoodTabs.CONTENT.PATH)\r\n            }\r\n          } catch (e) {\r\n            if (isActive()) {\r\n              addPageToasts({scheme: 'danger', text: getErrorMessage(e, true)})\r\n            }\r\n          }\r\n          setProcessing(false)\r\n        })()\r\n      },\r\n      [addPageToasts]\r\n    )\r\n  )\r\n\r\n  const {setValues, setFieldError, setFieldValue, ...formik} = useFormik({\r\n    initialValues: EmptyFaqContentForm,\r\n    validateOnBlur: true,\r\n    validateOnChange: false,\r\n    validationSchema: schema,\r\n    onSubmit: (data, {setSubmitting}) => {\r\n      if (data.id) setConfirmModal(true)\r\n      else submitFn(data)\r\n      setSubmitting(false)\r\n    },\r\n  })\r\n\r\n  const fetchCategory = useCallback(async (text: string, loaded: OptionsList<FaqCategory>) => {\r\n    try {\r\n      const value = await getFaqCategoryList({\r\n        page: Math.ceil(loaded.length / 10) + 1,\r\n        limit: 10,\r\n        search: text,\r\n        status: 'ACTIVE',\r\n        type: 'EFOOD',\r\n      })\r\n      const options = [...(value.data.data?.items ?? [])]\r\n      return {\r\n        options,\r\n        hasMore: options.length + loaded.length < (value.data.data?.total_item ?? 0),\r\n      }\r\n    } catch (e) {\r\n      return {options: [], hasMore: false}\r\n    }\r\n  }, [])\r\n\r\n  //start::TITLE_FUNC\r\n  const pageTitle = useMemo(\r\n    () =>\r\n      isDetail\r\n        ? FaqScreens.FAQ_EFOOD_CONTENT_DETAIL.TITLE\r\n        : FaqScreens.FAQ_EFOOD_CONTENT_CREATE.TITLE,\r\n    [isDetail]\r\n  )\r\n\r\n  const breadcrumbs = useMemo(\r\n    () => [\r\n      {\r\n        isActive: false,\r\n        path: FaqEfoodTabs.CONTENT.PATH,\r\n        title: FaqEfoodTabs.CONTENT.LABEL,\r\n      },\r\n      {isActive: false, path: '', title: '', isSeparator: true},\r\n    ],\r\n    []\r\n  )\r\n\r\n  useEffect(() => {\r\n    document.title = getTitle(pageTitle)\r\n  }, [])\r\n  //end::TITLE_FUNC\r\n\r\n  useCancelableEffect(\r\n    useCallback(() => {\r\n      if (id && detailLoaded === undefined)\r\n        getFaqContentDetail(id)\r\n          .then((res) => {\r\n            setValues(generateFaqContentForm(res.data.data))\r\n            setDetailLoaded(true)\r\n          })\r\n          .catch((e) => setDetailLoaded(false))\r\n    }, [id, detailLoaded]),\r\n    [id, detailLoaded]\r\n  )\r\n\r\n  useEffect(() => {\r\n    if (!isDetail || detailLoaded)\r\n      setContent(\r\n        (activeTab === 'id' ? formik.values.faq_content_id : formik.values.faq_content_en) ?? ''\r\n      )\r\n  }, [isDetail, detailLoaded, activeTab])\r\n\r\n  if (isDetail && !detailLoaded)\r\n    return (\r\n      <>\r\n        <PageTitle breadcrumbs={breadcrumbs}>{pageTitle}</PageTitle>\r\n\r\n        <div className='card'>\r\n          <div className='card-body'>\r\n            {detailLoaded !== false ? 'Loading...' : 'Error, try to refresh the page'}\r\n          </div>\r\n        </div>\r\n      </>\r\n    )\r\n\r\n  return (\r\n    <>\r\n      <PageTitle breadcrumbs={breadcrumbs}>{pageTitle}</PageTitle>\r\n\r\n      <div className='card'>\r\n        <form className='card-body' onSubmit={formik.handleSubmit} noValidate>\r\n          <div className='row'>\r\n            <div className='col-md-6 mb-8'>\r\n              <label className='flex-fill form-label text-gray-800'>Kategori*</label>\r\n              <AsyncPaginate\r\n                autoComplete='off'\r\n                components={ReactSelectMetronicTheme as SelectComponentsConfig<FaqCategory, false>}\r\n                value={formik.values.faq_category}\r\n                loadOptions={fetchCategory}\r\n                debounceTimeout={500}\r\n                getOptionValue={(it: FaqCategory) => it.id ?? ''}\r\n                formatOptionLabel={(option: FaqCategory, meta) => formatCategoryLabel(option, meta)}\r\n                onChange={async (value: FaqCategory) => {\r\n                  formik.setFieldTouched('faq_category_id', true)\r\n                  setFieldValue('faq_category_id', value.id, true)\r\n                  setFieldValue('faq_category', value)\r\n                }}\r\n              />\r\n              {formik.touched.faq_category_id && formik.errors.faq_category_id && (\r\n                <div className='fv-plugins-message-container text-danger'>\r\n                  <span role='alert'>{formik.errors.faq_category_id}</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className='col-12 mb-8'>\r\n              <label className='flex-fill form-label text-gray-800'>Status</label>\r\n              <div className='form-check form-switch form-check-custom form-check-solid'>\r\n                <input\r\n                  className='form-check-input'\r\n                  type='checkbox'\r\n                  checked={formik.values.status === FaqContentStatus.ACTIVE}\r\n                  onChange={(e) => {\r\n                    setFieldValue(\r\n                      'status',\r\n                      e.target.checked ? FaqContentStatus.ACTIVE : FaqContentStatus.INACTIVE\r\n                    )\r\n                  }}\r\n                />\r\n                <label className='form-check-label'>\r\n                  {FaqContentStatusName[formik.values.status ?? 'ACTIVE']}\r\n                </label>\r\n              </div>\r\n              {formik.touched.status && formik.errors.status && (\r\n                <div className='fv-plugins-message-container text-danger'>\r\n                  <span role='alert'>{formik.errors.status}</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className='col-12 mb-8'>\r\n              <label className='flex-fill form-label text-gray-800'>\r\n                Judul (Bahasa Indonesia)*\r\n              </label>\r\n              <input\r\n                placeholder=''\r\n                {...formik.getFieldProps('faq_title_id')}\r\n                className={clsx('form-control form-control-lg form-control-solid')}\r\n                type='text'\r\n                autoComplete='off'\r\n              />\r\n              {formik.touched.faq_title_id && formik.errors.faq_title_id && (\r\n                <div className='fv-plugins-message-container text-danger'>\r\n                  <span role='alert'>{formik.errors.faq_title_id}</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className='col-12 mb-8'>\r\n              <label className='flex-fill form-label text-gray-800'>Judul (English)*</label>\r\n              <input\r\n                placeholder=''\r\n                {...formik.getFieldProps('faq_title_en')}\r\n                className={clsx('form-control form-control-lg form-control-solid')}\r\n                type='text'\r\n                autoComplete='off'\r\n              />\r\n              {formik.touched.faq_title_en && formik.errors.faq_title_en && (\r\n                <div className='fv-plugins-message-container text-danger'>\r\n                  <span role='alert'>{formik.errors.faq_title_en}</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className='d-flex justify-content-between align-items-end'>\r\n            <div className='flex-fill fs-2 my-4 fw-bolder'>Konten FAQ</div>\r\n            <ul\r\n              className='nav nav-tabs nav-line-tabs mb-0 fs-6 pb-3 border-0'\r\n              style={{flexWrap: 'nowrap', overflowX: 'auto'}}\r\n            >\r\n              {tabs.map((item) => (\r\n                <li className='nav-item flex-shrink-0' key={`tab-${item.label}`}>\r\n                  <Link\r\n                    className={clsx(\r\n                      'nav-link',\r\n                      activeTab === item.value\r\n                        ? 'active fw-bold text-success border-success border-bottom-2'\r\n                        : ''\r\n                    )}\r\n                    data-bs-toggle='tab'\r\n                    to='#'\r\n                    onClick={() => setActiveTab(item.value)}\r\n                  >\r\n                    {item.label}\r\n                  </Link>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n          <div style={{backgroundColor: '#E3E6EF', height: 1}} className='mb-4' />\r\n\r\n          {((formik.touched.faq_content_id && formik.errors.faq_content_id) ||\r\n            (formik.touched.faq_content_en && formik.errors.faq_content_en)) && (\r\n            <div className='fv-plugins-message-container text-danger'>\r\n              <span role='alert'>\r\n                <svg\r\n                  xmlns='http://www.w3.org/2000/svg'\r\n                  viewBox='0 0 12 12'\r\n                  width='12'\r\n                  height='12'\r\n                  fill='none'\r\n                  stroke='#f0426c'\r\n                >\r\n                  <circle cx='6' cy='6' r='4.5' />\r\n                  <path stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z' />\r\n                  <circle cx='6' cy='8.2' r='.6' fill='#f0426c' stroke='none' />\r\n                </svg>{' '}\r\n                {formik.errors.faq_content_id ?? formik.errors.faq_content_en}\r\n              </span>\r\n            </div>\r\n          )}\r\n          <div className='pb-4' />\r\n          <TextEditor\r\n            value={content}\r\n            onChange={(value, editor) => {\r\n              setContent(value)\r\n              const field = activeTab === 'id' ? 'faq_content_id' : 'faq_content_en'\r\n              formik.setFieldTouched(field, true)\r\n              setFieldValue(field, value, true)\r\n            }}\r\n          />\r\n          <div className='pb-8' />\r\n          <div style={{backgroundColor: '#E3E6EF', height: 1}} className='mb-8' />\r\n\r\n          <div className='d-flex'>\r\n            <Link className={`btn btn-lg btn-light fw-bolder me-4`} to={FaqEfoodTabs.CONTENT.PATH}>\r\n              Kembali\r\n            </Link>\r\n            <button\r\n              type='submit'\r\n              className='btn btn-lg btn-secondary fw-bolder'\r\n              disabled={processing || formik.isSubmitting}\r\n            >\r\n              <span className='indicator-label'>Simpan</span>\r\n              {(processing || formik.isSubmitting) && (\r\n                <span className='indicator-progress'>\r\n                  Mohon Tunggu...\r\n                  <span className='spinner-border spinner-border-sm align-middle ms-2'></span>\r\n                </span>\r\n              )}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <GenericSaveModal\r\n        show={confirmModal}\r\n        processing={processing}\r\n        handleClose={() => setConfirmModal(false)}\r\n        handleContinue={() => submitFn(formik.values)}\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default FaqEfoodContentDetail\r\n","import axios from 'axios'\r\nimport {useCallback, useEffect, useMemo, useState} from 'react'\r\nimport {extractState} from '../utils/hook-utils'\r\n\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport function useDebounceEffect<T>(\r\n  callback: (props: T, isActive: () => boolean, token: any) => any,\r\n  time: number\r\n) {\r\n  const [data, setData] = useState({\r\n    timestamp: 0,\r\n    props: {} as T,\r\n  })\r\n  const trigger = useMemo(() => {\r\n    return (props: T) =>\r\n      setData({\r\n        timestamp: Date.now(),\r\n        props,\r\n      })\r\n  }, [])\r\n  const effectCb = useCallback(() => {\r\n    let isActive = true\r\n    const source = axios.CancelToken.source()\r\n    let timeout: any | undefined\r\n    const runner = async () => {\r\n      const localData = await extractState(setData)\r\n      if (localData.timestamp > 0) {\r\n        timeout = setTimeout(() => {\r\n          callback(localData.props, () => isActive, source.token)\r\n        }, time)\r\n      }\r\n    }\r\n    runner()\r\n    return () => {\r\n      isActive = false\r\n      source.cancel()\r\n      if (timeout) clearTimeout(timeout)\r\n    }\r\n  }, [callback, time])\r\n  useEffect(effectCb, [data.timestamp])\r\n  return trigger\r\n}\r\n\r\nexport function useDebounceEffectMulti<T>(callback: (props: T, token: any) => any, time: number) {\r\n  const [runner, setRunner] = useState<Record<any, {timeout: any; source: any}>>({})\r\n  const trigger = useMemo(() => {\r\n    const localRunner: typeof runner = {}\r\n    return (props: T, index: number) => {\r\n      const source = axios.CancelToken.source()\r\n      const doAction = async () => {\r\n        if (localRunner[index]) {\r\n          clearTimeout(localRunner[index].timeout)\r\n          localRunner[index].source.cancel()\r\n        }\r\n        localRunner[index] = {\r\n          source,\r\n          timeout: setTimeout(() => {\r\n            callback(props, source.token)\r\n          }, time),\r\n        }\r\n        setRunner(localRunner)\r\n      }\r\n      doAction()\r\n    }\r\n  }, [callback])\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      const task = async () => {\r\n        const localRunner = await extractState(setRunner)\r\n        Object.keys(localRunner)?.forEach((i) => {\r\n          if (localRunner[i]) {\r\n            clearTimeout(localRunner[i].timeout)\r\n            localRunner[i].source.cancel()\r\n          }\r\n        })\r\n        setRunner({})\r\n      }\r\n      task()\r\n    }\r\n  }, [callback])\r\n  return trigger\r\n}\r\n","import axios, {CancelToken} from 'axios'\r\nimport {BaseResponse, Pagination} from 'src/app/models/api.types'\r\nimport {FaqCategoryModel, FaqCreateBody} from '../models/FaqCategory'\r\n\r\nconst FAQ_CATEGORY = 'api/v1/admins/faq/faq-categories'\r\n\r\nexport interface FaqCategoryParams {\r\n  page?: number\r\n  limit?: number\r\n  search?: string\r\n  status?: string\r\n  parent_id?: string\r\n  is_parent?: boolean\r\n  type?: string\r\n}\r\n\r\nexport function getFaqCategoryList(params: FaqCategoryParams, cancelToken?: any) {\r\n  return axios.get<BaseResponse<Pagination<FaqCategoryModel>>>(FAQ_CATEGORY, {\r\n    params,\r\n    cancelToken,\r\n  })\r\n}\r\n\r\nexport function getFaqCategoryDetail(id: string, cancelToken?: any) {\r\n  return axios.get<BaseResponse<FaqCategoryModel>>(`${FAQ_CATEGORY}/${id}`, {\r\n    cancelToken,\r\n  })\r\n}\r\n\r\nexport function createFaqCategory(data: FaqCreateBody, cancelToken?: CancelToken) {\r\n  return axios.post(FAQ_CATEGORY, data, {cancelToken})\r\n}\r\n\r\nexport function updateFaqCategory(id: string, data: FaqCreateBody, cancelToken?: CancelToken) {\r\n  return axios.put(`${FAQ_CATEGORY}/${id}`, data, {cancelToken})\r\n}\r\n","import React, {HTMLProps} from 'react'\r\n\r\ninterface InputTextProps extends HTMLProps<HTMLInputElement> {\r\n  label: string\r\n  wrapperClass?: string\r\n}\r\n\r\nconst InputText = (props: InputTextProps) => {\r\n  return (\r\n    <div>\r\n      <label className='form-label'>{props.label}</label>\r\n      <input className='form-control form-control-solid' {...props} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InputText\r\n","import clsx from 'clsx'\r\nimport React from 'react'\r\n\r\ninterface CheckboxSwitchProps extends React.InputHTMLAttributes<HTMLInputElement> {\r\n  label?: string\r\n  labelClass?: string\r\n}\r\n\r\nconst CheckboxSwitch = (props: CheckboxSwitchProps) => {\r\n  return (\r\n    <div className='form-check form-switch form-check-custom form-check-solid'>\r\n      <input className='form-check-input' type='checkbox' {...props} />\r\n      {props.label && (\r\n        <label className={clsx('form-check-label', props.labelClass)}>{props.label}</label>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CheckboxSwitch\r\n","import {MouseEventHandler, useCallback, useEffect, useState} from 'react'\r\nimport {Modal} from 'react-bootstrap-v5'\r\nimport InlineSVG from 'react-inlinesvg/esm'\r\nimport {useFormik} from 'formik'\r\nimport * as Yup from 'yup'\r\nimport InputText from 'src/app/components/InputText'\r\nimport CheckboxSwitch from 'src/app/components/CheckboxSwitch'\r\nimport {LabelValueProps, ReactSelectMetronicTheme} from 'src/app/components/CustomReactSelect'\r\nimport {SelectComponentsConfig} from 'react-select'\r\nimport {getFaqCategoryList, createFaqCategory, updateFaqCategory} from '../redux/FaqCategoryCRUD'\r\nimport {FaqCategoryModel, FaqCreateBody} from '../models/FaqCategory'\r\nimport {getErrorMessage} from 'src/app/utils/api-utils'\r\nimport moment from 'moment'\r\nimport {AsyncPaginate, OptionsList} from 'react-select-async-paginate'\r\nimport {useHeaderToast} from 'src/app/components/ToastComponent'\r\n\r\nexport interface SentDataModel {\r\n  title: string\r\n  description: string\r\n}\r\n\r\ninterface ModalStoreCloseModel {\r\n  show: boolean\r\n  handleClose: MouseEventHandler<HTMLDivElement | HTMLButtonElement>\r\n  handleSuccess: () => void\r\n  data?: FaqCategoryModel\r\n  type: 'HERMES' | 'EFOOD'\r\n}\r\n\r\nconst initialValues = {\r\n  parent: null,\r\n  faq_category_id: '',\r\n  faq_category_en: '',\r\n  status: true,\r\n}\r\n\r\nconst validationSchema = Yup.object().shape({\r\n  parent: Yup.object().nullable().shape({\r\n    value: Yup.string(),\r\n    label: Yup.string(),\r\n  }),\r\n  faq_category_id: Yup.string().required('Kolom wajib diisi'),\r\n  faq_category_en: Yup.string().required('Kolom wajib diisi'),\r\n  status: Yup.bool(),\r\n})\r\n\r\nexport const FormCategoryModalComponent = ({\r\n  show,\r\n  handleClose,\r\n  handleSuccess,\r\n  data,\r\n  type,\r\n}: ModalStoreCloseModel) => {\r\n  const {addPageToasts} = useHeaderToast()\r\n  const [section, setSection] = useState<'form' | 'status' | 'update'>('form')\r\n\r\n  const formik = useFormik({\r\n    initialValues,\r\n    validationSchema,\r\n    onSubmit: (values: any, {setSubmitting, resetForm}) => {\r\n      setSubmitting(true)\r\n      const payload: FaqCreateBody = {\r\n        parent_id: values?.parent?.value ?? null,\r\n        faq_category_id: values?.faq_category_id,\r\n        faq_category_en: values?.faq_category_en,\r\n        status: values?.status ? 'ACTIVE' : 'INACTIVE',\r\n        type: type,\r\n      }\r\n      if (data) {\r\n        updateFaqCategory(data?.id!, payload)\r\n          .then(() => {\r\n            setSubmitting(false)\r\n            setSection('form')\r\n            resetForm()\r\n            handleSuccess()\r\n          })\r\n          .catch((error) => {\r\n            setSubmitting(false)\r\n            setSection('form')\r\n            addPageToasts({scheme: 'danger', text: getErrorMessage(error, true)})\r\n          })\r\n      } else {\r\n        createFaqCategory(payload)\r\n          .then(() => {\r\n            setSubmitting(false)\r\n            setSection('form')\r\n            resetForm()\r\n            handleSuccess()\r\n          })\r\n          .catch((error) => {\r\n            setSubmitting(false)\r\n            addPageToasts({scheme: 'danger', text: getErrorMessage(error, true)})\r\n          })\r\n      }\r\n    },\r\n  })\r\n\r\n  const handleCategoryName = (value?: FaqCategoryModel, lang?: string, isParent?: boolean) => {\r\n    if (isParent)\r\n      return (\r\n        value?.parent?.faq_categories_languages?.find((item) => item?.lang === lang)?.name || ''\r\n      )\r\n\r\n    return value?.faq_categories_languages?.find((item) => item?.lang === lang)?.name || ''\r\n  }\r\n\r\n  const fetchCategories = useCallback(\r\n    async (text: string, loaded: OptionsList<LabelValueProps>) => {\r\n      try {\r\n        const value = await getFaqCategoryList({\r\n          page: Math.ceil(loaded.length / 10) + 1,\r\n          limit: 10,\r\n          search: text,\r\n          type,\r\n        })\r\n\r\n        const options =\r\n          value.data.data?.items?.map((item) => ({\r\n            label: item?.faq_categories_languages?.find((item) => item?.lang === 'ID')?.name || '-',\r\n            value: item?.id!,\r\n          })) ?? []\r\n        return {\r\n          options,\r\n          hasMore: options.length + loaded.length < (value.data.data?.total_item ?? 0),\r\n        }\r\n      } catch (e) {\r\n        return {options: [], hasMore: false}\r\n      }\r\n    },\r\n    [data, type]\r\n  )\r\n\r\n  useEffect(() => {\r\n    if (show) {\r\n      if (data !== null) {\r\n        formik.setValues(\r\n          {\r\n            parent: data?.parent\r\n              ? {\r\n                  value: data?.parent?.id,\r\n                  label: handleCategoryName(data, 'ID', true),\r\n                }\r\n              : null,\r\n            faq_category_id: handleCategoryName(data, 'ID'),\r\n            faq_category_en: handleCategoryName(data, 'EN'),\r\n            status: data?.status === 'ACTIVE',\r\n          },\r\n          true\r\n        )\r\n      } else {\r\n        formik.resetForm()\r\n      }\r\n    } else {\r\n      formik.setTouched({\r\n        parent: false,\r\n        faq_category_id: false,\r\n        faq_category_en: false,\r\n        status: false,\r\n      })\r\n    }\r\n  }, [data, show])\r\n\r\n  const [updateKey, setUpdateKey] = useState('0')\r\n\r\n  useEffect(() => {\r\n    if (show) setUpdateKey(String(moment().unix()))\r\n  }, [show])\r\n\r\n  if (section === 'status' && data) {\r\n    return (\r\n      <Modal\r\n        id='kt_modal_create_app'\r\n        tabIndex={-1}\r\n        aria-hidden='true'\r\n        dialogClassName='modal-dialog-centered mw-500px h-auto'\r\n        show={show}\r\n        onHide={() => setSection('form')}\r\n      >\r\n        <div className='modal-header d-flex align-items-center justify-content-between py-3'>\r\n          <div className='fs-3 fw-bold'>Non-aktifkan Kategori FAQ</div>\r\n          <button\r\n            type='button'\r\n            onClick={() => setSection('form')}\r\n            className='btn btn-transparent px-0'\r\n          >\r\n            <InlineSVG src='/media/icons/efood/IconCloseDark.svg' />\r\n          </button>\r\n        </div>\r\n        <div className='modal-body px-10 py-10'>\r\n          <span>\r\n            Apakah Anda yakin ingin menon-aktifkan kategori{' '}\r\n            <strong>{formik.values.faq_category_id || 'ini'}</strong> ? Seluruh kategori dan konten\r\n            di kategori ini akan dinon-aktifkan dan tidak ditampilkan di{' '}\r\n            {type === 'EFOOD' ? 'eFOOD' : 'eFOOD Partner'}.\r\n          </span>\r\n        </div>\r\n        <div className='modal-footer d-flex align-items-center justify-content-end'>\r\n          <button\r\n            type='button'\r\n            className={`btn btn-lg btn-light fw-bolder me-4`}\r\n            onClick={() => setSection('form')}\r\n          >\r\n            Kembali\r\n          </button>\r\n          <button\r\n            type='button'\r\n            className='btn btn-lg btn-secondary fw-bolder'\r\n            onClick={() => {\r\n              formik.setFieldValue('status', false)\r\n              setSection('form')\r\n            }}\r\n          >\r\n            <span className='indicator-label'>Simpan</span>\r\n          </button>\r\n        </div>\r\n      </Modal>\r\n    )\r\n  }\r\n\r\n  if (section === 'update') {\r\n    return (\r\n      <Modal\r\n        id='kt_modal_create_app'\r\n        tabIndex={-1}\r\n        aria-hidden='true'\r\n        dialogClassName='modal-dialog-centered mw-500px h-auto'\r\n        show={show}\r\n        onHide={() => setSection('form')}\r\n        centered\r\n      >\r\n        <div className='modal-header pt-8 pb-5 px-10 d-flex justify-content-between border-bottom-1'>\r\n          {/* begin::Close */}\r\n          <h1>Simpan Data</h1>\r\n          <button\r\n            type='button'\r\n            onClick={() => setSection('form')}\r\n            className='btn btn-transparent px-0'\r\n          >\r\n            <InlineSVG src='/media/icons/efood/IconCloseDark.svg' />\r\n          </button>\r\n          {/* end::Close */}\r\n        </div>\r\n        <div className=''></div>\r\n        <form onSubmit={formik.handleSubmit} noValidate>\r\n          <div className='modal-body px-10 py-10'>\r\n            <span>Simpan perubahan data yang telah dibuat</span>\r\n          </div>\r\n\r\n          <div className='modal-footer'>\r\n            <div className='d-flex pb-lg-0'>\r\n              <button\r\n                type='button'\r\n                id='kt_login_password_reset_form_cancel_button'\r\n                className='btn btn-lg btn-light fw-bolder d-block me-4'\r\n                onClick={() => setSection('form')}\r\n                disabled={formik.isSubmitting}\r\n              >\r\n                Kembali\r\n              </button>\r\n              <button\r\n                type='submit'\r\n                id='kt_password_reset_submit'\r\n                className='btn btn-lg btn-secondary fw-bolder'\r\n                disabled={formik.isSubmitting}\r\n              >\r\n                <span className='indicator-label'>Simpan</span>\r\n                {formik.isSubmitting && (\r\n                  <span className='indicator-progress'>\r\n                    Mohon Tunggu...\r\n                    <span className='spinner-border spinner-border-sm align-middle ms-2'></span>\r\n                  </span>\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </Modal>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      id='kt_modal_create_app'\r\n      tabIndex={-1}\r\n      aria-hidden='true'\r\n      dialogClassName='modal-dialog-centered mw-500px h-auto'\r\n      show={show}\r\n      onHide={handleClose}\r\n    >\r\n      <div className='modal-header d-flex align-items-center justify-content-between py-3'>\r\n        <div className='fs-3 fw-bold'>\r\n          {data ? 'Detail' : 'Tambah'} Kategori FAQ {type === 'EFOOD' ? 'eFOOD' : 'eFOOD Partner'}\r\n        </div>\r\n        <button type='button' onClick={handleClose} className='btn btn-transparent px-0'>\r\n          <InlineSVG src='/media/icons/efood/IconCloseDark.svg' />\r\n        </button>\r\n      </div>\r\n      <form onSubmit={formik.handleSubmit} noValidate>\r\n        <div className='modal-body px-10 py-10'>\r\n          <div className='mb-10'>\r\n            <label className='form-label'>Parent Kategori (opsional)</label>\r\n            <AsyncPaginate\r\n              key={updateKey}\r\n              placeholder='Pilih Parent Kategori'\r\n              cacheOptions\r\n              defaultOptions\r\n              components={\r\n                ReactSelectMetronicTheme as SelectComponentsConfig<LabelValueProps, false>\r\n              }\r\n              loadOptions={fetchCategories}\r\n              debounceTimeout={500}\r\n              isClearable\r\n              isOptionDisabled={(option, options) => {\r\n                return option.value === data?.id\r\n              }}\r\n              value={formik.values.parent}\r\n              onChange={(value) => formik.setFieldValue('parent', value)}\r\n              tabIndex={'5'}\r\n            />\r\n          </div>\r\n          <div className='mb-10'>\r\n            <InputText\r\n              label='Nama Kategori (Bahasa Indonesia)*'\r\n              {...formik.getFieldProps('faq_category_id')}\r\n            />\r\n            {formik.touched.faq_category_id && formik.errors.faq_category_id && (\r\n              <div className='fv-plugins-message-container text-danger'>\r\n                <span role='alert'>{formik.errors.faq_category_id}</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className='mb-10'>\r\n            <InputText\r\n              label='Nama Kategori (English)*'\r\n              {...formik.getFieldProps('faq_category_en')}\r\n            />\r\n            {formik.touched.faq_category_en && formik.errors.faq_category_en && (\r\n              <div className='fv-plugins-message-container text-danger'>\r\n                <span role='alert'>{formik.errors.faq_category_en}</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div>\r\n            <label className='form-label'>Status</label>\r\n            <CheckboxSwitch\r\n              label={formik.values.status ? 'Active' : 'Inactive'}\r\n              labelClass='fw-bold'\r\n              checked={formik.values.status}\r\n              onChange={() => {\r\n                if (data && formik.values.status) {\r\n                  setSection('status')\r\n                } else {\r\n                  formik.setFieldValue('status', !formik.values.status)\r\n                }\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className='modal-footer d-flex align-items-center justify-content-end'>\r\n          <button\r\n            type='button'\r\n            className={`btn btn-lg btn-light fw-bolder me-4`}\r\n            disabled={formik.isSubmitting}\r\n            onClick={handleClose}\r\n          >\r\n            Kembali\r\n          </button>\r\n          {data ? (\r\n            <button\r\n              type='button'\r\n              className='btn btn-lg btn-secondary fw-bolder'\r\n              onClick={() => setSection('update')}\r\n            >\r\n              <span className='indicator-label'>Simpan</span>\r\n            </button>\r\n          ) : (\r\n            <button\r\n              type='submit'\r\n              className='btn btn-lg btn-secondary fw-bolder'\r\n              disabled={formik.isSubmitting}\r\n            >\r\n              <span className='indicator-label'>Simpan</span>\r\n              {formik.isSubmitting && (\r\n                <span className='indicator-progress'>\r\n                  Mohon Tunggu...\r\n                  <span className='spinner-border spinner-border-sm align-middle ms-2'></span>\r\n                </span>\r\n              )}\r\n            </button>\r\n          )}\r\n        </div>\r\n      </form>\r\n    </Modal>\r\n  )\r\n}\r\n","import React, {FC, useCallback, useEffect, useState} from 'react'\r\nimport InlineSVG from 'react-inlinesvg/esm'\r\nimport Pagination from 'src/app/components/Pagination'\r\nimport {useDebounceEffect} from 'src/app/hooks/debounce-hook'\r\nimport {usePagination} from 'src/app/hooks/pagination-hook'\r\nimport {getTitle} from 'src/app/utils/title-utils'\r\nimport {PageTitle} from '../../../../_metronic/layout/core'\r\nimport {useHistory} from 'react-router-dom'\r\nimport Select from 'react-select'\r\nimport {ReactSelectMetronicTheme} from 'src/app/components/CustomReactSelect'\r\nimport {SelectComponentsConfig} from 'react-select'\r\nimport {useHeaderToast} from 'src/app/components/ToastComponent'\r\nimport {usePermissions} from 'src/app/hooks/permissions-hook'\r\nimport {getFaqCategoryList, FaqCategoryParams} from '../redux/FaqCategoryCRUD'\r\nimport {FaqCategory} from '../models/Faq'\r\nimport {FaqCategoryModel} from '../models/FaqCategory'\r\nimport {FormCategoryModalComponent} from './FormCategoryModalComponent'\r\n\r\nconst FaqEfoodCategoryComponent: FC = () => {\r\n  const [loading, setLoading] = useState(false)\r\n  const [showFormModal, setShowFormModal] = useState(false)\r\n  const [detail, setDetail] = useState<FaqCategoryModel | undefined>(undefined)\r\n\r\n  const history = useHistory()\r\n  const {hasAccess} = usePermissions({code: 'setting_profil_store'})\r\n  const {addPageToasts} = useHeaderToast()\r\n  const {state, setLimit, setPage, setQuery} = usePagination<FaqCategoryModel, FaqCategoryParams>(\r\n    useCallback((state, setState, isActive, cancelToken) => {\r\n      setLoading(true)\r\n      const fetchCall = async () => {\r\n        try {\r\n          const categories = await getFaqCategoryList({\r\n            page: state.page,\r\n            limit: state.limit,\r\n            status: state.query.status ?? undefined,\r\n            search: state.query.search ?? undefined,\r\n            type: 'EFOOD',\r\n          })\r\n          if (isActive()) {\r\n            setState((prev) => ({\r\n              ...prev,\r\n              loading: false,\r\n              refreshing: false,\r\n              error: false,\r\n              page: Number(categories.data.data?.current_page ?? 1),\r\n              data: categories.data.data?.items ?? [],\r\n              total: Number(categories.data.data?.total_item ?? 0),\r\n            }))\r\n          }\r\n          setLoading(false)\r\n        } catch (e) {\r\n          if (isActive()) {\r\n            setState((prev) => ({\r\n              ...prev,\r\n              loading: false,\r\n              error: true,\r\n              data: [],\r\n            }))\r\n          }\r\n          setLoading(false)\r\n        }\r\n      }\r\n\r\n      fetchCall()\r\n    }, []),\r\n    {\r\n      loading: false,\r\n      refreshing: false,\r\n      error: false,\r\n      page: 0,\r\n      data: [] as FaqCategory[],\r\n      total: 0,\r\n      limit: 10,\r\n      query: {},\r\n    }\r\n  )\r\n\r\n  const statusOptions = [\r\n    {label: 'Semua', value: undefined},\r\n    {label: 'Active', value: 'ACTIVE'},\r\n    {label: 'Inactive', value: 'INACTIVE'},\r\n  ]\r\n\r\n  //start::FILTER_QUERIES\r\n  const searchFn = useDebounceEffect(\r\n    useCallback(\r\n      (text: string) => {\r\n        setQuery((prev) => ({...prev, search: text}))\r\n      },\r\n      [setQuery]\r\n    ),\r\n    500\r\n  )\r\n  //end::FILTER_QUERIES\r\n\r\n  const handleStatus = (value?: boolean) => {\r\n    if (value) return <span className='badge badge-light-success'>Active</span>\r\n\r\n    return <span className='badge badge-light-dark'>Inactive</span>\r\n  }\r\n\r\n  const handleCategoryName = (value?: FaqCategoryModel, lang?: string, isParent?: boolean) => {\r\n    if (isParent)\r\n      return (\r\n        value?.parent?.faq_categories_languages?.find((item) => item?.lang === lang)?.name || '-'\r\n      )\r\n\r\n    return value?.faq_categories_languages?.find((item) => item?.lang === lang)?.name || '-'\r\n  }\r\n\r\n  useEffect(() => {\r\n    document.title = getTitle('Kategori FAQ eFOOD')\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    setPage(1)\r\n  }, [setPage])\r\n\r\n  useEffect(() => {\r\n    const locationState: any = history.location.state as any\r\n    if (locationState?.message) {\r\n      addPageToasts({scheme: 'info', text: locationState?.message})\r\n    }\r\n  }, [history.location])\r\n\r\n  return (\r\n    <>\r\n      <PageTitle description='List Kategori FAQ eFOOD'>Kategori FAQ eFOOD</PageTitle>\r\n      <div className='card'>\r\n        {loading && <div className='overlay-light'></div>}\r\n        <div className='card-header d-flex align-items-center'>\r\n          <div className='flex-fill fs-2 fw-bolder'>List Kategori FAQ eFOOD</div>\r\n\r\n          {hasAccess({access: 'create'}) && (\r\n            <button onClick={() => setShowFormModal(true)} className='btn btn-secondary'>\r\n              Tambah Kategori\r\n            </button>\r\n          )}\r\n        </div>\r\n        <div className='card-body'>\r\n          {/* begin::Search */}\r\n          <div className='d-flex flex-wrap align-items-center'>\r\n            <div className='mb-4 w-lg-300px me-lg-4 w-100 position-relative'>\r\n              <InlineSVG\r\n                src={'/media/icons/efood/IconSearch.svg'}\r\n                className='position-absolute translate-middle-y top-50 ms-4 pe-none'\r\n              />\r\n              <input\r\n                placeholder='Cari'\r\n                className='form-control form-control-lg form-control-solid ps-13'\r\n                type='text'\r\n                autoComplete='off'\r\n                onChange={(e) => searchFn(e.currentTarget.value)}\r\n              />\r\n            </div>\r\n            <div className='mb-4 w-lg-auto me-lg-4 w-100 d-flex align-items-center'>\r\n              <span className='me-5 flex-shrink-0 fw-bold'>Filter Status</span>\r\n              <div className='position-relative w-lg-200px w-100'>\r\n                <Select\r\n                  autoComplete='off'\r\n                  components={ReactSelectMetronicTheme as SelectComponentsConfig<any, false>}\r\n                  options={statusOptions}\r\n                  defaultValue={{value: '', label: 'Semua'}}\r\n                  onChange={(value) =>\r\n                    setQuery((prev) => ({\r\n                      ...prev,\r\n                      status: value?.value,\r\n                    }))\r\n                  }\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {/* end::Search */}\r\n          {/* begin::Table */}\r\n          <div className='position-relative'>\r\n            <div className='table-responsive my-8'>\r\n              <table className='table table-striped table-hover gx-4 gy-4'>\r\n                <thead className='text-gray fw-700'>\r\n                  <tr>\r\n                    <th>No.</th>\r\n                    <th style={{minWidth: 100}}>Action</th>\r\n                    <th>Parent Kategori</th>\r\n                    <th>Nama Kategori</th>\r\n                    <th>Status</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {state.data.length === 0 ? (\r\n                    <tr>\r\n                      <td colSpan={7} className='text-center'>\r\n                        {state.loading ? (\r\n                          'Loading'\r\n                        ) : state.error ? (\r\n                          'Error, try to refresh the page'\r\n                        ) : (\r\n                          <div className='text-center'>\r\n                            <InlineSVG src='/media/icons/efood/IconFolder.svg' />\r\n                            <p>Belum ada kategori FAQ yang dibuat</p>\r\n                          </div>\r\n                        )}\r\n                      </td>\r\n                    </tr>\r\n                  ) : (\r\n                    state.data.map((value, index) => (\r\n                      <tr key={value.id}>\r\n                        <td className='align-middle fw-bold'>\r\n                          {(state.page - 1) * state.limit + index + 1}\r\n                        </td>\r\n                        <td className='align-middle'>\r\n                          <button\r\n                            className='btn-transparent'\r\n                            onClick={() => {\r\n                              setDetail(value)\r\n                              setShowFormModal(true)\r\n                            }}\r\n                          >\r\n                            <InlineSVG src={'/media/icons/efood/IconEdit.svg'} />\r\n                          </button>\r\n                        </td>\r\n                        <td className='align-middle'>\r\n                          <div>ID: {handleCategoryName(value, 'ID', true)}</div>\r\n                          <div>EN: {handleCategoryName(value, 'EN', true)}</div>\r\n                        </td>\r\n                        <td className='align-middle fw-bold'>\r\n                          <div>ID: {handleCategoryName(value, 'ID')}</div>\r\n                          <div>EN: {handleCategoryName(value, 'EN')}</div>\r\n                        </td>\r\n                        <td className='align-middle'>{handleStatus(value?.status === 'ACTIVE')}</td>\r\n                      </tr>\r\n                    ))\r\n                  )}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            {/* start::Loader */}\r\n            {state.data.length > 0 && state.loading ? (\r\n              <div\r\n                className='position-absolute top-0 start-0 end-0 bottom-0'\r\n                style={{backgroundColor: 'rgba(255,255,255,0.7)'}}\r\n              />\r\n            ) : null}\r\n            {/* end::Loader */}\r\n          </div>\r\n          {/* end::Table */}\r\n          <Pagination\r\n            loading={state.loading}\r\n            page={state.page}\r\n            limit={state.limit}\r\n            setPage={setPage}\r\n            setPerPage={setLimit}\r\n            maxData={state.total}\r\n          />\r\n        </div>\r\n      </div>\r\n      <FormCategoryModalComponent\r\n        show={showFormModal}\r\n        handleClose={() => {\r\n          setShowFormModal(false)\r\n          if (detail) setDetail(undefined)\r\n        }}\r\n        handleSuccess={() => {\r\n          setShowFormModal(false)\r\n          if (detail) setDetail(undefined)\r\n          addPageToasts({scheme: 'info', text: 'Data berhasil disimpan'})\r\n          setPage(1)\r\n        }}\r\n        data={detail}\r\n        type='EFOOD'\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default FaqEfoodCategoryComponent\r\n","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport clsx from 'clsx'\r\nimport React, {useCallback, useEffect, useMemo} from 'react'\r\nimport InlineSVG from 'react-inlinesvg/esm'\r\nimport {Link, useParams} from 'react-router-dom'\r\nimport Select, {FormatOptionLabelMeta, SelectComponentsConfig} from 'react-select'\r\nimport {AsyncPaginate, OptionsList} from 'react-select-async-paginate'\r\nimport {LabelValueProps, ReactSelectMetronicTheme} from 'src/app/components/CustomReactSelect'\r\nimport Pagination from 'src/app/components/Pagination'\r\nimport {useDebounceEffect} from 'src/app/hooks/debounce-hook'\r\nimport {usePagination} from 'src/app/hooks/pagination-hook'\r\nimport {FaqCategory, FaqContent, FaqContentStatusName, FaqContentStatusTheme} from '../models/Faq'\r\nimport {FaqContentParams, getFaqCategoryList, getFaqContentList} from '../redux/FaqCRUD'\r\nimport {FaqEfoodTabs, FaqScreens} from '../Screens'\r\n\r\nconst FaqEfoodContentWrapper: React.FC = ({children}) => {\r\n  return (\r\n    <div className='card mb-6'>\r\n      <div className='card-header d-flex align-items-center'>\r\n        <div className='flex-fill fs-2 fw-bolder'>{FaqEfoodTabs.CONTENT.TITLE}</div>\r\n        <Link to={FaqScreens.FAQ_EFOOD_CONTENT_CREATE.PATH} className='btn btn-secondary'>\r\n          Tambah Konten FAQ\r\n        </Link>\r\n      </div>\r\n      <div className='card-body'>{children}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst formatCategoryLabel = (\r\n  option: FaqCategory,\r\n  meta: FormatOptionLabelMeta<FaqCategory, false>\r\n) => {\r\n  if (meta.context === 'value')\r\n    return option.id\r\n      ? option.faq_categories_languages?.find((item) => item?.lang === 'ID')?.name ?? ''\r\n      : 'Semua'\r\n  const selected = meta.selectValue && (meta.selectValue as any)[0]\r\n  if (!option.id) return <div className='fw-bolder'>Semua</div>\r\n  return (\r\n    <div>\r\n      <div className='fw-bolder'>\r\n        {option.faq_categories_languages?.find((item) => item?.lang === 'ID')?.name}\r\n      </div>\r\n      <div className={clsx('fs-7', {'text-gray-600': option?.id !== selected?.id})}>\r\n        {option.faq_categories_languages?.find((item) => item?.lang === 'EN')?.name}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst FaqEfoodContentComponent: React.FC = () => {\r\n  const {id, merchantId} = useParams<any>()\r\n\r\n  const {state, setLimit, setPage, setQuery} = usePagination<FaqContent, FaqContentParams>(\r\n    useCallback(\r\n      (inState, setState, isActive, cancelToken) => {\r\n        const fetchCall = async () => {\r\n          try {\r\n            const res = await getFaqContentList(\r\n              {\r\n                ...inState.query,\r\n                page: inState.page,\r\n                limit: inState.limit,\r\n                type: 'EFOOD',\r\n              },\r\n              cancelToken\r\n            )\r\n            if (isActive()) {\r\n              setState((prev) => ({\r\n                ...prev,\r\n                loading: false,\r\n                refreshing: false,\r\n                error: false,\r\n                page: res.data.data?.current_page ?? 1,\r\n                data: res.data.data?.items ?? [],\r\n                total: res.data.data?.total_item ?? 0,\r\n              }))\r\n            }\r\n          } catch (e) {\r\n            if (isActive()) {\r\n              setState((prev) => ({\r\n                ...prev,\r\n                loading: false,\r\n                refreshing: false,\r\n                error: true,\r\n                data: [],\r\n              }))\r\n            }\r\n          }\r\n        }\r\n\r\n        fetchCall()\r\n      },\r\n      [merchantId, id]\r\n    ),\r\n    {\r\n      loading: false,\r\n      refreshing: false,\r\n      error: false,\r\n      page: 0,\r\n      data: [] as FaqContent[],\r\n      total: 0,\r\n      limit: 10,\r\n      query: {},\r\n    }\r\n  )\r\n\r\n  const searchFn = useDebounceEffect(\r\n    useCallback(\r\n      (text: string) => {\r\n        setQuery((prev) => ({...prev, search: text}))\r\n      },\r\n      [setQuery]\r\n    ),\r\n    500\r\n  )\r\n\r\n  const fetchCategory = useCallback(async (text: string, loaded: OptionsList<FaqCategory>) => {\r\n    try {\r\n      const value = await getFaqCategoryList({\r\n        page: loaded.length === 0 ? 1 : Math.ceil((loaded.length - 1) / 10) + 1,\r\n        limit: 10,\r\n        search: text,\r\n        status: 'ACTIVE',\r\n        type: 'EFOOD',\r\n      })\r\n      const options =\r\n        loaded.length === 0\r\n          ? [{}, ...(value.data.data?.items ?? [])]\r\n          : [...(value.data.data?.items ?? [])]\r\n      return {\r\n        options,\r\n        hasMore: options.length + loaded.length <= (value.data.data?.total_item ?? 0),\r\n      }\r\n    } catch (e) {\r\n      return {options: [], hasMore: false}\r\n    }\r\n  }, [])\r\n\r\n  const statuses = useMemo(\r\n    () => [\r\n      {value: undefined, label: 'Semua'},\r\n      ...Object.keys(FaqContentStatusName).map((it) => ({\r\n        value: it,\r\n        label: FaqContentStatusName[it],\r\n      })),\r\n    ],\r\n    []\r\n  )\r\n\r\n  useEffect(() => {\r\n    setPage(1)\r\n  }, [])\r\n\r\n  if (\r\n    !state.loading &&\r\n    !state.error &&\r\n    !state.query.search &&\r\n    !state.query.category_id &&\r\n    !state.query.status &&\r\n    Number(state.page) === 1 &&\r\n    state.data.length === 0\r\n  )\r\n    return (\r\n      <FaqEfoodContentWrapper>\r\n        <div className='d-flex flex-column align-items-center justify-content-center'>\r\n          <div>\r\n            <InlineSVG src='/media/icons/efood/IconFaqContentEmpty.svg' />\r\n          </div>\r\n          <div className='text-gray-600'>Belum ada konten FAQ yang dibuat</div>\r\n        </div>\r\n      </FaqEfoodContentWrapper>\r\n    )\r\n\r\n  return (\r\n    <FaqEfoodContentWrapper>\r\n      {/* begin::Search */}\r\n      <div className='row align-items-center'>\r\n        <div className='mb-4 col-md-4 position-relative'>\r\n          <InlineSVG\r\n            src={'/media/icons/efood/IconSearch.svg'}\r\n            className='position-absolute translate-middle-y top-50 ms-4 pe-none'\r\n          />\r\n          <input\r\n            placeholder='Cari'\r\n            className='form-control form-control-lg form-control-solid ps-13'\r\n            type='text'\r\n            autoComplete='off'\r\n            onChange={(e) => searchFn(e.currentTarget.value)}\r\n          />\r\n        </div>\r\n        <div className='mb-4 col-md-4 d-flex align-items-center'>\r\n          <span className='me-5 w-auto w-md-80px fw-bold'>Filter Kategori</span>\r\n          <div className='position-relative flex-fill'>\r\n            <AsyncPaginate\r\n              autoComplete='off'\r\n              components={ReactSelectMetronicTheme as SelectComponentsConfig<FaqCategory, false>}\r\n              loadOptions={fetchCategory}\r\n              defaultValue={{}}\r\n              getOptionValue={(it: FaqCategory) => it.id ?? ''}\r\n              formatOptionLabel={(option: FaqCategory, meta) => formatCategoryLabel(option, meta)}\r\n              onChange={(value: FaqCategory) =>\r\n                setQuery((prev) => ({\r\n                  ...prev,\r\n                  category_id: value?.id,\r\n                }))\r\n              }\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className='mb-4 col-md-4 d-flex align-items-center'>\r\n          <span className='me-5 w-auto w-md-80px fw-bold'>Filter Status</span>\r\n          <div className='position-relative flex-fill'>\r\n            <Select\r\n              autoComplete='off'\r\n              components={\r\n                ReactSelectMetronicTheme as SelectComponentsConfig<LabelValueProps, false>\r\n              }\r\n              options={statuses}\r\n              defaultValue={{value: undefined, label: 'Semua'}}\r\n              onChange={(value) =>\r\n                setQuery((prev) => ({\r\n                  ...prev,\r\n                  status: value?.value,\r\n                }))\r\n              }\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* end::Search */}\r\n      {/* begin::Table */}\r\n      <div className='position-relative'>\r\n        <div className='table-responsive my-8'>\r\n          <table className='table table-striped table-hover gx-4 gy-4'>\r\n            <thead className='text-gray fw-700'>\r\n              <tr>\r\n                <th>No.</th>\r\n                <th style={{minWidth: 100}}>Action</th>\r\n                <th>Kategori</th>\r\n                <th>Judul</th>\r\n                <th>Status</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {state.data.length === 0 ? (\r\n                <tr>\r\n                  <td colSpan={5} className='text-center'>\r\n                    {state.loading\r\n                      ? 'Loading'\r\n                      : state.error\r\n                      ? 'Error, try to refresh the page'\r\n                      : 'Data Kosong'}\r\n                  </td>\r\n                </tr>\r\n              ) : (\r\n                state.data.map((value, index) => (\r\n                  <tr key={value.id}>\r\n                    <td className='align-middle'>{(state.page - 1) * state.limit + index + 1}</td>\r\n                    <td className='align-middle'>\r\n                      <Link\r\n                        className='btn-transparent'\r\n                        to={FaqScreens.FAQ_EFOOD_CONTENT_DETAIL.buildPath(value.id)}\r\n                      >\r\n                        <InlineSVG src={'/media/icons/efood/IconEdit.svg'} />\r\n                      </Link>\r\n                    </td>\r\n                    <td className='align-middle'>\r\n                      <div>\r\n                        ID:{' '}\r\n                        {\r\n                          value?.faq_category?.faq_categories_languages?.find(\r\n                            (item) => item?.lang === 'ID'\r\n                          )?.name\r\n                        }\r\n                      </div>\r\n                      <div>\r\n                        EN:{' '}\r\n                        {\r\n                          value?.faq_category?.faq_categories_languages?.find(\r\n                            (item) => item?.lang === 'EN'\r\n                          )?.name\r\n                        }\r\n                      </div>\r\n                    </td>\r\n                    <td className='align-middle'>\r\n                      <div>\r\n                        ID:{' '}\r\n                        {value?.faq_contents_languages?.find((item) => item?.lang === 'ID')?.title}\r\n                      </div>\r\n                      <div>\r\n                        EN:{' '}\r\n                        {value?.faq_contents_languages?.find((item) => item?.lang === 'EN')?.title}\r\n                      </div>\r\n                    </td>\r\n                    <td className='align-middle'>\r\n                      <span\r\n                        className={`badge ${\r\n                          FaqContentStatusTheme[value.status!] ?? 'badge-light-dark'\r\n                        }`}\r\n                      >\r\n                        {FaqContentStatusName[value.status!]}\r\n                      </span>\r\n                    </td>\r\n                  </tr>\r\n                ))\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        {/* start::Loader */}\r\n        {state.data.length > 0 && state.loading ? (\r\n          <div\r\n            className='position-absolute top-0 start-0 end-0 bottom-0'\r\n            style={{backgroundColor: 'rgba(255,255,255,0.7)'}}\r\n          />\r\n        ) : null}\r\n        {/* end::Loader */}\r\n      </div>\r\n      {/* end::Table */}\r\n      <Pagination\r\n        loading={state.loading}\r\n        page={Number(state.page)}\r\n        limit={state.limit}\r\n        setPage={setPage}\r\n        setPerPage={setLimit}\r\n        maxData={state.total}\r\n      />\r\n    </FaqEfoodContentWrapper>\r\n  )\r\n}\r\n\r\nexport default FaqEfoodContentComponent\r\n","import clsx from 'clsx'\r\nimport React, {useMemo} from 'react'\r\nimport {Link, Route, Switch, useParams} from 'react-router-dom'\r\nimport {PageTitle} from 'src/_metronic/layout/core'\r\nimport FaqEfoodCategoryComponent from '../components/FaqEfoodCategoryComponent'\r\nimport FaqEfoodContentComponent from '../components/FaqEfoodContentComponent'\r\nimport {FaqEfoodTabs} from '../Screens'\r\n\r\ninterface TabModel {\r\n  tab: string\r\n  label: string\r\n  title: string\r\n  path: string\r\n}\r\n\r\nconst FaqEfoodPage = () => {\r\n  const {tab}: any = useParams()\r\n\r\n  const tabs = useMemo(() => {\r\n    const result: TabModel[] = []\r\n    Object.values(FaqEfoodTabs).forEach((item) => {\r\n      result.push({\r\n        tab: item.SLUG,\r\n        label: item.LABEL,\r\n        title: item.TITLE,\r\n        path: item.PATH,\r\n      })\r\n    })\r\n    return result\r\n  }, [])\r\n\r\n  const pageTitle = useMemo(() => tabs.find((it) => it.tab === tab)?.title, [tab, tabs])\r\n\r\n  return (\r\n    <div>\r\n      <PageTitle description={pageTitle}>{pageTitle}</PageTitle>\r\n      <ul\r\n        className='nav nav-tabs nav-line-tabs mb-5 fs-6 pb-3 border-0 mb-10'\r\n        style={{flexWrap: 'nowrap', overflowX: 'auto'}}\r\n      >\r\n        {tabs.map((item: TabModel) => (\r\n          <li className='nav-item flex-shrink-0' key={item.label}>\r\n            <Link\r\n              className={clsx(\r\n                'nav-link',\r\n                tab === item.tab ? 'active fw-bold text-success border-success border-bottom-2' : ''\r\n              )}\r\n              data-bs-toggle='tab'\r\n              to={item.path}\r\n            >\r\n              {item.label}\r\n            </Link>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n\r\n      <Switch>\r\n        <Route path={FaqEfoodTabs.CATEGORY.PATH} component={FaqEfoodCategoryComponent} />\r\n        <Route path={FaqEfoodTabs.CONTENT.PATH} component={FaqEfoodContentComponent} />\r\n      </Switch>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FaqEfoodPage\r\n","import React, {useCallback, useEffect, useMemo, useState} from 'react'\r\nimport {Link, useHistory, useParams} from 'react-router-dom'\r\nimport {PageTitle} from 'src/_metronic/layout/core'\r\nimport {getTitle} from 'src/app/utils/title-utils'\r\nimport {FaqHermesTabs, FaqScreens} from '../Screens'\r\nimport {\r\n  FaqContentFormData,\r\n  EmptyFaqContentForm,\r\n  generateFaqContentForm,\r\n  FaqCategory,\r\n  FaqContentStatus,\r\n  FaqContentStatusName,\r\n} from '../models/Faq'\r\nimport {useCancelableEffect, useCancelableFn} from 'src/app/hooks/cancelable-hook'\r\nimport {useHeaderToast} from 'src/app/components/ToastComponent'\r\nimport {useFormik} from 'formik'\r\nimport * as Yup from 'yup'\r\nimport {getErrorMessage} from 'src/app/utils/api-utils'\r\nimport clsx from 'clsx'\r\nimport {saveFaqContent, getFaqContentDetail, getFaqCategoryList} from '../redux/FaqCRUD'\r\nimport {AsyncPaginate, OptionsList} from 'react-select-async-paginate'\r\nimport {FormatOptionLabelMeta, SelectComponentsConfig} from 'react-select'\r\nimport {ReactSelectMetronicTheme} from 'src/app/components/CustomReactSelect'\r\nimport TextEditor from 'src/app/components/TextEditor'\r\nimport GenericSaveModal from 'src/app/components/GenericSaveModal'\r\n\r\nconst schema = Yup.object().shape({\r\n  faq_category_id: Yup.string().required('Kolom wajib diisi'),\r\n  faq_title_id: Yup.string().required('Kolom wajib diisi'),\r\n  faq_title_en: Yup.string().required('Kolom wajib diisi'),\r\n  faq_content_id: Yup.string().required(\r\n    'Konten FAQ wajib diisi dalam Bahasa Indonesia dan English.'\r\n  ),\r\n  faq_content_en: Yup.string().required(\r\n    'Konten FAQ wajib diisi dalam Bahasa Indonesia dan English.'\r\n  ),\r\n  status: Yup.string().required('Kolom wajib diisi'),\r\n})\r\n\r\nconst formatCategoryLabel = (\r\n  option: FaqCategory,\r\n  meta: FormatOptionLabelMeta<FaqCategory, false>\r\n) => {\r\n  if (meta.context === 'value')\r\n    return option.faq_categories_languages?.find((item) => item?.lang === 'ID')?.name ?? ''\r\n  const selected = meta.selectValue && (meta.selectValue as any)[0]\r\n  return (\r\n    <div>\r\n      <div className='fw-bolder'>\r\n        {option.faq_categories_languages?.find((item) => item?.lang === 'ID')?.name}\r\n      </div>\r\n      <div className={clsx('fs-7', {'text-gray-600': option?.id !== selected?.id})}>\r\n        {option.faq_categories_languages?.find((item) => item?.lang === 'EN')?.name}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst FaqHermesContentDetail: React.FC = () => {\r\n  // variables\r\n  const {push} = useHistory()\r\n  const {id} = useParams<any>()\r\n  const [processing, setProcessing] = useState(false)\r\n  const {addPageToasts} = useHeaderToast()\r\n\r\n  const isDetail = useMemo(() => Boolean(id), [id])\r\n  const [detailLoaded, setDetailLoaded] = useState<boolean>()\r\n  const [confirmModal, setConfirmModal] = useState(false)\r\n\r\n  const [activeTab, setActiveTab] = useState('id')\r\n  const tabs = useMemo(\r\n    () => [\r\n      {label: 'Bahasa Indonesia', value: 'id'},\r\n      {label: 'English', value: 'en'},\r\n    ],\r\n    []\r\n  )\r\n  const [content, setContent] = useState('')\r\n\r\n  const submitFn = useCancelableFn(\r\n    useCallback(\r\n      (data: FaqContentFormData, isActive, token) => {\r\n        setProcessing(true)\r\n        ;(async () => {\r\n          try {\r\n            await saveFaqContent({...data}, token)\r\n            if (isActive()) {\r\n              addPageToasts({\r\n                scheme: 'info',\r\n                text: 'Data berhasil disimpan.',\r\n              })\r\n              push(FaqHermesTabs.CONTENT.PATH)\r\n            }\r\n          } catch (e) {\r\n            if (isActive()) {\r\n              addPageToasts({scheme: 'danger', text: getErrorMessage(e, true)})\r\n            }\r\n          }\r\n          setProcessing(false)\r\n        })()\r\n      },\r\n      [addPageToasts]\r\n    )\r\n  )\r\n\r\n  const {setValues, setFieldError, setFieldValue, ...formik} = useFormik({\r\n    initialValues: EmptyFaqContentForm,\r\n    validateOnBlur: true,\r\n    validateOnChange: false,\r\n    validationSchema: schema,\r\n    onSubmit: (data, {setSubmitting}) => {\r\n      if (data.id) setConfirmModal(true)\r\n      else submitFn(data)\r\n      setSubmitting(false)\r\n    },\r\n  })\r\n\r\n  const fetchCategory = useCallback(async (text: string, loaded: OptionsList<FaqCategory>) => {\r\n    try {\r\n      const value = await getFaqCategoryList({\r\n        page: Math.ceil(loaded.length / 10) + 1,\r\n        limit: 10,\r\n        search: text,\r\n        status: 'ACTIVE',\r\n        type: 'HERMES',\r\n      })\r\n      const options = [...(value.data.data?.items ?? [])]\r\n      return {\r\n        options,\r\n        hasMore: options.length + loaded.length < (value.data.data?.total_item ?? 0),\r\n      }\r\n    } catch (e) {\r\n      return {options: [], hasMore: false}\r\n    }\r\n  }, [])\r\n\r\n  //start::TITLE_FUNC\r\n  const pageTitle = useMemo(\r\n    () =>\r\n      isDetail\r\n        ? FaqScreens.FAQ_EFOOD_CONTENT_DETAIL.TITLE\r\n        : FaqScreens.FAQ_EFOOD_CONTENT_CREATE.TITLE,\r\n    [isDetail]\r\n  )\r\n\r\n  const breadcrumbs = useMemo(\r\n    () => [\r\n      {\r\n        isActive: false,\r\n        path: FaqHermesTabs.CONTENT.PATH,\r\n        title: FaqHermesTabs.CONTENT.LABEL,\r\n      },\r\n      {isActive: false, path: '', title: '', isSeparator: true},\r\n    ],\r\n    []\r\n  )\r\n\r\n  useEffect(() => {\r\n    document.title = getTitle(pageTitle)\r\n  }, [])\r\n  //end::TITLE_FUNC\r\n\r\n  useCancelableEffect(\r\n    useCallback(() => {\r\n      if (id && detailLoaded === undefined)\r\n        getFaqContentDetail(id)\r\n          .then((res) => {\r\n            setValues(generateFaqContentForm(res.data.data))\r\n            setDetailLoaded(true)\r\n          })\r\n          .catch((e) => setDetailLoaded(false))\r\n    }, [id, detailLoaded]),\r\n    [id, detailLoaded]\r\n  )\r\n\r\n  useEffect(() => {\r\n    if (!isDetail || detailLoaded)\r\n      setContent(\r\n        (activeTab === 'id' ? formik.values.faq_content_id : formik.values.faq_content_en) ?? ''\r\n      )\r\n  }, [isDetail, detailLoaded, activeTab])\r\n\r\n  if (isDetail && !detailLoaded)\r\n    return (\r\n      <>\r\n        <PageTitle breadcrumbs={breadcrumbs}>{pageTitle}</PageTitle>\r\n\r\n        <div className='card'>\r\n          <div className='card-body'>\r\n            {detailLoaded !== false ? 'Loading...' : 'Error, try to refresh the page'}\r\n          </div>\r\n        </div>\r\n      </>\r\n    )\r\n\r\n  return (\r\n    <>\r\n      <PageTitle breadcrumbs={breadcrumbs}>{pageTitle}</PageTitle>\r\n\r\n      <div className='card'>\r\n        <form className='card-body' onSubmit={formik.handleSubmit} noValidate>\r\n          <div className='row'>\r\n            <div className='col-md-6 mb-8'>\r\n              <label className='flex-fill form-label text-gray-800'>Kategori*</label>\r\n              <AsyncPaginate\r\n                autoComplete='off'\r\n                components={ReactSelectMetronicTheme as SelectComponentsConfig<FaqCategory, false>}\r\n                value={formik.values.faq_category}\r\n                loadOptions={fetchCategory}\r\n                getOptionValue={(it: FaqCategory) => it.id ?? ''}\r\n                formatOptionLabel={(option: FaqCategory, meta) => formatCategoryLabel(option, meta)}\r\n                onChange={async (value: FaqCategory) => {\r\n                  formik.setFieldTouched('faq_category_id', true)\r\n                  setFieldValue('faq_category_id', value.id, true)\r\n                  setFieldValue('faq_category', value)\r\n                }}\r\n              />\r\n              {formik.touched.faq_category_id && formik.errors.faq_category_id && (\r\n                <div className='fv-plugins-message-container text-danger'>\r\n                  <span role='alert'>{formik.errors.faq_category_id}</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className='col-12 mb-8'>\r\n              <label className='flex-fill form-label text-gray-800'>Status</label>\r\n              <div className='form-check form-switch form-check-custom form-check-solid'>\r\n                <input\r\n                  className='form-check-input'\r\n                  type='checkbox'\r\n                  checked={formik.values.status === FaqContentStatus.ACTIVE}\r\n                  onChange={(e) => {\r\n                    setFieldValue(\r\n                      'status',\r\n                      e.target.checked ? FaqContentStatus.ACTIVE : FaqContentStatus.INACTIVE\r\n                    )\r\n                  }}\r\n                />\r\n                <label className='form-check-label'>\r\n                  {FaqContentStatusName[formik.values.status ?? 'ACTIVE']}\r\n                </label>\r\n              </div>\r\n              {formik.touched.status && formik.errors.status && (\r\n                <div className='fv-plugins-message-container text-danger'>\r\n                  <span role='alert'>{formik.errors.status}</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className='col-12 mb-8'>\r\n              <label className='flex-fill form-label text-gray-800'>\r\n                Judul (Bahasa Indonesia)*\r\n              </label>\r\n              <input\r\n                placeholder=''\r\n                {...formik.getFieldProps('faq_title_id')}\r\n                className={clsx('form-control form-control-lg form-control-solid')}\r\n                type='text'\r\n                autoComplete='off'\r\n              />\r\n              {formik.touched.faq_title_id && formik.errors.faq_title_id && (\r\n                <div className='fv-plugins-message-container text-danger'>\r\n                  <span role='alert'>{formik.errors.faq_title_id}</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className='col-12 mb-8'>\r\n              <label className='flex-fill form-label text-gray-800'>Judul (English)*</label>\r\n              <input\r\n                placeholder=''\r\n                {...formik.getFieldProps('faq_title_en')}\r\n                className={clsx('form-control form-control-lg form-control-solid')}\r\n                type='text'\r\n                autoComplete='off'\r\n              />\r\n              {formik.touched.faq_title_en && formik.errors.faq_title_en && (\r\n                <div className='fv-plugins-message-container text-danger'>\r\n                  <span role='alert'>{formik.errors.faq_title_en}</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className='d-flex justify-content-between align-items-end'>\r\n            <div className='flex-fill fs-2 my-4 fw-bolder'>Konten FAQ</div>\r\n            <ul\r\n              className='nav nav-tabs nav-line-tabs mb-0 fs-6 pb-3 border-0'\r\n              style={{flexWrap: 'nowrap', overflowX: 'auto'}}\r\n            >\r\n              {tabs.map((item) => (\r\n                <li className='nav-item flex-shrink-0' key={`tab-${item.label}`}>\r\n                  <Link\r\n                    className={clsx(\r\n                      'nav-link',\r\n                      activeTab === item.value\r\n                        ? 'active fw-bold text-success border-success border-bottom-2'\r\n                        : ''\r\n                    )}\r\n                    data-bs-toggle='tab'\r\n                    to='#'\r\n                    onClick={() => setActiveTab(item.value)}\r\n                  >\r\n                    {item.label}\r\n                  </Link>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n          <div style={{backgroundColor: '#E3E6EF', height: 1}} className='mb-4' />\r\n\r\n          {((formik.touched.faq_content_id && formik.errors.faq_content_id) ||\r\n            (formik.touched.faq_content_en && formik.errors.faq_content_en)) && (\r\n            <div className='fv-plugins-message-container text-danger'>\r\n              <span role='alert'>\r\n                <svg\r\n                  xmlns='http://www.w3.org/2000/svg'\r\n                  viewBox='0 0 12 12'\r\n                  width='12'\r\n                  height='12'\r\n                  fill='none'\r\n                  stroke='#f0426c'\r\n                >\r\n                  <circle cx='6' cy='6' r='4.5' />\r\n                  <path stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z' />\r\n                  <circle cx='6' cy='8.2' r='.6' fill='#f0426c' stroke='none' />\r\n                </svg>{' '}\r\n                {formik.errors.faq_content_id ?? formik.errors.faq_content_en}\r\n              </span>\r\n            </div>\r\n          )}\r\n          <div className='pb-4' />\r\n          <TextEditor\r\n            value={content}\r\n            onChange={(value, editor) => {\r\n              setContent(value)\r\n              const field = activeTab === 'id' ? 'faq_content_id' : 'faq_content_en'\r\n              formik.setFieldTouched(field, true)\r\n              setFieldValue(field, value, true)\r\n            }}\r\n          />\r\n          <div className='pb-8' />\r\n          <div style={{backgroundColor: '#E3E6EF', height: 1}} className='mb-8' />\r\n\r\n          <div className='d-flex'>\r\n            <Link className={`btn btn-lg btn-light fw-bolder me-4`} to={FaqHermesTabs.CONTENT.PATH}>\r\n              Kembali\r\n            </Link>\r\n            <button\r\n              type='submit'\r\n              className='btn btn-lg btn-secondary fw-bolder'\r\n              disabled={processing || formik.isSubmitting}\r\n            >\r\n              <span className='indicator-label'>Simpan</span>\r\n              {(processing || formik.isSubmitting) && (\r\n                <span className='indicator-progress'>\r\n                  Mohon Tunggu...\r\n                  <span className='spinner-border spinner-border-sm align-middle ms-2'></span>\r\n                </span>\r\n              )}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <GenericSaveModal\r\n        show={confirmModal}\r\n        processing={processing}\r\n        handleClose={() => setConfirmModal(false)}\r\n        handleContinue={() => submitFn(formik.values)}\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default FaqHermesContentDetail\r\n","import React, {FC, useCallback, useEffect, useState} from 'react'\r\nimport InlineSVG from 'react-inlinesvg/esm'\r\nimport Pagination from 'src/app/components/Pagination'\r\nimport {useDebounceEffect} from 'src/app/hooks/debounce-hook'\r\nimport {usePagination} from 'src/app/hooks/pagination-hook'\r\nimport {getTitle} from 'src/app/utils/title-utils'\r\nimport {PageTitle} from '../../../../_metronic/layout/core'\r\nimport {useHistory} from 'react-router-dom'\r\nimport Select from 'react-select'\r\nimport {ReactSelectMetronicTheme} from 'src/app/components/CustomReactSelect'\r\nimport {SelectComponentsConfig} from 'react-select'\r\nimport {useHeaderToast} from 'src/app/components/ToastComponent'\r\nimport {usePermissions} from 'src/app/hooks/permissions-hook'\r\nimport {getFaqCategoryList, FaqCategoryParams} from '../redux/FaqCategoryCRUD'\r\nimport {FaqCategory} from '../models/Faq'\r\nimport {FaqCategoryModel} from '../models/FaqCategory'\r\nimport {FormCategoryModalComponent} from './FormCategoryModalComponent'\r\n\r\nconst FaqHermesCategoryComponent: FC = () => {\r\n  const [loading, setLoading] = useState(false)\r\n  const [showFormModal, setShowFormModal] = useState(false)\r\n  const [detail, setDetail] = useState<FaqCategoryModel | undefined>(undefined)\r\n\r\n  const history = useHistory()\r\n  const {hasAccess} = usePermissions({code: 'setting_profil_store'})\r\n  const {addPageToasts} = useHeaderToast()\r\n  const {state, setLimit, setPage, setQuery} = usePagination<FaqCategoryModel, FaqCategoryParams>(\r\n    useCallback((state, setState, isActive, cancelToken) => {\r\n      setLoading(true)\r\n      const fetchCall = async () => {\r\n        try {\r\n          const categories = await getFaqCategoryList({\r\n            page: state.page,\r\n            limit: state.limit,\r\n            status: state.query.status ?? undefined,\r\n            search: state.query.search ?? undefined,\r\n            type: 'HERMES',\r\n          })\r\n          if (isActive()) {\r\n            setState((prev) => ({\r\n              ...prev,\r\n              loading: false,\r\n              refreshing: false,\r\n              error: false,\r\n              page: Number(categories.data.data?.current_page ?? 1),\r\n              data: categories.data.data?.items ?? [],\r\n              total: Number(categories.data.data?.total_item ?? 0),\r\n            }))\r\n          }\r\n          setLoading(false)\r\n        } catch (e) {\r\n          if (isActive()) {\r\n            setState((prev) => ({\r\n              ...prev,\r\n              loading: false,\r\n              error: true,\r\n              data: [],\r\n            }))\r\n          }\r\n          setLoading(false)\r\n        }\r\n      }\r\n\r\n      fetchCall()\r\n    }, []),\r\n    {\r\n      loading: false,\r\n      refreshing: false,\r\n      error: false,\r\n      page: 0,\r\n      data: [] as FaqCategory[],\r\n      total: 0,\r\n      limit: 10,\r\n      query: {},\r\n    }\r\n  )\r\n\r\n  const statusOptions = [\r\n    {label: 'Semua', value: undefined},\r\n    {label: 'Active', value: 'ACTIVE'},\r\n    {label: 'Inactive', value: 'INACTIVE'},\r\n  ]\r\n\r\n  //start::FILTER_QUERIES\r\n  const searchFn = useDebounceEffect(\r\n    useCallback(\r\n      (text: string) => {\r\n        setQuery((prev) => ({...prev, search: text}))\r\n      },\r\n      [setQuery]\r\n    ),\r\n    500\r\n  )\r\n  //end::FILTER_QUERIES\r\n\r\n  const handleStatus = (value?: boolean) => {\r\n    if (value) return <span className='badge badge-light-success'>Active</span>\r\n\r\n    return <span className='badge badge-light-dark'>Inactive</span>\r\n  }\r\n\r\n  const handleCategoryName = (value?: FaqCategoryModel, lang?: string, isParent?: boolean) => {\r\n    if (isParent)\r\n      return (\r\n        value?.parent?.faq_categories_languages?.find((item) => item?.lang === lang)?.name || '-'\r\n      )\r\n\r\n    return value?.faq_categories_languages?.find((item) => item?.lang === lang)?.name || '-'\r\n  }\r\n\r\n  useEffect(() => {\r\n    document.title = getTitle('Kategori FAQ eFOOD')\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    setPage(1)\r\n  }, [setPage])\r\n\r\n  useEffect(() => {\r\n    const locationState: any = history.location.state as any\r\n    if (locationState?.message) {\r\n      addPageToasts({scheme: 'info', text: locationState?.message})\r\n    }\r\n  }, [history.location])\r\n\r\n  return (\r\n    <>\r\n      <PageTitle description='List Kategori FAQ eFOOD Partner'>\r\n        Kategori FAQ eFOOD Partner\r\n      </PageTitle>\r\n      <div className='card'>\r\n        {loading && <div className='overlay-light'></div>}\r\n        <div className='card-header d-flex align-items-center'>\r\n          <div className='flex-fill fs-2 fw-bolder'>List Kategori FAQ eFOOD Partner</div>\r\n\r\n          {hasAccess({access: 'create'}) && (\r\n            <button onClick={() => setShowFormModal(true)} className='btn btn-secondary'>\r\n              Tambah Kategori\r\n            </button>\r\n          )}\r\n        </div>\r\n        <div className='card-body'>\r\n          {/* begin::Search */}\r\n          <div className='d-flex flex-wrap align-items-center'>\r\n            <div className='mb-4 w-lg-300px me-lg-4 w-100 position-relative'>\r\n              <InlineSVG\r\n                src={'/media/icons/efood/IconSearch.svg'}\r\n                className='position-absolute translate-middle-y top-50 ms-4 pe-none'\r\n              />\r\n              <input\r\n                placeholder='Cari'\r\n                className='form-control form-control-lg form-control-solid ps-13'\r\n                type='text'\r\n                autoComplete='off'\r\n                onChange={(e) => searchFn(e.currentTarget.value)}\r\n              />\r\n            </div>\r\n            <div className='mb-4 w-lg-auto me-lg-4 w-100 d-flex align-items-center'>\r\n              <span className='me-5 flex-shrink-0 fw-bold'>Filter Status</span>\r\n              <div className='position-relative w-lg-200px w-100'>\r\n                <Select\r\n                  autoComplete='off'\r\n                  components={ReactSelectMetronicTheme as SelectComponentsConfig<any, false>}\r\n                  options={statusOptions}\r\n                  defaultValue={{value: '', label: 'Semua'}}\r\n                  onChange={(value) =>\r\n                    setQuery((prev) => ({\r\n                      ...prev,\r\n                      status: value?.value,\r\n                    }))\r\n                  }\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {/* end::Search */}\r\n          {/* begin::Table */}\r\n          <div className='position-relative'>\r\n            <div className='table-responsive my-8'>\r\n              <table className='table table-striped table-hover gx-4 gy-4'>\r\n                <thead className='text-gray fw-700'>\r\n                  <tr>\r\n                    <th>No.</th>\r\n                    <th style={{minWidth: 100}}>Action</th>\r\n                    <th>Parent Kategori</th>\r\n                    <th>Nama Kategori</th>\r\n                    <th>Status</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {state.data.length === 0 ? (\r\n                    <tr>\r\n                      <td colSpan={7} className='text-center'>\r\n                        {state.loading ? (\r\n                          'Loading'\r\n                        ) : state.error ? (\r\n                          'Error, try to refresh the page'\r\n                        ) : (\r\n                          <div className='text-center'>\r\n                            <InlineSVG src='/media/icons/efood/IconFolder.svg' />\r\n                            <p>Belum ada kategori FAQ yang dibuat</p>\r\n                          </div>\r\n                        )}\r\n                      </td>\r\n                    </tr>\r\n                  ) : (\r\n                    state.data.map((value, index) => (\r\n                      <tr key={value.id}>\r\n                        <td className='align-middle fw-bold'>\r\n                          {(state.page - 1) * state.limit + index + 1}\r\n                        </td>\r\n                        <td className='align-middle'>\r\n                          <button\r\n                            className='btn-transparent'\r\n                            onClick={() => {\r\n                              setDetail(value)\r\n                              setShowFormModal(true)\r\n                            }}\r\n                          >\r\n                            <InlineSVG src={'/media/icons/efood/IconEdit.svg'} />\r\n                          </button>\r\n                        </td>\r\n                        <td className='align-middle'>\r\n                          <div>ID: {handleCategoryName(value, 'ID', true)}</div>\r\n                          <div>EN: {handleCategoryName(value, 'EN', true)}</div>\r\n                        </td>\r\n                        <td className='align-middle fw-bold'>\r\n                          <div>ID: {handleCategoryName(value, 'ID')}</div>\r\n                          <div>EN: {handleCategoryName(value, 'EN')}</div>\r\n                        </td>\r\n                        <td className='align-middle'>{handleStatus(value?.status === 'ACTIVE')}</td>\r\n                      </tr>\r\n                    ))\r\n                  )}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            {/* start::Loader */}\r\n            {state.data.length > 0 && state.loading ? (\r\n              <div\r\n                className='position-absolute top-0 start-0 end-0 bottom-0'\r\n                style={{backgroundColor: 'rgba(255,255,255,0.7)'}}\r\n              />\r\n            ) : null}\r\n            {/* end::Loader */}\r\n          </div>\r\n          {/* end::Table */}\r\n          <Pagination\r\n            loading={state.loading}\r\n            page={state.page}\r\n            limit={state.limit}\r\n            setPage={setPage}\r\n            setPerPage={setLimit}\r\n            maxData={state.total}\r\n          />\r\n        </div>\r\n      </div>\r\n      <FormCategoryModalComponent\r\n        show={showFormModal}\r\n        handleClose={() => {\r\n          setShowFormModal(false)\r\n          if (detail) setDetail(undefined)\r\n        }}\r\n        handleSuccess={() => {\r\n          setShowFormModal(false)\r\n          if (detail) setDetail(undefined)\r\n          addPageToasts({scheme: 'info', text: 'Data berhasil disimpan'})\r\n          setPage(1)\r\n        }}\r\n        data={detail}\r\n        type='HERMES'\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default FaqHermesCategoryComponent\r\n","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport clsx from 'clsx'\r\nimport React, {useCallback, useEffect, useMemo} from 'react'\r\nimport InlineSVG from 'react-inlinesvg/esm'\r\nimport {Link, useParams} from 'react-router-dom'\r\nimport Select, {FormatOptionLabelMeta, SelectComponentsConfig} from 'react-select'\r\nimport {AsyncPaginate, OptionsList} from 'react-select-async-paginate'\r\nimport {LabelValueProps, ReactSelectMetronicTheme} from 'src/app/components/CustomReactSelect'\r\nimport Pagination from 'src/app/components/Pagination'\r\nimport {useDebounceEffect} from 'src/app/hooks/debounce-hook'\r\nimport {usePagination} from 'src/app/hooks/pagination-hook'\r\nimport {FaqCategory, FaqContent, FaqContentStatusName, FaqContentStatusTheme} from '../models/Faq'\r\nimport {FaqContentParams, getFaqCategoryList, getFaqContentList} from '../redux/FaqCRUD'\r\nimport {FaqHermesTabs, FaqScreens} from '../Screens'\r\n\r\nconst FaqHermesContentWrapper: React.FC = ({children}) => {\r\n  return (\r\n    <div className='card mb-6'>\r\n      <div className='card-header d-flex align-items-center'>\r\n        <div className='flex-fill fs-2 fw-bolder'>{FaqHermesTabs.CONTENT.TITLE}</div>\r\n        <Link to={FaqScreens.FAQ_HERMES_CONTENT_CREATE.PATH} className='btn btn-secondary'>\r\n          Tambah Konten FAQ\r\n        </Link>\r\n      </div>\r\n      <div className='card-body'>{children}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst formatCategoryLabel = (\r\n  option: FaqCategory,\r\n  meta: FormatOptionLabelMeta<FaqCategory, false>\r\n) => {\r\n  if (meta.context === 'value')\r\n    return option.id\r\n      ? option.faq_categories_languages?.find((item) => item?.lang === 'ID')?.name ?? ''\r\n      : 'Semua'\r\n  const selected = meta.selectValue && (meta.selectValue as any)[0]\r\n  if (!option.id) return <div className='fw-bolder'>Semua</div>\r\n  return (\r\n    <div>\r\n      <div className='fw-bolder'>\r\n        {option.faq_categories_languages?.find((item) => item?.lang === 'ID')?.name}\r\n      </div>\r\n      <div className={clsx('fs-7', {'text-gray-600': option?.id !== selected?.id})}>\r\n        {option.faq_categories_languages?.find((item) => item?.lang === 'EN')?.name}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst FaqHermesContentComponent: React.FC = () => {\r\n  const {id, merchantId} = useParams<any>()\r\n\r\n  const {state, setLimit, setPage, setQuery} = usePagination<FaqContent, FaqContentParams>(\r\n    useCallback(\r\n      (inState, setState, isActive, cancelToken) => {\r\n        const fetchCall = async () => {\r\n          try {\r\n            const res = await getFaqContentList(\r\n              {\r\n                ...inState.query,\r\n                page: inState.page,\r\n                limit: inState.limit,\r\n                type: 'HERMES',\r\n              },\r\n              cancelToken\r\n            )\r\n            if (isActive()) {\r\n              setState((prev) => ({\r\n                ...prev,\r\n                loading: false,\r\n                refreshing: false,\r\n                error: false,\r\n                page: res.data.data?.current_page ?? 1,\r\n                data: res.data.data?.items ?? [],\r\n                total: res.data.data?.total_item ?? 0,\r\n              }))\r\n            }\r\n          } catch (e) {\r\n            if (isActive()) {\r\n              setState((prev) => ({\r\n                ...prev,\r\n                loading: false,\r\n                refreshing: false,\r\n                error: true,\r\n                data: [],\r\n              }))\r\n            }\r\n          }\r\n        }\r\n\r\n        fetchCall()\r\n      },\r\n      [merchantId, id]\r\n    ),\r\n    {\r\n      loading: false,\r\n      refreshing: false,\r\n      error: false,\r\n      page: 0,\r\n      data: [] as FaqContent[],\r\n      total: 0,\r\n      limit: 10,\r\n      query: {},\r\n    }\r\n  )\r\n\r\n  const searchFn = useDebounceEffect(\r\n    useCallback(\r\n      (text: string) => {\r\n        setQuery((prev) => ({...prev, search: text}))\r\n      },\r\n      [setQuery]\r\n    ),\r\n    500\r\n  )\r\n\r\n  const fetchCategory = useCallback(async (text: string, loaded: OptionsList<FaqCategory>) => {\r\n    try {\r\n      const value = await getFaqCategoryList({\r\n        page: loaded.length === 0 ? 1 : Math.ceil((loaded.length - 1) / 10) + 1,\r\n        limit: 10,\r\n        search: text,\r\n        status: 'ACTIVE',\r\n        type: 'HERMES',\r\n      })\r\n      const options =\r\n        loaded.length === 0\r\n          ? [{}, ...(value.data.data?.items ?? [])]\r\n          : [...(value.data.data?.items ?? [])]\r\n      return {\r\n        options,\r\n        hasMore: options.length + loaded.length <= (value.data.data?.total_item ?? 0),\r\n      }\r\n    } catch (e) {\r\n      return {options: [], hasMore: false}\r\n    }\r\n  }, [])\r\n\r\n  const statuses = useMemo(\r\n    () => [\r\n      {value: undefined, label: 'Semua'},\r\n      ...Object.keys(FaqContentStatusName).map((it) => ({\r\n        value: it,\r\n        label: FaqContentStatusName[it],\r\n      })),\r\n    ],\r\n    []\r\n  )\r\n\r\n  useEffect(() => {\r\n    setPage(1)\r\n  }, [])\r\n\r\n  if (\r\n    !state.loading &&\r\n    !state.error &&\r\n    !state.query.search &&\r\n    !state.query.category_id &&\r\n    !state.query.status &&\r\n    Number(state.page) === 1 &&\r\n    state.data.length === 0\r\n  )\r\n    return (\r\n      <FaqHermesContentWrapper>\r\n        <div className='d-flex flex-column align-items-center justify-content-center'>\r\n          <div>\r\n            <InlineSVG src='/media/icons/efood/IconFaqContentEmpty.svg' />\r\n          </div>\r\n          <div className='text-gray-600'>Belum ada konten FAQ yang dibuat</div>\r\n        </div>\r\n      </FaqHermesContentWrapper>\r\n    )\r\n\r\n  return (\r\n    <FaqHermesContentWrapper>\r\n      {/* begin::Search */}\r\n      <div className='row align-items-center'>\r\n        <div className='mb-4 col-md-4 position-relative'>\r\n          <InlineSVG\r\n            src={'/media/icons/efood/IconSearch.svg'}\r\n            className='position-absolute translate-middle-y top-50 ms-4 pe-none'\r\n          />\r\n          <input\r\n            placeholder='Cari'\r\n            className='form-control form-control-lg form-control-solid ps-13'\r\n            type='text'\r\n            autoComplete='off'\r\n            onChange={(e) => searchFn(e.currentTarget.value)}\r\n          />\r\n        </div>\r\n        <div className='mb-4 col-md-4 d-flex align-items-center'>\r\n          <span className='me-5 w-auto w-md-80px fw-bold'>Filter Kategori</span>\r\n          <div className='position-relative flex-fill'>\r\n            <AsyncPaginate\r\n              autoComplete='off'\r\n              components={ReactSelectMetronicTheme as SelectComponentsConfig<FaqCategory, false>}\r\n              loadOptions={fetchCategory}\r\n              defaultValue={{}}\r\n              getOptionValue={(it: FaqCategory) => it.id ?? ''}\r\n              formatOptionLabel={(option: FaqCategory, meta) => formatCategoryLabel(option, meta)}\r\n              onChange={(value: FaqCategory) =>\r\n                setQuery((prev) => ({\r\n                  ...prev,\r\n                  category_id: value?.id,\r\n                }))\r\n              }\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className='mb-4 col-md-4 d-flex align-items-center'>\r\n          <span className='me-5 w-auto w-md-80px fw-bold'>Filter Status</span>\r\n          <div className='position-relative flex-fill'>\r\n            <Select\r\n              autoComplete='off'\r\n              components={\r\n                ReactSelectMetronicTheme as SelectComponentsConfig<LabelValueProps, false>\r\n              }\r\n              options={statuses}\r\n              defaultValue={{value: undefined, label: 'Semua'}}\r\n              onChange={(value) =>\r\n                setQuery((prev) => ({\r\n                  ...prev,\r\n                  status: value?.value,\r\n                }))\r\n              }\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* end::Search */}\r\n      {/* begin::Table */}\r\n      <div className='position-relative'>\r\n        <div className='table-responsive my-8'>\r\n          <table className='table table-striped table-hover gx-4 gy-4'>\r\n            <thead className='text-gray fw-700'>\r\n              <tr>\r\n                <th>No.</th>\r\n                <th style={{minWidth: 100}}>Action</th>\r\n                <th>Kategori</th>\r\n                <th>Judul</th>\r\n                <th>Status</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {state.data.length === 0 ? (\r\n                <tr>\r\n                  <td colSpan={5} className='text-center'>\r\n                    {state.loading\r\n                      ? 'Loading'\r\n                      : state.error\r\n                      ? 'Error, try to refresh the page'\r\n                      : 'Data Kosong'}\r\n                  </td>\r\n                </tr>\r\n              ) : (\r\n                state.data.map((value, index) => (\r\n                  <tr key={value.id}>\r\n                    <td className='align-middle'>{(state.page - 1) * state.limit + index + 1}</td>\r\n                    <td className='align-middle'>\r\n                      <Link\r\n                        className='btn-transparent'\r\n                        to={FaqScreens.FAQ_HERMES_CONTENT_DETAIL.buildPath(value.id)}\r\n                      >\r\n                        <InlineSVG src={'/media/icons/efood/IconEdit.svg'} />\r\n                      </Link>\r\n                    </td>\r\n                    <td className='align-middle'>\r\n                      <div>\r\n                        ID:{' '}\r\n                        {\r\n                          value?.faq_category?.faq_categories_languages?.find(\r\n                            (item) => item?.lang === 'ID'\r\n                          )?.name\r\n                        }\r\n                      </div>\r\n                      <div>\r\n                        EN:{' '}\r\n                        {\r\n                          value?.faq_category?.faq_categories_languages?.find(\r\n                            (item) => item?.lang === 'EN'\r\n                          )?.name\r\n                        }\r\n                      </div>\r\n                    </td>\r\n                    <td className='align-middle'>\r\n                      <div>\r\n                        ID:{' '}\r\n                        {value?.faq_contents_languages?.find((item) => item?.lang === 'ID')?.title}\r\n                      </div>\r\n                      <div>\r\n                        EN:{' '}\r\n                        {value?.faq_contents_languages?.find((item) => item?.lang === 'EN')?.title}\r\n                      </div>\r\n                    </td>\r\n                    <td className='align-middle'>\r\n                      <span\r\n                        className={`badge ${\r\n                          FaqContentStatusTheme[value.status!] ?? 'badge-light-dark'\r\n                        }`}\r\n                      >\r\n                        {FaqContentStatusName[value.status!]}\r\n                      </span>\r\n                    </td>\r\n                  </tr>\r\n                ))\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        {/* start::Loader */}\r\n        {state.data.length > 0 && state.loading ? (\r\n          <div\r\n            className='position-absolute top-0 start-0 end-0 bottom-0'\r\n            style={{backgroundColor: 'rgba(255,255,255,0.7)'}}\r\n          />\r\n        ) : null}\r\n        {/* end::Loader */}\r\n      </div>\r\n      {/* end::Table */}\r\n      <Pagination\r\n        loading={state.loading}\r\n        page={Number(state.page)}\r\n        limit={state.limit}\r\n        setPage={setPage}\r\n        setPerPage={setLimit}\r\n        maxData={state.total}\r\n      />\r\n    </FaqHermesContentWrapper>\r\n  )\r\n}\r\n\r\nexport default FaqHermesContentComponent\r\n","import clsx from 'clsx'\r\nimport React, {useMemo} from 'react'\r\nimport {Link, Route, Switch, useParams} from 'react-router-dom'\r\nimport {PageTitle} from 'src/_metronic/layout/core'\r\nimport FaqHermesCategoryComponent from '../components/FaqHermesCategoryComponent'\r\nimport FaqHermesContentComponent from '../components/FaqHermesContentComponent'\r\nimport {FaqHermesTabs} from '../Screens'\r\n\r\ninterface TabModel {\r\n  tab: string\r\n  label: string\r\n  title: string\r\n  path: string\r\n}\r\n\r\nconst FaqHermesPage = () => {\r\n  const {tab}: any = useParams()\r\n\r\n  const tabs = useMemo(() => {\r\n    const result: TabModel[] = []\r\n    Object.values(FaqHermesTabs).forEach((item) => {\r\n      result.push({\r\n        tab: item.SLUG,\r\n        label: item.LABEL,\r\n        title: item.TITLE,\r\n        path: item.PATH,\r\n      })\r\n    })\r\n    return result\r\n  }, [])\r\n\r\n  const pageTitle = useMemo(() => tabs.find((it) => it.tab === tab)?.title, [tab, tabs])\r\n\r\n  return (\r\n    <div>\r\n      <PageTitle description={pageTitle}>{pageTitle}</PageTitle>\r\n      <ul\r\n        className='nav nav-tabs nav-line-tabs mb-5 fs-6 pb-3 border-0 mb-10'\r\n        style={{flexWrap: 'nowrap', overflowX: 'auto'}}\r\n      >\r\n        {tabs.map((item: TabModel) => (\r\n          <li className='nav-item flex-shrink-0' key={item.label}>\r\n            <Link\r\n              className={clsx(\r\n                'nav-link',\r\n                tab === item.tab ? 'active fw-bold text-success border-success border-bottom-2' : ''\r\n              )}\r\n              data-bs-toggle='tab'\r\n              to={item.path}\r\n            >\r\n              {item.label}\r\n            </Link>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n\r\n      <Switch>\r\n        <Route path={FaqHermesTabs.CATEGORY.PATH} component={FaqHermesCategoryComponent} />\r\n        <Route path={FaqHermesTabs.CONTENT.PATH} component={FaqHermesContentComponent} />\r\n      </Switch>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FaqHermesPage\r\n","import React from 'react'\r\nimport {Redirect, Route, Switch} from 'react-router-dom'\r\nimport FaqEfoodContentDetail from './pages/FaqEfoodContentDetail'\r\nimport FaqEfoodPage from './pages/FaqEfoodPage'\r\nimport FaqHermesContentDetail from './pages/FaqHermesContentDetail'\r\nimport FaqHermesPage from './pages/FaqHermesPage'\r\nimport {FaqEfoodTabs, FaqScreens} from './Screens'\r\nconst FaqRoutes = () => {\r\n  return (\r\n    <Switch>\r\n      <Route\r\n        path={FaqScreens.FAQ_EFOOD_CONTENT_CREATE.PATH}\r\n        component={FaqEfoodContentDetail}\r\n        exact\r\n      />\r\n      <Route\r\n        path={FaqScreens.FAQ_EFOOD_CONTENT_DETAIL.PATH}\r\n        component={FaqEfoodContentDetail}\r\n        exact\r\n      />\r\n      <Route path={FaqScreens.FAQ_EFOOD.PATH} component={FaqEfoodPage} exact />\r\n      <Route\r\n        path={FaqScreens.FAQ_HERMES_CONTENT_CREATE.PATH}\r\n        component={FaqHermesContentDetail}\r\n        exact\r\n      />\r\n      <Route\r\n        path={FaqScreens.FAQ_HERMES_CONTENT_DETAIL.PATH}\r\n        component={FaqHermesContentDetail}\r\n        exact\r\n      />\r\n      <Route path={FaqScreens.FAQ_HERMES.PATH} component={FaqHermesPage} exact />\r\n      <Redirect from={FaqScreens.FAQ_EFOOD.BASE_PATH} to={FaqEfoodTabs.CATEGORY.PATH} />\r\n      <Redirect to={FaqEfoodTabs.CATEGORY.PATH} />\r\n    </Switch>\r\n  )\r\n}\r\n\r\nexport default FaqRoutes\r\n"],"sourceRoot":""}